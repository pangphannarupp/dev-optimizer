import{j as e,I as j,X as R,R as U,ae as F}from"./ui-vendor-DEvE63cZ.js";import{r as a}from"./react-vendor-BGp5FbCG.js";import{DropZone as z}from"./DropZone-Ddsx4Ooe.js";import{u as L,c as m}from"./index-QRt--NjA.js";import"./framer-vendor-DEiCTn3G.js";import"./utils-vendor-CJFcDo9C.js";function _(){const{t:o}=L(),[i,u]=a.useState("toBase64"),[v,b]=a.useState(null),[n,h]=a.useState(null),[d,p]=a.useState(""),[y,c]=a.useState(!1),[f,k]=a.useState(""),[s,g]=a.useState(null),w=a.useCallback(t=>{if(t.length>0){const r=t[0];b(r);const l=URL.createObjectURL(r);h(l);const x=new FileReader;x.onloadend=()=>{const I=x.result;p(I)},x.readAsDataURL(r)}},[]),N=a.useCallback(()=>{n&&URL.revokeObjectURL(n),b(null),h(null),p(""),c(!1)},[n]),C=a.useCallback(()=>{navigator.clipboard.writeText(d),c(!0),setTimeout(()=>c(!1),2e3)},[d]),S=a.useCallback(t=>{const r=t.target.value;if(k(r),!r.trim()){g(null);return}let l=r.trim();l.startsWith("data:image/")||(l=`data:image/png;base64,${l}`),g(l)},[]),B=a.useCallback(()=>{if(!s)return;const t=document.createElement("a");t.href=s,t.download=`converted_image_${Date.now()}.png`,document.body.appendChild(t),t.click(),document.body.removeChild(t)},[s]);return e.jsx("div",{className:"flex flex-col gap-6 max-w-4xl mx-auto w-full",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white flex items-center gap-2",children:[e.jsx(j,{className:"w-5 h-5 text-blue-500"}),o("base64.title")]}),e.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700/50 p-1 rounded-lg",children:[e.jsx("button",{onClick:()=>u("toBase64"),className:m("px-4 py-1.5 rounded-md text-sm font-medium transition-all",i==="toBase64"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"),children:"Image → Base64"}),e.jsx("button",{onClick:()=>u("toImage"),className:m("px-4 py-1.5 rounded-md text-sm font-medium transition-all",i==="toImage"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"),children:"Base64 → Image"})]})]}),i==="toBase64"?v?e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"aspect-video w-full bg-gray-100 dark:bg-gray-900 rounded-lg overflow-hidden flex items-center justify-center border border-gray-200 dark:border-gray-700",children:n&&e.jsx("img",{src:n,alt:"Preview",className:"max-w-full max-h-full object-contain"})}),e.jsx("button",{onClick:N,className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",title:o("common.remove"),children:e.jsx(R,{size:16})})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:o("base64.outputString")}),e.jsxs("span",{className:"text-xs text-gray-500",children:[d.length.toLocaleString()," chars"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{readOnly:!0,value:d,className:"w-full h-48 p-4 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg font-mono text-xs text-gray-600 dark:text-gray-300 resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),e.jsx("button",{onClick:C,className:m("absolute top-4 right-4 p-2 rounded-lg transition-all flex items-center gap-2 text-sm font-medium",y?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"),children:y?e.jsxs(e.Fragment,{children:[e.jsx(U,{size:16}),o("common.copied")]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{size:16}),o("common.copy")]})})]})]})]}):e.jsx(z,{onFilesDropped:w}):e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Paste Base64 String"}),e.jsx("textarea",{value:f,onChange:S,placeholder:"Paste your Base64 string here (with or without 'data:image/...;base64,' prefix)...",className:"w-full h-32 p-4 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg font-mono text-xs text-gray-600 dark:text-gray-300 resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none solution-editor"})]}),s&&e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Preview & Save"}),e.jsx("div",{className:"aspect-video w-full bg-gray-100 dark:bg-gray-900 rounded-lg overflow-hidden flex items-center justify-center border border-gray-200 dark:border-gray-700 p-4",children:e.jsx("img",{src:s,alt:"Converted",className:"max-w-full max-h-full object-contain shadow-sm",onError:()=>g(null)})}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[e.jsx(j,{size:18}),"Save Image"]})})]}),!s&&f&&e.jsx("div",{className:"text-amber-500 text-sm flex items-center gap-2 bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg border border-amber-200 dark:border-amber-900/30",children:e.jsx("span",{children:"⚠️ Invalid or unsupported Base64 image string"})})]})]})})}export{_ as ImageToBase64};
