import{j as i,I as P,Y as A,o as j}from"./ui-vendor-DEvE63cZ.js";import{r as f}from"./react-vendor-BGp5FbCG.js";import{J as C,F as G}from"./utils-vendor-CJFcDo9C.js";import{DropZone as k}from"./DropZone-DQm83MhS.js";import{u as D}from"./index-DH-nAFKK.js";import"./framer-vendor-DEiCTn3G.js";const E=[{name:"Icon-20@2x.png",size:40,path:"ios/AppIcon.appiconset",idiom:"iphone",scale:"2x"},{name:"Icon-20@3x.png",size:60,path:"ios/AppIcon.appiconset",idiom:"iphone",scale:"3x"},{name:"Icon-29@2x.png",size:58,path:"ios/AppIcon.appiconset",idiom:"iphone",scale:"2x"},{name:"Icon-29@3x.png",size:87,path:"ios/AppIcon.appiconset",idiom:"iphone",scale:"3x"},{name:"Icon-40@2x.png",size:80,path:"ios/AppIcon.appiconset",idiom:"iphone",scale:"2x"},{name:"Icon-40@3x.png",size:120,path:"ios/AppIcon.appiconset",idiom:"iphone",scale:"3x"},{name:"Icon-60@2x.png",size:120,path:"ios/AppIcon.appiconset",idiom:"iphone",scale:"2x"},{name:"Icon-60@3x.png",size:180,path:"ios/AppIcon.appiconset",idiom:"iphone",scale:"3x"},{name:"Icon-20-ipad.png",size:20,path:"ios/AppIcon.appiconset",idiom:"ipad",scale:"1x"},{name:"Icon-20-ipad@2x.png",size:40,path:"ios/AppIcon.appiconset",idiom:"ipad",scale:"2x"},{name:"Icon-29-ipad.png",size:29,path:"ios/AppIcon.appiconset",idiom:"ipad",scale:"1x"},{name:"Icon-29-ipad@2x.png",size:58,path:"ios/AppIcon.appiconset",idiom:"ipad",scale:"2x"},{name:"Icon-40-ipad.png",size:40,path:"ios/AppIcon.appiconset",idiom:"ipad",scale:"1x"},{name:"Icon-40-ipad@2x.png",size:80,path:"ios/AppIcon.appiconset",idiom:"ipad",scale:"2x"},{name:"Icon-76.png",size:76,path:"ios/AppIcon.appiconset",idiom:"ipad",scale:"1x"},{name:"Icon-76@2x.png",size:152,path:"ios/AppIcon.appiconset",idiom:"ipad",scale:"2x"},{name:"Icon-83.5@2x.png",size:167,path:"ios/AppIcon.appiconset",idiom:"ipad",scale:"2x"},{name:"Icon-1024.png",size:1024,path:"ios/AppIcon.appiconset",idiom:"ios-marketing",scale:"1x"}],R=[{name:"ic_launcher.png",size:48,path:"android/mipmap-mdpi",platform:"mdpi"},{name:"ic_launcher.png",size:72,path:"android/mipmap-hdpi",platform:"hdpi"},{name:"ic_launcher.png",size:96,path:"android/mipmap-xhdpi",platform:"xhdpi"},{name:"ic_launcher.png",size:144,path:"android/mipmap-xxhdpi",platform:"xxhdpi"},{name:"ic_launcher.png",size:192,path:"android/mipmap-xxxhdpi",platform:"xxxhdpi"},{name:"ic_launcher_playstore.png",size:512,path:"android",platform:"Play Store"}],$=[{name:"icon_16x16.png",size:16,path:"macos"},{name:"icon_32x32.png",size:32,path:"macos"},{name:"icon_128x128.png",size:128,path:"macos"},{name:"icon_256x256.png",size:256,path:"macos"},{name:"icon_512x512.png",size:512,path:"macos"},{name:"icon_512x512@2x.png",size:1024,path:"macos"}],O=[{name:"icon_16x16.png",size:16,path:"windows"},{name:"icon_32x32.png",size:32,path:"windows"},{name:"icon_48x48.png",size:48,path:"windows"},{name:"icon_256x256.png",size:256,path:"windows"}],U=[{name:"icon_16x16.png",size:16,path:"linux"},{name:"icon_32x32.png",size:32,path:"linux"},{name:"icon_48x48.png",size:48,path:"linux"},{name:"icon_128x128.png",size:128,path:"linux"},{name:"icon_256x256.png",size:256,path:"linux"}],L=[{name:"ic_launcher_round.png",size:48,path:"android/mipmap-mdpi",platform:"mdpi"},{name:"ic_launcher_round.png",size:72,path:"android/mipmap-hdpi",platform:"hdpi"},{name:"ic_launcher_round.png",size:96,path:"android/mipmap-xhdpi",platform:"xhdpi"},{name:"ic_launcher_round.png",size:144,path:"android/mipmap-xxhdpi",platform:"xxhdpi"},{name:"ic_launcher_round.png",size:192,path:"android/mipmap-xxxhdpi",platform:"xxxhdpi"}],M=[{name:"ic_splash_round.png",size:512,path:"android",platform:"Splash"}],b=(m,a)=>new Promise((s,o)=>{const l=document.createElement("canvas");l.width=a,l.height=a;const r=l.getContext("2d");if(!r){o(new Error("Canvas context not available"));return}r.drawImage(m,0,0,a,a),l.toBlob(p=>{p?s(p):o(new Error("Canvas to Blob failed"))},"image/png")}),B=(m,a)=>new Promise((s,o)=>{const l=document.createElement("canvas");l.width=a,l.height=a;const r=l.getContext("2d");if(!r){o(new Error("Canvas context not available"));return}r.beginPath(),r.arc(a/2,a/2,a/2,0,Math.PI*2),r.closePath(),r.clip(),r.drawImage(m,0,0,a,a),l.toBlob(p=>{p?s(p):o(new Error("Canvas to Blob failed"))},"image/png")}),F=(m,a)=>new Promise((s,o)=>{const l=document.createElement("canvas");l.width=a,l.height=a;const r=l.getContext("2d");if(!r){o(new Error("Canvas context not available"));return}const p=a*.2,u=a-p*2,c=a/2,z=u/2;r.beginPath(),r.arc(c,c,z,0,Math.PI*2),r.closePath(),r.clip(),r.drawImage(m,p,p,u,u),l.toBlob(w=>{w?s(w):o(new Error("Canvas to Blob failed"))},"image/png")}),t=(m,a)=>{const s=document.createElement("canvas");s.width=a,s.height=a;const o=s.getContext("2d");return o?(o.drawImage(m,0,0,a,a),s.toDataURL("image/png")):""},I=(m,a)=>{const s=document.createElement("canvas");s.width=a,s.height=a;const o=s.getContext("2d");return o?(o.beginPath(),o.arc(a/2,a/2,a/2,0,Math.PI*2),o.closePath(),o.clip(),o.drawImage(m,0,0,a,a),s.toDataURL("image/png")):""},J=(m,a)=>{const s=document.createElement("canvas");s.width=a,s.height=a;const o=s.getContext("2d");if(!o)return"";const l=a*.2,r=a-l*2,p=a/2,u=r/2;return o.beginPath(),o.arc(p,p,u,0,Math.PI*2),o.closePath(),o.clip(),o.drawImage(m,l,l,r,r),s.toDataURL("image/png")},Y=()=>{const[m,a]=f.useState(null),[s,o]=f.useState(null),[l,r]=f.useState(!1),[p,u]=f.useState(null),{t:c}=D(),z=f.useCallback(e=>{if(e.length>0){const d=e[0];a(d),o(URL.createObjectURL(d))}},[]);f.useEffect(()=>{if(!s){u(null);return}const e=new Image;e.onload=()=>{u({android:[{size:48,url:t(e,48),label:"48px (mdpi)"},{size:72,url:t(e,72),label:"72px (hdpi)"},{size:96,url:t(e,96),label:"96px (xhdpi)"},{size:144,url:t(e,144),label:"144px (xxhdpi)"},{size:192,url:t(e,192),label:"192px (xxxhdpi)"},{size:512,url:t(e,512),label:"512px (Play Store)"}],androidRound:[{size:48,url:I(e,48),label:"48px (mdpi)"},{size:72,url:I(e,72),label:"72px (hdpi)"},{size:96,url:I(e,96),label:"96px (xhdpi)"},{size:144,url:I(e,144),label:"144px (xxhdpi)"},{size:192,url:I(e,192),label:"192px (xxxhdpi)"}],androidSplash:[{size:512,url:J(e,512),label:"512px (Splash)"}],iosIPhone:[{size:60,url:t(e,60),label:"60px"},{size:120,url:t(e,120),label:"120px"},{size:180,url:t(e,180),label:"180px"}],iosIPad:[{size:76,url:t(e,76),label:"76px"},{size:152,url:t(e,152),label:"152px"},{size:167,url:t(e,167),label:"167px"}],iosAppStore:[{size:1024,url:t(e,1024),label:"1024px"}],macos:[{size:16,url:t(e,16),label:"16px"},{size:32,url:t(e,32),label:"32px"},{size:128,url:t(e,128),label:"128px"},{size:256,url:t(e,256),label:"256px"},{size:512,url:t(e,512),label:"512px"},{size:1024,url:t(e,1024),label:"1024px (@2x)"}],windows:[{size:16,url:t(e,16),label:"16px"},{size:32,url:t(e,32),label:"32px"},{size:48,url:t(e,48),label:"48px"},{size:256,url:t(e,256),label:"256px"}],linux:[{size:16,url:t(e,16),label:"16px"},{size:32,url:t(e,32),label:"32px"},{size:48,url:t(e,48),label:"48px"},{size:128,url:t(e,128),label:"128px"},{size:256,url:t(e,256),label:"256px"}]})},e.src=s},[s]);const w=async()=>{if(!(!m||!s)){r(!0);try{const e=new Image;e.src=s,await new Promise(n=>e.onload=n);const d=new C,g={images:[],info:{author:"xcode",version:1}};for(const n of E){const x=await b(e,n.size);d.file(`${n.path}/${n.name}`,x);const S=n.scale==="1x"?1:n.scale==="2x"?2:3,_=n.size/S;g.images.push({filename:n.name,idiom:n.idiom,scale:n.scale,size:`${_}x${_}`})}d.file("ios/AppIcon.appiconset/Contents.json",JSON.stringify(g,null,2));for(const n of R){const x=await b(e,n.size);d.file(`${n.path}/${n.name}`,x)}for(const n of L){const x=await B(e,n.size);d.file(`${n.path}/${n.name}`,x)}for(const n of M){const x=await F(e,n.size);d.file(`${n.path}/${n.name}`,x)}for(const n of $){const x=await b(e,n.size);d.file(`${n.path}/${n.name}`,x)}for(const n of O){const x=await b(e,n.size);d.file(`${n.path}/${n.name}`,x)}for(const n of U){const x=await b(e,n.size);d.file(`${n.path}/${n.name}`,x)}const v=await b(e,1024);d.file("AppStore_Icon_1024.png",v);const y=await b(e,512);d.file("PlayStore_Icon_512.png",y);const N=await d.generateAsync({type:"blob"});G.saveAs(N,"AppIcons.zip")}catch(e){console.error("Error generating icons:",e),alert(c("iconGenerator.alert.generateError"))}finally{r(!1)}}},h=(e,d)=>i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide",children:e}),i.jsx("div",{className:"flex flex-wrap gap-3",children:d.map(g=>i.jsxs("div",{className:"flex flex-col items-center gap-1",children:[i.jsx("div",{className:"border-2 border-gray-200 dark:border-gray-600 rounded-lg overflow-hidden bg-white dark:bg-gray-700 shadow-sm",style:{width:Math.min(g.size,80),height:Math.min(g.size,80)},children:i.jsx("img",{src:g.url,alt:g.label,className:"w-full h-full object-contain"})}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:g.label})]},g.url))})]});return i.jsx("div",{className:"flex flex-col gap-6 max-w-6xl mx-auto w-full",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 transition-colors",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(P,{className:"text-blue-600"}),c("iconGenerator.title")]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:c("iconGenerator.description")}),m?i.jsxs("div",{className:"flex flex-col gap-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"relative w-32 h-32 rounded-xl overflow-hidden border-2 border-gray-200 dark:border-gray-700 shadow-md flex-shrink-0",children:i.jsx("img",{src:s,alt:"Source",className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>{a(null),o(null)},className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",disabled:l,children:c("iconGenerator.upload")}),i.jsx("button",{onClick:w,disabled:l,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm",children:l?i.jsxs(i.Fragment,{children:[i.jsx(A,{className:"animate-spin",size:20}),c("iconGenerator.generate"),"..."]}):i.jsxs(i.Fragment,{children:[i.jsx(j,{size:20}),c("iconGenerator.download")]})})]})]}),p&&i.jsxs("div",{className:"space-y-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:c("iconGenerator.preview")}),h(c("iconGenerator.platform.android"),p.android),h(c("iconGenerator.platform.androidRound"),p.androidRound),h(c("iconGenerator.platform.androidSplash"),p.androidSplash),h(c("iconGenerator.platform.iosIPhone"),p.iosIPhone),h(c("iconGenerator.platform.iosIPad"),p.iosIPad),h(c("iconGenerator.platform.iosAppStore"),p.iosAppStore),h(c("iconGenerator.platform.macos"),p.macos),h(c("iconGenerator.platform.windows"),p.windows),h(c("iconGenerator.platform.linux"),p.linux)]})]}):i.jsx(k,{onFilesDropped:z,className:"h-64"})]})})};export{Y as IconGenerator};
