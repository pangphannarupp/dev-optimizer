import{j as w,N as _0,E as by,p as x0,J as _y,am as xy,an as wy,Y as vl,X as en,al as ml,k as ai,W as Ey,o as yl,ao as Sy,ap as Ny,aq as Cy,ad as Ry,ar as qy,as as Ay}from"./ui-vendor-DEvE63cZ.js";import{r as x,g as w0,R as I,c as tn}from"./react-vendor-BGp5FbCG.js";import{DropZone as bl}from"./DropZone-Ddsx4Ooe.js";import{c as Ac,J as Ty,F as _l}from"./utils-vendor-CJFcDo9C.js";import{u as Er,r as ky,w as Iy}from"./xlsx-C4WIP9QO.js";import{s as My,c as oi,u as Py}from"./index-QRt--NjA.js";import"./framer-vendor-DEiCTn3G.js";function Le(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=Le(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var E0={exports:{}},S0={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kn=x,Oy=My;function jy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $y=typeof Object.is=="function"?Object.is:jy,Dy=Oy.useSyncExternalStore,Ly=kn.useRef,Fy=kn.useEffect,zy=kn.useMemo,Hy=kn.useDebugValue;S0.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=Ly(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=zy(function(){function u(h){if(!l){if(l=!0,c=h,h=n(h),i!==void 0&&o.hasValue){var p=o.value;if(i(p,h))return f=p}return f=h}if(p=f,$y(c,h))return p;var g=n(h);return i!==void 0&&i(p,g)?(c=h,p):(c=h,f=g)}var l=!1,c,f,d=r===void 0?null:r;return[function(){return u(t())},d===null?void 0:function(){return u(d())}]},[t,r,n,i]);var s=Dy(e,a[0],a[1]);return Fy(function(){o.hasValue=!0,o.value=s},[s]),Hy(s),s};E0.exports=S0;var By=E0.exports;const Vy=w0(By),Gy={},xl=e=>{let t;const r=new Set,n=(c,f)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const h=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),r.forEach(p=>p(t,h))}},i=()=>t,u={setState:n,getState:i,getInitialState:()=>l,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{(Gy?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},l=t=e(n,i,u);return u},Uy=e=>e?xl(e):xl,{useDebugValue:Ky}=I,{useSyncExternalStoreWithSelector:Yy}=Vy,Wy=e=>e;function N0(e,t=Wy,r){const n=Yy(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return Ky(n),n}const wl=(e,t)=>{const r=Uy(e),n=(i,a=t)=>N0(r,i,a);return Object.assign(n,r),n},Xy=(e,t)=>e?wl(e,t):wl;function je(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,i]of e)if(!Object.is(i,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}var Zy={value:()=>{}};function In(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new gn(r)}function gn(e){this._=e}function Jy(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}gn.prototype=In.prototype={constructor:gn,on:function(e,t){var r=this._,n=Jy(e+"",r),i,a=-1,o=n.length;if(arguments.length<2){for(;++a<o;)if((i=(e=n[a]).type)&&(i=Qy(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=n[a]).type)r[i]=El(r[i],e.name,t);else if(t==null)for(i in r)r[i]=El(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new gn(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,a;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],n=0,i=a.length;n<i;++n)a[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,a=n.length;i<a;++i)n[i].value.apply(t,r)}};function Qy(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function El(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=Zy,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var lc="http://www.w3.org/1999/xhtml";const Sl={svg:"http://www.w3.org/2000/svg",xhtml:lc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Mn(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Sl.hasOwnProperty(t)?{space:Sl[t],local:e}:e}function eb(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===lc&&t.documentElement.namespaceURI===lc?t.createElement(e):t.createElementNS(r,e)}}function tb(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function C0(e){var t=Mn(e);return(t.local?tb:eb)(t)}function rb(){}function Tc(e){return e==null?rb:function(){return this.querySelector(e)}}function nb(e){typeof e!="function"&&(e=Tc(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],o=a.length,s=n[i]=new Array(o),u,l,c=0;c<o;++c)(u=a[c])&&(l=e.call(u,u.__data__,c,a))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new We(n,this._parents)}function ib(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ab(){return[]}function R0(e){return e==null?ab:function(){return this.querySelectorAll(e)}}function ob(e){return function(){return ib(e.apply(this,arguments))}}function sb(e){typeof e=="function"?e=ob(e):e=R0(e);for(var t=this._groups,r=t.length,n=[],i=[],a=0;a<r;++a)for(var o=t[a],s=o.length,u,l=0;l<s;++l)(u=o[l])&&(n.push(e.call(u,u.__data__,l,o)),i.push(u));return new We(n,i)}function q0(e){return function(){return this.matches(e)}}function A0(e){return function(t){return t.matches(e)}}var ub=Array.prototype.find;function cb(e){return function(){return ub.call(this.children,e)}}function lb(){return this.firstElementChild}function fb(e){return this.select(e==null?lb:cb(typeof e=="function"?e:A0(e)))}var db=Array.prototype.filter;function hb(){return Array.from(this.children)}function gb(e){return function(){return db.call(this.children,e)}}function pb(e){return this.selectAll(e==null?hb:gb(typeof e=="function"?e:A0(e)))}function vb(e){typeof e!="function"&&(e=q0(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],o=a.length,s=n[i]=[],u,l=0;l<o;++l)(u=a[l])&&e.call(u,u.__data__,l,a)&&s.push(u);return new We(n,this._parents)}function T0(e){return new Array(e.length)}function mb(){return new We(this._enter||this._groups.map(T0),this._parents)}function yn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}yn.prototype={constructor:yn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function yb(e){return function(){return e}}function bb(e,t,r,n,i,a){for(var o=0,s,u=t.length,l=a.length;o<l;++o)(s=t[o])?(s.__data__=a[o],n[o]=s):r[o]=new yn(e,a[o]);for(;o<u;++o)(s=t[o])&&(i[o]=s)}function _b(e,t,r,n,i,a,o){var s,u,l=new Map,c=t.length,f=a.length,d=new Array(c),h;for(s=0;s<c;++s)(u=t[s])&&(d[s]=h=o.call(u,u.__data__,s,t)+"",l.has(h)?i[s]=u:l.set(h,u));for(s=0;s<f;++s)h=o.call(e,a[s],s,a)+"",(u=l.get(h))?(n[s]=u,u.__data__=a[s],l.delete(h)):r[s]=new yn(e,a[s]);for(s=0;s<c;++s)(u=t[s])&&l.get(d[s])===u&&(i[s]=u)}function xb(e){return e.__data__}function wb(e,t){if(!arguments.length)return Array.from(this,xb);var r=t?_b:bb,n=this._parents,i=this._groups;typeof e!="function"&&(e=yb(e));for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=n[l],f=i[l],d=f.length,h=Eb(e.call(c,c&&c.__data__,l,n)),p=h.length,g=s[l]=new Array(p),m=o[l]=new Array(p),y=u[l]=new Array(d);r(c,f,g,m,y,h,t);for(var b=0,S=0,_,q;b<p;++b)if(_=g[b]){for(b>=S&&(S=b+1);!(q=m[S])&&++S<p;);_._next=q||null}}return o=new We(o,n),o._enter=s,o._exit=u,o}function Eb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Sb(){return new We(this._exit||this._groups.map(T0),this._parents)}function Nb(e,t,r){var n=this.enter(),i=this,a=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?a.remove():r(a),n&&i?n.merge(i).order():i}function Cb(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,a=n.length,o=Math.min(i,a),s=new Array(i),u=0;u<o;++u)for(var l=r[u],c=n[u],f=l.length,d=s[u]=new Array(f),h,p=0;p<f;++p)(h=l[p]||c[p])&&(d[p]=h);for(;u<i;++u)s[u]=r[u];return new We(s,this._parents)}function Rb(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,a=n[i],o;--i>=0;)(o=n[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function qb(e){e||(e=Ab);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var o=r[a],s=o.length,u=i[a]=new Array(s),l,c=0;c<s;++c)(l=o[c])&&(u[c]=l);u.sort(t)}return new We(i,this._parents).order()}function Ab(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Tb(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function kb(){return Array.from(this)}function Ib(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length;i<a;++i){var o=n[i];if(o)return o}return null}function Mb(){let e=0;for(const t of this)++e;return e}function Pb(){return!this.node()}function Ob(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],a=0,o=i.length,s;a<o;++a)(s=i[a])&&e.call(s,s.__data__,a,i);return this}function jb(e){return function(){this.removeAttribute(e)}}function $b(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Db(e,t){return function(){this.setAttribute(e,t)}}function Lb(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Fb(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function zb(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Hb(e,t){var r=Mn(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?$b:jb:typeof t=="function"?r.local?zb:Fb:r.local?Lb:Db)(r,t))}function k0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Bb(e){return function(){this.style.removeProperty(e)}}function Vb(e,t,r){return function(){this.style.setProperty(e,t,r)}}function Gb(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function Ub(e,t,r){return arguments.length>1?this.each((t==null?Bb:typeof t=="function"?Gb:Vb)(e,t,r??"")):fr(this.node(),e)}function fr(e,t){return e.style.getPropertyValue(t)||k0(e).getComputedStyle(e,null).getPropertyValue(t)}function Kb(e){return function(){delete this[e]}}function Yb(e,t){return function(){this[e]=t}}function Wb(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function Xb(e,t){return arguments.length>1?this.each((t==null?Kb:typeof t=="function"?Wb:Yb)(e,t)):this.node()[e]}function I0(e){return e.trim().split(/^|\s+/)}function kc(e){return e.classList||new M0(e)}function M0(e){this._node=e,this._names=I0(e.getAttribute("class")||"")}M0.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function P0(e,t){for(var r=kc(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function O0(e,t){for(var r=kc(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function Zb(e){return function(){P0(this,e)}}function Jb(e){return function(){O0(this,e)}}function Qb(e,t){return function(){(t.apply(this,arguments)?P0:O0)(this,e)}}function e_(e,t){var r=I0(e+"");if(arguments.length<2){for(var n=kc(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?Qb:t?Zb:Jb)(r,t))}function t_(){this.textContent=""}function r_(e){return function(){this.textContent=e}}function n_(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function i_(e){return arguments.length?this.each(e==null?t_:(typeof e=="function"?n_:r_)(e)):this.node().textContent}function a_(){this.innerHTML=""}function o_(e){return function(){this.innerHTML=e}}function s_(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function u_(e){return arguments.length?this.each(e==null?a_:(typeof e=="function"?s_:o_)(e)):this.node().innerHTML}function c_(){this.nextSibling&&this.parentNode.appendChild(this)}function l_(){return this.each(c_)}function f_(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function d_(){return this.each(f_)}function h_(e){var t=typeof e=="function"?e:C0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function g_(){return null}function p_(e,t){var r=typeof e=="function"?e:C0(e),n=t==null?g_:typeof t=="function"?t:Tc(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function v_(){var e=this.parentNode;e&&e.removeChild(this)}function m_(){return this.each(v_)}function y_(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function b_(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function __(e){return this.select(e?b_:y_)}function x_(e){return arguments.length?this.property("__data__",e):this.node().__data__}function w_(e){return function(t){e.call(this,t,this.__data__)}}function E_(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function S_(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,a;r<i;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++n]=a;++n?t.length=n:delete this.__on}}}function N_(e,t,r){return function(){var n=this.__on,i,a=w_(t);if(n){for(var o=0,s=n.length;o<s;++o)if((i=n[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=r),i.value=t;return}}this.addEventListener(e.type,a,r),i={type:e.type,name:e.name,value:t,listener:a,options:r},n?n.push(i):this.__on=[i]}}function C_(e,t,r){var n=E_(e+""),i,a=n.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(i=0,c=s[u];i<a;++i)if((o=n[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=t?N_:S_,i=0;i<a;++i)this.each(s(n[i],t,r));return this}function j0(e,t,r){var n=k0(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function R_(e,t){return function(){return j0(this,e,t)}}function q_(e,t){return function(){return j0(this,e,t.apply(this,arguments))}}function A_(e,t){return this.each((typeof t=="function"?q_:R_)(e,t))}function*T_(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length,o;i<a;++i)(o=n[i])&&(yield o)}var $0=[null];function We(e,t){this._groups=e,this._parents=t}function Gr(){return new We([[document.documentElement]],$0)}function k_(){return this}We.prototype=Gr.prototype={constructor:We,select:nb,selectAll:sb,selectChild:fb,selectChildren:pb,filter:vb,data:wb,enter:mb,exit:Sb,join:Nb,merge:Cb,selection:k_,order:Rb,sort:qb,call:Tb,nodes:kb,node:Ib,size:Mb,empty:Pb,each:Ob,attr:Hb,style:Ub,property:Xb,classed:e_,text:i_,html:u_,raise:l_,lower:d_,append:h_,insert:p_,remove:m_,clone:__,datum:x_,on:C_,dispatch:A_,[Symbol.iterator]:T_};function nt(e){return typeof e=="string"?new We([[document.querySelector(e)]],[document.documentElement]):new We([[e]],$0)}function I_(e){let t;for(;t=e.sourceEvent;)e=t;return e}function dt(e,t){if(e=I_(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const M_={passive:!1},Dr={capture:!0,passive:!1};function si(e){e.stopImmediatePropagation()}function sr(e){e.preventDefault(),e.stopImmediatePropagation()}function D0(e){var t=e.document.documentElement,r=nt(e).on("dragstart.drag",sr,Dr);"onselectstart"in t?r.on("selectstart.drag",sr,Dr):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function L0(e,t){var r=e.document.documentElement,n=nt(e).on("dragstart.drag",null);t&&(n.on("click.drag",sr,Dr),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const rn=e=>()=>e;function fc(e,{sourceEvent:t,subject:r,target:n,identifier:i,active:a,x:o,y:s,dx:u,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}fc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function P_(e){return!e.ctrlKey&&!e.button}function O_(){return this.parentNode}function j_(e,t){return t??{x:e.x,y:e.y}}function $_(){return navigator.maxTouchPoints||"ontouchstart"in this}function D_(){var e=P_,t=O_,r=j_,n=$_,i={},a=In("start","drag","end"),o=0,s,u,l,c,f=0;function d(_){_.on("mousedown.drag",h).filter(n).on("touchstart.drag",m).on("touchmove.drag",y,M_).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(_,q){if(!(c||!e.call(this,_,q))){var C=S(this,t.call(this,_,q),_,q,"mouse");C&&(nt(_.view).on("mousemove.drag",p,Dr).on("mouseup.drag",g,Dr),D0(_.view),si(_),l=!1,s=_.clientX,u=_.clientY,C("start",_))}}function p(_){if(sr(_),!l){var q=_.clientX-s,C=_.clientY-u;l=q*q+C*C>f}i.mouse("drag",_)}function g(_){nt(_.view).on("mousemove.drag mouseup.drag",null),L0(_.view,l),sr(_),i.mouse("end",_)}function m(_,q){if(e.call(this,_,q)){var C=_.changedTouches,T=t.call(this,_,q),M=C.length,A,O;for(A=0;A<M;++A)(O=S(this,T,_,q,C[A].identifier,C[A]))&&(si(_),O("start",_,C[A]))}}function y(_){var q=_.changedTouches,C=q.length,T,M;for(T=0;T<C;++T)(M=i[q[T].identifier])&&(sr(_),M("drag",_,q[T]))}function b(_){var q=_.changedTouches,C=q.length,T,M;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),T=0;T<C;++T)(M=i[q[T].identifier])&&(si(_),M("end",_,q[T]))}function S(_,q,C,T,M,A){var O=a.copy(),k=dt(A||C,q),P,j,v;if((v=r.call(_,new fc("beforestart",{sourceEvent:C,target:d,identifier:M,active:o,x:k[0],y:k[1],dx:0,dy:0,dispatch:O}),T))!=null)return P=v.x-k[0]||0,j=v.y-k[1]||0,function R(E,$,L){var N=k,D;switch(E){case"start":i[M]=R,D=o++;break;case"end":delete i[M],--o;case"drag":k=dt(L||$,q),D=o;break}O.call(E,_,new fc(E,{sourceEvent:$,subject:v,target:d,identifier:M,active:D,x:k[0]+P,y:k[1]+j,dx:k[0]-N[0],dy:k[1]-N[1],dispatch:O}),T)}}return d.filter=function(_){return arguments.length?(e=typeof _=="function"?_:rn(!!_),d):e},d.container=function(_){return arguments.length?(t=typeof _=="function"?_:rn(_),d):t},d.subject=function(_){return arguments.length?(r=typeof _=="function"?_:rn(_),d):r},d.touchable=function(_){return arguments.length?(n=typeof _=="function"?_:rn(!!_),d):n},d.on=function(){var _=a.on.apply(a,arguments);return _===a?d:_},d.clickDistance=function(_){return arguments.length?(f=(_=+_)*_,d):Math.sqrt(f)},d}function Ic(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function F0(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ur(){}var Lr=.7,bn=1/Lr,ur="\\s*([+-]?\\d+)\\s*",Fr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",L_=/^#([0-9a-f]{3,8})$/,F_=new RegExp(`^rgb\\(${ur},${ur},${ur}\\)$`),z_=new RegExp(`^rgb\\(${gt},${gt},${gt}\\)$`),H_=new RegExp(`^rgba\\(${ur},${ur},${ur},${Fr}\\)$`),B_=new RegExp(`^rgba\\(${gt},${gt},${gt},${Fr}\\)$`),V_=new RegExp(`^hsl\\(${Fr},${gt},${gt}\\)$`),G_=new RegExp(`^hsla\\(${Fr},${gt},${gt},${Fr}\\)$`),Nl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ic(Ur,zr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Cl,formatHex:Cl,formatHex8:U_,formatHsl:K_,formatRgb:Rl,toString:Rl});function Cl(){return this.rgb().formatHex()}function U_(){return this.rgb().formatHex8()}function K_(){return z0(this).formatHsl()}function Rl(){return this.rgb().formatRgb()}function zr(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=L_.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ql(t):r===3?new Be(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?nn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?nn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=F_.exec(e))?new Be(t[1],t[2],t[3],1):(t=z_.exec(e))?new Be(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=H_.exec(e))?nn(t[1],t[2],t[3],t[4]):(t=B_.exec(e))?nn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=V_.exec(e))?kl(t[1],t[2]/100,t[3]/100,1):(t=G_.exec(e))?kl(t[1],t[2]/100,t[3]/100,t[4]):Nl.hasOwnProperty(e)?ql(Nl[e]):e==="transparent"?new Be(NaN,NaN,NaN,0):null}function ql(e){return new Be(e>>16&255,e>>8&255,e&255,1)}function nn(e,t,r,n){return n<=0&&(e=t=r=NaN),new Be(e,t,r,n)}function Y_(e){return e instanceof Ur||(e=zr(e)),e?(e=e.rgb(),new Be(e.r,e.g,e.b,e.opacity)):new Be}function dc(e,t,r,n){return arguments.length===1?Y_(e):new Be(e,t,r,n??1)}function Be(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ic(Be,dc,F0(Ur,{brighter(e){return e=e==null?bn:Math.pow(bn,e),new Be(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Lr:Math.pow(Lr,e),new Be(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Be(Yt(this.r),Yt(this.g),Yt(this.b),_n(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Al,formatHex:Al,formatHex8:W_,formatRgb:Tl,toString:Tl}));function Al(){return`#${Gt(this.r)}${Gt(this.g)}${Gt(this.b)}`}function W_(){return`#${Gt(this.r)}${Gt(this.g)}${Gt(this.b)}${Gt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Tl(){const e=_n(this.opacity);return`${e===1?"rgb(":"rgba("}${Yt(this.r)}, ${Yt(this.g)}, ${Yt(this.b)}${e===1?")":`, ${e})`}`}function _n(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gt(e){return e=Yt(e),(e<16?"0":"")+e.toString(16)}function kl(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new it(e,t,r,n)}function z0(e){if(e instanceof it)return new it(e.h,e.s,e.l,e.opacity);if(e instanceof Ur||(e=zr(e)),!e)return new it;if(e instanceof it)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,u=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new it(o,s,u,e.opacity)}function X_(e,t,r,n){return arguments.length===1?z0(e):new it(e,t,r,n??1)}function it(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ic(it,X_,F0(Ur,{brighter(e){return e=e==null?bn:Math.pow(bn,e),new it(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Lr:Math.pow(Lr,e),new it(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Be(ui(e>=240?e-240:e+120,i,n),ui(e,i,n),ui(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new it(Il(this.h),an(this.s),an(this.l),_n(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_n(this.opacity);return`${e===1?"hsl(":"hsla("}${Il(this.h)}, ${an(this.s)*100}%, ${an(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Il(e){return e=(e||0)%360,e<0?e+360:e}function an(e){return Math.max(0,Math.min(1,e||0))}function ui(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const H0=e=>()=>e;function Z_(e,t){return function(r){return e+r*t}}function J_(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Q_(e){return(e=+e)==1?B0:function(t,r){return r-t?J_(t,r,e):H0(isNaN(t)?r:t)}}function B0(e,t){var r=t-e;return r?Z_(e,r):H0(isNaN(e)?t:e)}const Ml=function e(t){var r=Q_(t);function n(i,a){var o=r((i=dc(i)).r,(a=dc(a)).r),s=r(i.g,a.g),u=r(i.b,a.b),l=B0(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return n.gamma=e,n}(1);function Pt(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var hc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ci=new RegExp(hc.source,"g");function ex(e){return function(){return e}}function tx(e){return function(t){return e(t)+""}}function rx(e,t){var r=hc.lastIndex=ci.lastIndex=0,n,i,a,o=-1,s=[],u=[];for(e=e+"",t=t+"";(n=hc.exec(e))&&(i=ci.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,u.push({i:o,x:Pt(n,i)})),r=ci.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?tx(u[0].x):ex(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)s[(f=u[c]).i]=f.x(l);return s.join("")})}var Pl=180/Math.PI,gc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function V0(e,t,r,n,i,a){var o,s,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,u/=s),e*n<t*r&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Pl,skewX:Math.atan(u)*Pl,scaleX:o,scaleY:s}}var on;function nx(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?gc:V0(t.a,t.b,t.c,t.d,t.e,t.f)}function ix(e){return e==null||(on||(on=document.createElementNS("http://www.w3.org/2000/svg","g")),on.setAttribute("transform",e),!(e=on.transform.baseVal.consolidate()))?gc:(e=e.matrix,V0(e.a,e.b,e.c,e.d,e.e,e.f))}function G0(e,t,r,n){function i(l){return l.length?l.pop()+" ":""}function a(l,c,f,d,h,p){if(l!==f||c!==d){var g=h.push("translate(",null,t,null,r);p.push({i:g-4,x:Pt(l,f)},{i:g-2,x:Pt(c,d)})}else(f||d)&&h.push("translate("+f+t+d+r)}function o(l,c,f,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:f.push(i(f)+"rotate(",null,n)-2,x:Pt(l,c)})):c&&f.push(i(f)+"rotate("+c+n)}function s(l,c,f,d){l!==c?d.push({i:f.push(i(f)+"skewX(",null,n)-2,x:Pt(l,c)}):c&&f.push(i(f)+"skewX("+c+n)}function u(l,c,f,d,h,p){if(l!==f||c!==d){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:Pt(l,f)},{i:g-2,x:Pt(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(l,c){var f=[],d=[];return l=e(l),c=e(c),a(l.translateX,l.translateY,c.translateX,c.translateY,f,d),o(l.rotate,c.rotate,f,d),s(l.skewX,c.skewX,f,d),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,d),l=c=null,function(h){for(var p=-1,g=d.length,m;++p<g;)f[(m=d[p]).i]=m.x(h);return f.join("")}}}var ax=G0(nx,"px, ","px)","deg)"),ox=G0(ix,", ",")",")"),sx=1e-12;function Ol(e){return((e=Math.exp(e))+1/e)/2}function ux(e){return((e=Math.exp(e))-1/e)/2}function cx(e){return((e=Math.exp(2*e))-1)/(e+1)}const lx=function e(t,r,n){function i(a,o){var s=a[0],u=a[1],l=a[2],c=o[0],f=o[1],d=o[2],h=c-s,p=f-u,g=h*h+p*p,m,y;if(g<sx)y=Math.log(d/l)/t,m=function(T){return[s+T*h,u+T*p,l*Math.exp(t*T*y)]};else{var b=Math.sqrt(g),S=(d*d-l*l+n*g)/(2*l*r*b),_=(d*d-l*l-n*g)/(2*d*r*b),q=Math.log(Math.sqrt(S*S+1)-S),C=Math.log(Math.sqrt(_*_+1)-_);y=(C-q)/t,m=function(T){var M=T*y,A=Ol(q),O=l/(r*b)*(A*cx(t*M+q)-ux(q));return[s+O*h,u+O*p,l*A/Ol(t*M+q)]}}return m.duration=y*1e3*t/Math.SQRT2,m}return i.rho=function(a){var o=Math.max(.001,+a),s=o*o,u=s*s;return e(o,s,u)},i}(Math.SQRT2,2,4);var dr=0,Ar=0,Sr=0,U0=1e3,xn,Tr,wn=0,Wt=0,Pn=0,Hr=typeof performance=="object"&&performance.now?performance:Date,K0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Mc(){return Wt||(K0(fx),Wt=Hr.now()+Pn)}function fx(){Wt=0}function En(){this._call=this._time=this._next=null}En.prototype=Y0.prototype={constructor:En,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Mc():+r)+(t==null?0:+t),!this._next&&Tr!==this&&(Tr?Tr._next=this:xn=this,Tr=this),this._call=e,this._time=r,pc()},stop:function(){this._call&&(this._call=null,this._time=1/0,pc())}};function Y0(e,t,r){var n=new En;return n.restart(e,t,r),n}function dx(){Mc(),++dr;for(var e=xn,t;e;)(t=Wt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--dr}function jl(){Wt=(wn=Hr.now())+Pn,dr=Ar=0;try{dx()}finally{dr=0,gx(),Wt=0}}function hx(){var e=Hr.now(),t=e-wn;t>U0&&(Pn-=t,wn=e)}function gx(){for(var e,t=xn,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:xn=r);Tr=e,pc(n)}function pc(e){if(!dr){Ar&&(Ar=clearTimeout(Ar));var t=e-Wt;t>24?(e<1/0&&(Ar=setTimeout(jl,e-Hr.now()-Pn)),Sr&&(Sr=clearInterval(Sr))):(Sr||(wn=Hr.now(),Sr=setInterval(hx,U0)),dr=1,K0(jl))}}function $l(e,t,r){var n=new En;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var px=In("start","end","cancel","interrupt"),vx=[],W0=0,Dl=1,vc=2,pn=3,Ll=4,mc=5,vn=6;function On(e,t,r,n,i,a){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;mx(e,r,{name:t,index:n,group:i,on:px,tween:vx,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:W0})}function Pc(e,t){var r=ot(e,t);if(r.state>W0)throw new Error("too late; already scheduled");return r}function pt(e,t){var r=ot(e,t);if(r.state>pn)throw new Error("too late; already running");return r}function ot(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function mx(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=Y0(a,0,r.time);function a(l){r.state=Dl,r.timer.restart(o,r.delay,r.time),r.delay<=l&&o(l-r.delay)}function o(l){var c,f,d,h;if(r.state!==Dl)return u();for(c in n)if(h=n[c],h.name===r.name){if(h.state===pn)return $l(o);h.state===Ll?(h.state=vn,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete n[c]):+c<t&&(h.state=vn,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete n[c])}if($l(function(){r.state===pn&&(r.state=Ll,r.timer.restart(s,r.delay,r.time),s(l))}),r.state=vc,r.on.call("start",e,e.__data__,r.index,r.group),r.state===vc){for(r.state=pn,i=new Array(d=r.tween.length),c=0,f=-1;c<d;++c)(h=r.tween[c].value.call(e,e.__data__,r.index,r.group))&&(i[++f]=h);i.length=f+1}}function s(l){for(var c=l<r.duration?r.ease.call(null,l/r.duration):(r.timer.restart(u),r.state=mc,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);r.state===mc&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=vn,r.timer.stop(),delete n[t];for(var l in n)return;delete e.__transition}}function mn(e,t){var r=e.__transition,n,i,a=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){a=!1;continue}i=n.state>vc&&n.state<mc,n.state=vn,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}a&&delete e.__transition}}function yx(e){return this.each(function(){mn(this,e)})}function bx(e,t){var r,n;return function(){var i=pt(this,e),a=i.tween;if(a!==r){n=r=a;for(var o=0,s=n.length;o<s;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}i.tween=n}}function _x(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var a=pt(this,e),o=a.tween;if(o!==n){i=(n=o).slice();for(var s={name:t,value:r},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=s;break}u===l&&i.push(s)}a.tween=i}}function xx(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=ot(this.node(),r).tween,i=0,a=n.length,o;i<a;++i)if((o=n[i]).name===e)return o.value;return null}return this.each((t==null?bx:_x)(r,e,t))}function Oc(e,t,r){var n=e._id;return e.each(function(){var i=pt(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return ot(i,n).value[t]}}function X0(e,t){var r;return(typeof t=="number"?Pt:t instanceof zr?Ml:(r=zr(t))?(t=r,Ml):rx)(e,t)}function wx(e){return function(){this.removeAttribute(e)}}function Ex(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Sx(e,t,r){var n,i=r+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===n?a:a=t(n=o,r)}}function Nx(e,t,r){var n,i=r+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===n?a:a=t(n=o,r)}}function Cx(e,t,r){var n,i,a;return function(){var o,s=r(this),u;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=s+"",o===u?null:o===n&&u===i?a:(i=u,a=t(n=o,s)))}}function Rx(e,t,r){var n,i,a;return function(){var o,s=r(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=s+"",o===u?null:o===n&&u===i?a:(i=u,a=t(n=o,s)))}}function qx(e,t){var r=Mn(e),n=r==="transform"?ox:X0;return this.attrTween(e,typeof t=="function"?(r.local?Rx:Cx)(r,n,Oc(this,"attr."+e,t)):t==null?(r.local?Ex:wx)(r):(r.local?Nx:Sx)(r,n,t))}function Ax(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Tx(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function kx(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&Tx(e,a)),r}return i._value=t,i}function Ix(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&Ax(e,a)),r}return i._value=t,i}function Mx(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Mn(e);return this.tween(r,(n.local?kx:Ix)(n,t))}function Px(e,t){return function(){Pc(this,e).delay=+t.apply(this,arguments)}}function Ox(e,t){return t=+t,function(){Pc(this,e).delay=t}}function jx(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Px:Ox)(t,e)):ot(this.node(),t).delay}function $x(e,t){return function(){pt(this,e).duration=+t.apply(this,arguments)}}function Dx(e,t){return t=+t,function(){pt(this,e).duration=t}}function Lx(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?$x:Dx)(t,e)):ot(this.node(),t).duration}function Fx(e,t){if(typeof t!="function")throw new Error;return function(){pt(this,e).ease=t}}function zx(e){var t=this._id;return arguments.length?this.each(Fx(t,e)):ot(this.node(),t).ease}function Hx(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;pt(this,e).ease=r}}function Bx(e){if(typeof e!="function")throw new Error;return this.each(Hx(this._id,e))}function Vx(e){typeof e!="function"&&(e=q0(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],o=a.length,s=n[i]=[],u,l=0;l<o;++l)(u=a[l])&&e.call(u,u.__data__,l,a)&&s.push(u);return new Nt(n,this._parents,this._name,this._id)}function Gx(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,a=Math.min(n,i),o=new Array(n),s=0;s<a;++s)for(var u=t[s],l=r[s],c=u.length,f=o[s]=new Array(c),d,h=0;h<c;++h)(d=u[h]||l[h])&&(f[h]=d);for(;s<n;++s)o[s]=t[s];return new Nt(o,this._parents,this._name,this._id)}function Ux(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function Kx(e,t,r){var n,i,a=Ux(t)?Pc:pt;return function(){var o=a(this,e),s=o.on;s!==n&&(i=(n=s).copy()).on(t,r),o.on=i}}function Yx(e,t){var r=this._id;return arguments.length<2?ot(this.node(),r).on.on(e):this.each(Kx(r,e,t))}function Wx(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function Xx(){return this.on("end.remove",Wx(this._id))}function Zx(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Tc(e));for(var n=this._groups,i=n.length,a=new Array(i),o=0;o<i;++o)for(var s=n[o],u=s.length,l=a[o]=new Array(u),c,f,d=0;d<u;++d)(c=s[d])&&(f=e.call(c,c.__data__,d,s))&&("__data__"in c&&(f.__data__=c.__data__),l[d]=f,On(l[d],t,r,d,l,ot(c,r)));return new Nt(a,this._parents,t,r)}function Jx(e){var t=this._name,r=this._id;typeof e!="function"&&(e=R0(e));for(var n=this._groups,i=n.length,a=[],o=[],s=0;s<i;++s)for(var u=n[s],l=u.length,c,f=0;f<l;++f)if(c=u[f]){for(var d=e.call(c,c.__data__,f,u),h,p=ot(c,r),g=0,m=d.length;g<m;++g)(h=d[g])&&On(h,t,r,g,d,p);a.push(d),o.push(c)}return new Nt(a,o,t,r)}var Qx=Gr.prototype.constructor;function e1(){return new Qx(this._groups,this._parents)}function t1(e,t){var r,n,i;return function(){var a=fr(this,e),o=(this.style.removeProperty(e),fr(this,e));return a===o?null:a===r&&o===n?i:i=t(r=a,n=o)}}function Z0(e){return function(){this.style.removeProperty(e)}}function r1(e,t,r){var n,i=r+"",a;return function(){var o=fr(this,e);return o===i?null:o===n?a:a=t(n=o,r)}}function n1(e,t,r){var n,i,a;return function(){var o=fr(this,e),s=r(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),fr(this,e))),o===u?null:o===n&&u===i?a:(i=u,a=t(n=o,s))}}function i1(e,t){var r,n,i,a="style."+t,o="end."+a,s;return function(){var u=pt(this,e),l=u.on,c=u.value[a]==null?s||(s=Z0(t)):void 0;(l!==r||i!==c)&&(n=(r=l).copy()).on(o,i=c),u.on=n}}function a1(e,t,r){var n=(e+="")=="transform"?ax:X0;return t==null?this.styleTween(e,t1(e,n)).on("end.style."+e,Z0(e)):typeof t=="function"?this.styleTween(e,n1(e,n,Oc(this,"style."+e,t))).each(i1(this._id,e)):this.styleTween(e,r1(e,n,t),r).on("end.style."+e,null)}function o1(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function s1(e,t,r){var n,i;function a(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&o1(e,o,r)),n}return a._value=t,a}function u1(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,s1(e,t,r??""))}function c1(e){return function(){this.textContent=e}}function l1(e){return function(){var t=e(this);this.textContent=t??""}}function f1(e){return this.tween("text",typeof e=="function"?l1(Oc(this,"text",e)):c1(e==null?"":e+""))}function d1(e){return function(t){this.textContent=e.call(this,t)}}function h1(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&d1(i)),t}return n._value=e,n}function g1(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,h1(e))}function p1(){for(var e=this._name,t=this._id,r=J0(),n=this._groups,i=n.length,a=0;a<i;++a)for(var o=n[a],s=o.length,u,l=0;l<s;++l)if(u=o[l]){var c=ot(u,t);On(u,e,r,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Nt(n,this._parents,e,r)}function v1(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(a,o){var s={value:o},u={value:function(){--i===0&&a()}};r.each(function(){var l=pt(this,n),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),l.on=t}),i===0&&a()})}var m1=0;function Nt(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function J0(){return++m1}var _t=Gr.prototype;Nt.prototype={constructor:Nt,select:Zx,selectAll:Jx,selectChild:_t.selectChild,selectChildren:_t.selectChildren,filter:Vx,merge:Gx,selection:e1,transition:p1,call:_t.call,nodes:_t.nodes,node:_t.node,size:_t.size,empty:_t.empty,each:_t.each,on:Yx,attr:qx,attrTween:Mx,style:a1,styleTween:u1,text:f1,textTween:g1,remove:Xx,tween:xx,delay:jx,duration:Lx,ease:zx,easeVarying:Bx,end:v1,[Symbol.iterator]:_t[Symbol.iterator]};function y1(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var b1={time:null,delay:0,duration:250,ease:y1};function _1(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function x1(e){var t,r;e instanceof Nt?(t=e._id,e=e._name):(t=J0(),(r=b1).time=Mc(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,a=0;a<i;++a)for(var o=n[a],s=o.length,u,l=0;l<s;++l)(u=o[l])&&On(u,e,t,l,o,r||_1(u,t));return new Nt(n,this._parents,e,t)}Gr.prototype.interrupt=yx;Gr.prototype.transition=x1;const sn=e=>()=>e;function w1(e,{sourceEvent:t,target:r,transform:n,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:i}})}function wt(e,t,r){this.k=e,this.x=t,this.y=r}wt.prototype={constructor:wt,scale:function(e){return e===1?this:new wt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new wt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Dt=new wt(1,0,0);wt.prototype;function li(e){e.stopImmediatePropagation()}function Nr(e){e.preventDefault(),e.stopImmediatePropagation()}function E1(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function S1(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Fl(){return this.__zoom||Dt}function N1(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function C1(){return navigator.maxTouchPoints||"ontouchstart"in this}function R1(e,t,r){var n=e.invertX(t[0][0])-r[0][0],i=e.invertX(t[1][0])-r[1][0],a=e.invertY(t[0][1])-r[0][1],o=e.invertY(t[1][1])-r[1][1];return e.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function q1(){var e=E1,t=S1,r=R1,n=N1,i=C1,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,u=lx,l=In("start","zoom","end"),c,f,d,h=500,p=150,g=0,m=10;function y(v){v.property("__zoom",Fl).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",O).filter(i).on("touchstart.zoom",k).on("touchmove.zoom",P).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(v,R,E,$){var L=v.selection?v.selection():v;L.property("__zoom",Fl),v!==L?q(v,R,E,$):L.interrupt().each(function(){C(this,arguments).event($).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},y.scaleBy=function(v,R,E,$){y.scaleTo(v,function(){var L=this.__zoom.k,N=typeof R=="function"?R.apply(this,arguments):R;return L*N},E,$)},y.scaleTo=function(v,R,E,$){y.transform(v,function(){var L=t.apply(this,arguments),N=this.__zoom,D=E==null?_(L):typeof E=="function"?E.apply(this,arguments):E,F=N.invert(D),H=typeof R=="function"?R.apply(this,arguments):R;return r(S(b(N,H),D,F),L,o)},E,$)},y.translateBy=function(v,R,E,$){y.transform(v,function(){return r(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof E=="function"?E.apply(this,arguments):E),t.apply(this,arguments),o)},null,$)},y.translateTo=function(v,R,E,$,L){y.transform(v,function(){var N=t.apply(this,arguments),D=this.__zoom,F=$==null?_(N):typeof $=="function"?$.apply(this,arguments):$;return r(Dt.translate(F[0],F[1]).scale(D.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof E=="function"?-E.apply(this,arguments):-E),N,o)},$,L)};function b(v,R){return R=Math.max(a[0],Math.min(a[1],R)),R===v.k?v:new wt(R,v.x,v.y)}function S(v,R,E){var $=R[0]-E[0]*v.k,L=R[1]-E[1]*v.k;return $===v.x&&L===v.y?v:new wt(v.k,$,L)}function _(v){return[(+v[0][0]+ +v[1][0])/2,(+v[0][1]+ +v[1][1])/2]}function q(v,R,E,$){v.on("start.zoom",function(){C(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event($).end()}).tween("zoom",function(){var L=this,N=arguments,D=C(L,N).event($),F=t.apply(L,N),H=E==null?_(F):typeof E=="function"?E.apply(L,N):E,G=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),V=L.__zoom,X=typeof R=="function"?R.apply(L,N):R,ne=u(V.invert(H).concat(G/V.k),X.invert(H).concat(G/X.k));return function(ie){if(ie===1)ie=X;else{var ae=ne(ie),fe=G/ae[2];ie=new wt(fe,H[0]-ae[0]*fe,H[1]-ae[1]*fe)}D.zoom(null,ie)}})}function C(v,R,E){return!E&&v.__zooming||new T(v,R)}function T(v,R){this.that=v,this.args=R,this.active=0,this.sourceEvent=null,this.extent=t.apply(v,R),this.taps=0}T.prototype={event:function(v){return v&&(this.sourceEvent=v),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(v,R){return this.mouse&&v!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&v!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&v!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(v){var R=nt(this.that).datum();l.call(v,this.that,new w1(v,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:l}),R)}};function M(v,...R){if(!e.apply(this,arguments))return;var E=C(this,R).event(v),$=this.__zoom,L=Math.max(a[0],Math.min(a[1],$.k*Math.pow(2,n.apply(this,arguments)))),N=dt(v);if(E.wheel)(E.mouse[0][0]!==N[0]||E.mouse[0][1]!==N[1])&&(E.mouse[1]=$.invert(E.mouse[0]=N)),clearTimeout(E.wheel);else{if($.k===L)return;E.mouse=[N,$.invert(N)],mn(this),E.start()}Nr(v),E.wheel=setTimeout(D,p),E.zoom("mouse",r(S(b($,L),E.mouse[0],E.mouse[1]),E.extent,o));function D(){E.wheel=null,E.end()}}function A(v,...R){if(d||!e.apply(this,arguments))return;var E=v.currentTarget,$=C(this,R,!0).event(v),L=nt(v.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",G,!0),N=dt(v,E),D=v.clientX,F=v.clientY;D0(v.view),li(v),$.mouse=[N,this.__zoom.invert(N)],mn(this),$.start();function H(V){if(Nr(V),!$.moved){var X=V.clientX-D,ne=V.clientY-F;$.moved=X*X+ne*ne>g}$.event(V).zoom("mouse",r(S($.that.__zoom,$.mouse[0]=dt(V,E),$.mouse[1]),$.extent,o))}function G(V){L.on("mousemove.zoom mouseup.zoom",null),L0(V.view,$.moved),Nr(V),$.event(V).end()}}function O(v,...R){if(e.apply(this,arguments)){var E=this.__zoom,$=dt(v.changedTouches?v.changedTouches[0]:v,this),L=E.invert($),N=E.k*(v.shiftKey?.5:2),D=r(S(b(E,N),$,L),t.apply(this,R),o);Nr(v),s>0?nt(this).transition().duration(s).call(q,D,$,v):nt(this).call(y.transform,D,$,v)}}function k(v,...R){if(e.apply(this,arguments)){var E=v.touches,$=E.length,L=C(this,R,v.changedTouches.length===$).event(v),N,D,F,H;for(li(v),D=0;D<$;++D)F=E[D],H=dt(F,this),H=[H,this.__zoom.invert(H),F.identifier],L.touch0?!L.touch1&&L.touch0[2]!==H[2]&&(L.touch1=H,L.taps=0):(L.touch0=H,N=!0,L.taps=1+!!c);c&&(c=clearTimeout(c)),N&&(L.taps<2&&(f=H[0],c=setTimeout(function(){c=null},h)),mn(this),L.start())}}function P(v,...R){if(this.__zooming){var E=C(this,R).event(v),$=v.changedTouches,L=$.length,N,D,F,H;for(Nr(v),N=0;N<L;++N)D=$[N],F=dt(D,this),E.touch0&&E.touch0[2]===D.identifier?E.touch0[0]=F:E.touch1&&E.touch1[2]===D.identifier&&(E.touch1[0]=F);if(D=E.that.__zoom,E.touch1){var G=E.touch0[0],V=E.touch0[1],X=E.touch1[0],ne=E.touch1[1],ie=(ie=X[0]-G[0])*ie+(ie=X[1]-G[1])*ie,ae=(ae=ne[0]-V[0])*ae+(ae=ne[1]-V[1])*ae;D=b(D,Math.sqrt(ie/ae)),F=[(G[0]+X[0])/2,(G[1]+X[1])/2],H=[(V[0]+ne[0])/2,(V[1]+ne[1])/2]}else if(E.touch0)F=E.touch0[0],H=E.touch0[1];else return;E.zoom("touch",r(S(D,F,H),E.extent,o))}}function j(v,...R){if(this.__zooming){var E=C(this,R).event(v),$=v.changedTouches,L=$.length,N,D;for(li(v),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),N=0;N<L;++N)D=$[N],E.touch0&&E.touch0[2]===D.identifier?delete E.touch0:E.touch1&&E.touch1[2]===D.identifier&&delete E.touch1;if(E.touch1&&!E.touch0&&(E.touch0=E.touch1,delete E.touch1),E.touch0)E.touch0[1]=this.__zoom.invert(E.touch0[0]);else if(E.end(),E.taps===2&&(D=dt(D,this),Math.hypot(f[0]-D[0],f[1]-D[1])<m)){var F=nt(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return y.wheelDelta=function(v){return arguments.length?(n=typeof v=="function"?v:sn(+v),y):n},y.filter=function(v){return arguments.length?(e=typeof v=="function"?v:sn(!!v),y):e},y.touchable=function(v){return arguments.length?(i=typeof v=="function"?v:sn(!!v),y):i},y.extent=function(v){return arguments.length?(t=typeof v=="function"?v:sn([[+v[0][0],+v[0][1]],[+v[1][0],+v[1][1]]]),y):t},y.scaleExtent=function(v){return arguments.length?(a[0]=+v[0],a[1]=+v[1],y):[a[0],a[1]]},y.translateExtent=function(v){return arguments.length?(o[0][0]=+v[0][0],o[1][0]=+v[1][0],o[0][1]=+v[0][1],o[1][1]=+v[1][1],y):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},y.constrain=function(v){return arguments.length?(r=v,y):r},y.duration=function(v){return arguments.length?(s=+v,y):s},y.interpolate=function(v){return arguments.length?(u=v,y):u},y.on=function(){var v=l.on.apply(l,arguments);return v===l?y:v},y.clickDistance=function(v){return arguments.length?(g=(v=+v)*v,y):Math.sqrt(g)},y.tapDistance=function(v){return arguments.length?(m=+v,y):m},y}const jn=x.createContext(null),A1=jn.Provider,Ct={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Q0=Ct.error001();function ye(e,t){const r=x.useContext(jn);if(r===null)throw new Error(Q0);return N0(r,e,t)}const Re=()=>{const e=x.useContext(jn);if(e===null)throw new Error(Q0);return x.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},T1=e=>e.userSelectionActive?"none":"all";function jc({position:e,children:t,className:r,style:n,...i}){const a=ye(T1),o=`${e}`.split("-");return I.createElement("div",{className:Le(["react-flow__panel",r,...o]),style:{...n,pointerEvents:a},...i},t)}function k1({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:I.createElement(jc,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},I.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const I1=({x:e,y:t,label:r,labelStyle:n={},labelShowBg:i=!0,labelBgStyle:a={},labelBgPadding:o=[2,4],labelBgBorderRadius:s=2,children:u,className:l,...c})=>{const f=x.useRef(null),[d,h]=x.useState({x:0,y:0,width:0,height:0}),p=Le(["react-flow__edge-textwrapper",l]);return x.useEffect(()=>{if(f.current){const g=f.current.getBBox();h({x:g.x,y:g.y,width:g.width,height:g.height})}},[r]),typeof r>"u"||!r?null:I.createElement("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:p,visibility:d.width?"visible":"hidden",...c},i&&I.createElement("rect",{width:d.width+2*o[0],x:-o[0],y:-o[1],height:d.height+2*o[1],className:"react-flow__edge-textbg",style:a,rx:s,ry:s}),I.createElement("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:f,style:n},r),u)};var M1=x.memo(I1);const $c=e=>({width:e.offsetWidth,height:e.offsetHeight}),hr=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),Dc=(e={x:0,y:0},t)=>({x:hr(e.x,t[0][0],t[1][0]),y:hr(e.y,t[0][1],t[1][1])}),zl=(e,t,r)=>e<t?hr(Math.abs(e-t),1,50)/50:e>r?-hr(Math.abs(e-r),1,50)/50:0,ev=(e,t)=>{const r=zl(e.x,35,t.width-35)*20,n=zl(e.y,35,t.height-35)*20;return[r,n]},tv=e=>e.getRootNode?.()||window?.document,P1=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Lc=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),O1=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),Hl=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),yc=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},j1=e=>Je(e.width)&&Je(e.height)&&Je(e.x)&&Je(e.y),Je=e=>!isNaN(e)&&isFinite(e),xe=Symbol.for("internals"),rv=["Enter"," ","Escape"],$1=(e,t)=>{},D1=e=>"nativeEvent"in e;function bc(e){const r=(D1(e)?e.nativeEvent:e).composedPath?.()?.[0]||e.target;return["INPUT","SELECT","TEXTAREA"].includes(r?.nodeName)||r?.hasAttribute("contenteditable")||!!r?.closest(".nokey")}const nv=e=>"clientX"in e,Lt=(e,t)=>{const r=nv(e),n=r?e.clientX:e.touches?.[0].clientX,i=r?e.clientY:e.touches?.[0].clientY;return{x:n-(t?.left??0),y:i-(t?.top??0)}},Sn=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,Kr=({id:e,path:t,labelX:r,labelY:n,label:i,labelStyle:a,labelShowBg:o,labelBgStyle:s,labelBgPadding:u,labelBgBorderRadius:l,style:c,markerEnd:f,markerStart:d,interactionWidth:h=20})=>I.createElement(I.Fragment,null,I.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:d}),h&&I.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),i&&Je(r)&&Je(n)?I.createElement(M1,{x:r,y:n,label:i,labelStyle:a,labelShowBg:o,labelBgStyle:s,labelBgPadding:u,labelBgBorderRadius:l}):null);Kr.displayName="BaseEdge";function Cr(e,t,r){return r===void 0?r:n=>{const i=t().edges.find(a=>a.id===e);i&&r(n,{...i})}}function iv({sourceX:e,sourceY:t,targetX:r,targetY:n}){const i=Math.abs(r-e)/2,a=r<e?r+i:r-i,o=Math.abs(n-t)/2,s=n<t?n+o:n-o;return[a,s,i,o]}function av({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:i,sourceControlY:a,targetControlX:o,targetControlY:s}){const u=e*.125+i*.375+o*.375+r*.125,l=t*.125+a*.375+s*.375+n*.125,c=Math.abs(u-e),f=Math.abs(l-t);return[u,l,c,f]}var Xt;(function(e){e.Strict="strict",e.Loose="loose"})(Xt||(Xt={}));var Ut;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Ut||(Ut={}));var Br;(function(e){e.Partial="partial",e.Full="full"})(Br||(Br={}));var jt;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(jt||(jt={}));var Nn;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Nn||(Nn={}));var Y;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Y||(Y={}));function Bl({pos:e,x1:t,y1:r,x2:n,y2:i}){return e===Y.Left||e===Y.Right?[.5*(t+n),r]:[t,.5*(r+i)]}function ov({sourceX:e,sourceY:t,sourcePosition:r=Y.Bottom,targetX:n,targetY:i,targetPosition:a=Y.Top}){const[o,s]=Bl({pos:r,x1:e,y1:t,x2:n,y2:i}),[u,l]=Bl({pos:a,x1:n,y1:i,x2:e,y2:t}),[c,f,d,h]=av({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:o,sourceControlY:s,targetControlX:u,targetControlY:l});return[`M${e},${t} C${o},${s} ${u},${l} ${n},${i}`,c,f,d,h]}const Fc=x.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:i=Y.Bottom,targetPosition:a=Y.Top,label:o,labelStyle:s,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,interactionWidth:g})=>{const[m,y,b]=ov({sourceX:e,sourceY:t,sourcePosition:i,targetX:r,targetY:n,targetPosition:a});return I.createElement(Kr,{path:m,labelX:y,labelY:b,label:o,labelStyle:s,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,interactionWidth:g})});Fc.displayName="SimpleBezierEdge";const Vl={[Y.Left]:{x:-1,y:0},[Y.Right]:{x:1,y:0},[Y.Top]:{x:0,y:-1},[Y.Bottom]:{x:0,y:1}},L1=({source:e,sourcePosition:t=Y.Bottom,target:r})=>t===Y.Left||t===Y.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},Gl=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function F1({source:e,sourcePosition:t=Y.Bottom,target:r,targetPosition:n=Y.Top,center:i,offset:a}){const o=Vl[t],s=Vl[n],u={x:e.x+o.x*a,y:e.y+o.y*a},l={x:r.x+s.x*a,y:r.y+s.y*a},c=L1({source:u,sourcePosition:t,target:l}),f=c.x!==0?"x":"y",d=c[f];let h=[],p,g;const m={x:0,y:0},y={x:0,y:0},[b,S,_,q]=iv({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(o[f]*s[f]===-1){p=i.x??b,g=i.y??S;const T=[{x:p,y:u.y},{x:p,y:l.y}],M=[{x:u.x,y:g},{x:l.x,y:g}];o[f]===d?h=f==="x"?T:M:h=f==="x"?M:T}else{const T=[{x:u.x,y:l.y}],M=[{x:l.x,y:u.y}];if(f==="x"?h=o.x===d?M:T:h=o.y===d?T:M,t===n){const j=Math.abs(e[f]-r[f]);if(j<=a){const v=Math.min(a-1,a-j);o[f]===d?m[f]=(u[f]>e[f]?-1:1)*v:y[f]=(l[f]>r[f]?-1:1)*v}}if(t!==n){const j=f==="x"?"y":"x",v=o[f]===s[j],R=u[j]>l[j],E=u[j]<l[j];(o[f]===1&&(!v&&R||v&&E)||o[f]!==1&&(!v&&E||v&&R))&&(h=f==="x"?T:M)}const A={x:u.x+m.x,y:u.y+m.y},O={x:l.x+y.x,y:l.y+y.y},k=Math.max(Math.abs(A.x-h[0].x),Math.abs(O.x-h[0].x)),P=Math.max(Math.abs(A.y-h[0].y),Math.abs(O.y-h[0].y));k>=P?(p=(A.x+O.x)/2,g=h[0].y):(p=h[0].x,g=(A.y+O.y)/2)}return[[e,{x:u.x+m.x,y:u.y+m.y},...h,{x:l.x+y.x,y:l.y+y.y},r],p,g,_,q]}function z1(e,t,r,n){const i=Math.min(Gl(e,t)/2,Gl(t,r)/2,n),{x:a,y:o}=t;if(e.x===a&&a===r.x||e.y===o&&o===r.y)return`L${a} ${o}`;if(e.y===o){const l=e.x<r.x?-1:1,c=e.y<r.y?1:-1;return`L ${a+i*l},${o}Q ${a},${o} ${a},${o+i*c}`}const s=e.x<r.x?1:-1,u=e.y<r.y?-1:1;return`L ${a},${o+i*u}Q ${a},${o} ${a+i*s},${o}`}function _c({sourceX:e,sourceY:t,sourcePosition:r=Y.Bottom,targetX:n,targetY:i,targetPosition:a=Y.Top,borderRadius:o=5,centerX:s,centerY:u,offset:l=20}){const[c,f,d,h,p]=F1({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:i},targetPosition:a,center:{x:s,y:u},offset:l});return[c.reduce((m,y,b)=>{let S="";return b>0&&b<c.length-1?S=z1(c[b-1],y,c[b+1],o):S=`${b===0?"M":"L"}${y.x} ${y.y}`,m+=S,m},""),f,d,h,p]}const $n=x.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:i,labelStyle:a,labelShowBg:o,labelBgStyle:s,labelBgPadding:u,labelBgBorderRadius:l,style:c,sourcePosition:f=Y.Bottom,targetPosition:d=Y.Top,markerEnd:h,markerStart:p,pathOptions:g,interactionWidth:m})=>{const[y,b,S]=_c({sourceX:e,sourceY:t,sourcePosition:f,targetX:r,targetY:n,targetPosition:d,borderRadius:g?.borderRadius,offset:g?.offset});return I.createElement(Kr,{path:y,labelX:b,labelY:S,label:i,labelStyle:a,labelShowBg:o,labelBgStyle:s,labelBgPadding:u,labelBgBorderRadius:l,style:c,markerEnd:h,markerStart:p,interactionWidth:m})});$n.displayName="SmoothStepEdge";const zc=x.memo(e=>I.createElement($n,{...e,pathOptions:x.useMemo(()=>({borderRadius:0,offset:e.pathOptions?.offset}),[e.pathOptions?.offset])}));zc.displayName="StepEdge";function H1({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[i,a,o,s]=iv({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,i,a,o,s]}const Hc=x.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:i,labelStyle:a,labelShowBg:o,labelBgStyle:s,labelBgPadding:u,labelBgBorderRadius:l,style:c,markerEnd:f,markerStart:d,interactionWidth:h})=>{const[p,g,m]=H1({sourceX:e,sourceY:t,targetX:r,targetY:n});return I.createElement(Kr,{path:p,labelX:g,labelY:m,label:i,labelStyle:a,labelShowBg:o,labelBgStyle:s,labelBgPadding:u,labelBgBorderRadius:l,style:c,markerEnd:f,markerStart:d,interactionWidth:h})});Hc.displayName="StraightEdge";function un(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Ul({pos:e,x1:t,y1:r,x2:n,y2:i,c:a}){switch(e){case Y.Left:return[t-un(t-n,a),r];case Y.Right:return[t+un(n-t,a),r];case Y.Top:return[t,r-un(r-i,a)];case Y.Bottom:return[t,r+un(i-r,a)]}}function sv({sourceX:e,sourceY:t,sourcePosition:r=Y.Bottom,targetX:n,targetY:i,targetPosition:a=Y.Top,curvature:o=.25}){const[s,u]=Ul({pos:r,x1:e,y1:t,x2:n,y2:i,c:o}),[l,c]=Ul({pos:a,x1:n,y1:i,x2:e,y2:t,c:o}),[f,d,h,p]=av({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:s,sourceControlY:u,targetControlX:l,targetControlY:c});return[`M${e},${t} C${s},${u} ${l},${c} ${n},${i}`,f,d,h,p]}const Cn=x.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:i=Y.Bottom,targetPosition:a=Y.Top,label:o,labelStyle:s,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,pathOptions:g,interactionWidth:m})=>{const[y,b,S]=sv({sourceX:e,sourceY:t,sourcePosition:i,targetX:r,targetY:n,targetPosition:a,curvature:g?.curvature});return I.createElement(Kr,{path:y,labelX:b,labelY:S,label:o,labelStyle:s,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,interactionWidth:m})});Cn.displayName="BezierEdge";const Bc=x.createContext(null),B1=Bc.Provider;Bc.Consumer;const V1=()=>x.useContext(Bc),G1=e=>"id"in e&&"source"in e&&"target"in e,U1=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`reactflow__edge-${e}${t||""}-${r}${n||""}`,xc=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`,K1=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),Y1=(e,t)=>{if(!e.source||!e.target)return t;let r;return G1(e)?r={...e}:r={...e,id:U1(e)},K1(r,t)?t:t.concat(r)},wc=({x:e,y:t},[r,n,i],a,[o,s])=>{const u={x:(e-r)/i,y:(t-n)/i};return a?{x:o*Math.round(u.x/o),y:s*Math.round(u.y/s)}:u},uv=({x:e,y:t},[r,n,i])=>({x:e*i+r,y:t*i+n}),cr=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const r=(e.width??0)*t[0],n=(e.height??0)*t[1],i={x:e.position.x-r,y:e.position.y-n};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-n}:i}},Vc=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,i)=>{const{x:a,y:o}=cr(i,t).positionAbsolute;return P1(n,Lc({x:a,y:o,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return O1(r)},cv=(e,t,[r,n,i]=[0,0,1],a=!1,o=!1,s=[0,0])=>{const u={x:(t.x-r)/i,y:(t.y-n)/i,width:t.width/i,height:t.height/i},l=[];return e.forEach(c=>{const{width:f,height:d,selectable:h=!0,hidden:p=!1}=c;if(o&&!h||p)return!1;const{positionAbsolute:g}=cr(c,s),m={x:g.x,y:g.y,width:f||0,height:d||0},y=yc(u,m),b=typeof f>"u"||typeof d>"u"||f===null||d===null,S=a&&y>0,_=(f||0)*(d||0);(b||S||y>=_||c.dragging)&&l.push(c)}),l},lv=(e,t)=>{const r=e.map(n=>n.id);return t.filter(n=>r.includes(n.source)||r.includes(n.target))},fv=(e,t,r,n,i,a=.1)=>{const o=t/(e.width*(1+a)),s=r/(e.height*(1+a)),u=Math.min(o,s),l=hr(u,n,i),c=e.x+e.width/2,f=e.y+e.height/2,d=t/2-c*l,h=r/2-f*l;return{x:d,y:h,zoom:l}},Vt=(e,t=0)=>e.transition().duration(t);function Kl(e,t,r,n){return(t[r]||[]).reduce((i,a)=>(`${e.id}-${a.id}-${r}`!==n&&i.push({id:a.id||null,type:r,nodeId:e.id,x:(e.positionAbsolute?.x??0)+a.x+a.width/2,y:(e.positionAbsolute?.y??0)+a.y+a.height/2}),i),[])}function W1(e,t,r,n,i,a){const{x:o,y:s}=Lt(e),l=t.elementsFromPoint(o,s).find(p=>p.classList.contains("react-flow__handle"));if(l){const p=l.getAttribute("data-nodeid");if(p){const g=Gc(void 0,l),m=l.getAttribute("data-handleid"),y=a({nodeId:p,id:m,type:g});if(y){const b=i.find(S=>S.nodeId===p&&S.type===g&&S.id===m);return{handle:{id:m,type:g,nodeId:p,x:b?.x||r.x,y:b?.y||r.y},validHandleResult:y}}}}let c=[],f=1/0;if(i.forEach(p=>{const g=Math.sqrt((p.x-r.x)**2+(p.y-r.y)**2);if(g<=n){const m=a(p);g<=f&&(g<f?c=[{handle:p,validHandleResult:m}]:g===f&&c.push({handle:p,validHandleResult:m}),f=g)}}),!c.length)return{handle:null,validHandleResult:dv()};if(c.length===1)return c[0];const d=c.some(({validHandleResult:p})=>p.isValid),h=c.some(({handle:p})=>p.type==="target");return c.find(({handle:p,validHandleResult:g})=>h?p.type==="target":d?g.isValid:!0)||c[0]}const X1={source:null,target:null,sourceHandle:null,targetHandle:null},dv=()=>({handleDomNode:null,isValid:!1,connection:X1,endHandle:null});function hv(e,t,r,n,i,a,o){const s=i==="target",u=o.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),l={...dv(),handleDomNode:u};if(u){const c=Gc(void 0,u),f=u.getAttribute("data-nodeid"),d=u.getAttribute("data-handleid"),h=u.classList.contains("connectable"),p=u.classList.contains("connectableend"),g={source:s?f:r,sourceHandle:s?d:n,target:s?r:f,targetHandle:s?n:d};l.connection=g,h&&p&&(t===Xt.Strict?s&&c==="source"||!s&&c==="target":f!==r||d!==n)&&(l.endHandle={nodeId:f,handleId:d,type:c},l.isValid=a(g))}return l}function Z1({nodes:e,nodeId:t,handleId:r,handleType:n}){return e.reduce((i,a)=>{if(a[xe]){const{handleBounds:o}=a[xe];let s=[],u=[];o&&(s=Kl(a,o,"source",`${t}-${r}-${n}`),u=Kl(a,o,"target",`${t}-${r}-${n}`)),i.push(...s,...u)}return i},[])}function Gc(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function fi(e){e?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function J1(e,t){let r=null;return t?r="valid":e&&!t&&(r="invalid"),r}function gv({event:e,handleId:t,nodeId:r,onConnect:n,isTarget:i,getState:a,setState:o,isValidConnection:s,edgeUpdaterType:u,onReconnectEnd:l}){const c=tv(e.target),{connectionMode:f,domNode:d,autoPanOnConnect:h,connectionRadius:p,onConnectStart:g,panBy:m,getNodes:y,cancelConnection:b}=a();let S=0,_;const{x:q,y:C}=Lt(e),T=c?.elementFromPoint(q,C),M=Gc(u,T),A=d?.getBoundingClientRect();if(!A||!M)return;let O,k=Lt(e,A),P=!1,j=null,v=!1,R=null;const E=Z1({nodes:y(),nodeId:r,handleId:t,handleType:M}),$=()=>{if(!h)return;const[D,F]=ev(k,A);m({x:D,y:F}),S=requestAnimationFrame($)};o({connectionPosition:k,connectionStatus:null,connectionNodeId:r,connectionHandleId:t,connectionHandleType:M,connectionStartHandle:{nodeId:r,handleId:t,type:M},connectionEndHandle:null}),g?.(e,{nodeId:r,handleId:t,handleType:M});function L(D){const{transform:F}=a();k=Lt(D,A);const{handle:H,validHandleResult:G}=W1(D,c,wc(k,F,!1,[1,1]),p,E,V=>hv(V,f,r,t,i?"target":"source",s,c));if(_=H,P||($(),P=!0),R=G.handleDomNode,j=G.connection,v=G.isValid,o({connectionPosition:_&&v?uv({x:_.x,y:_.y},F):k,connectionStatus:J1(!!_,v),connectionEndHandle:G.endHandle}),!_&&!v&&!R)return fi(O);j.source!==j.target&&R&&(fi(O),O=R,R.classList.add("connecting","react-flow__handle-connecting"),R.classList.toggle("valid",v),R.classList.toggle("react-flow__handle-valid",v))}function N(D){(_||R)&&j&&v&&n?.(j),a().onConnectEnd?.(D),u&&l?.(D),fi(O),b(),cancelAnimationFrame(S),P=!1,v=!1,j=null,R=null,c.removeEventListener("mousemove",L),c.removeEventListener("mouseup",N),c.removeEventListener("touchmove",L),c.removeEventListener("touchend",N)}c.addEventListener("mousemove",L),c.addEventListener("mouseup",N),c.addEventListener("touchmove",L),c.addEventListener("touchend",N)}const Yl=()=>!0,Q1=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),ew=(e,t,r)=>n=>{const{connectionStartHandle:i,connectionEndHandle:a,connectionClickStartHandle:o}=n;return{connecting:i?.nodeId===e&&i?.handleId===t&&i?.type===r||a?.nodeId===e&&a?.handleId===t&&a?.type===r,clickConnecting:o?.nodeId===e&&o?.handleId===t&&o?.type===r}},pv=x.forwardRef(({type:e="source",position:t=Y.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:i=!0,isConnectableEnd:a=!0,id:o,onConnect:s,children:u,className:l,onMouseDown:c,onTouchStart:f,...d},h)=>{const p=o||null,g=e==="target",m=Re(),y=V1(),{connectOnClick:b,noPanClassName:S}=ye(Q1,je),{connecting:_,clickConnecting:q}=ye(ew(y,p,e),je);y||m.getState().onError?.("010",Ct.error010());const C=A=>{const{defaultEdgeOptions:O,onConnect:k,hasDefaultEdges:P}=m.getState(),j={...O,...A};if(P){const{edges:v,setEdges:R}=m.getState();R(Y1(j,v))}k?.(j),s?.(j)},T=A=>{if(!y)return;const O=nv(A);i&&(O&&A.button===0||!O)&&gv({event:A,handleId:p,nodeId:y,onConnect:C,isTarget:g,getState:m.getState,setState:m.setState,isValidConnection:r||m.getState().isValidConnection||Yl}),O?c?.(A):f?.(A)},M=A=>{const{onClickConnectStart:O,onClickConnectEnd:k,connectionClickStartHandle:P,connectionMode:j,isValidConnection:v}=m.getState();if(!y||!P&&!i)return;if(!P){O?.(A,{nodeId:y,handleId:p,handleType:e}),m.setState({connectionClickStartHandle:{nodeId:y,type:e,handleId:p}});return}const R=tv(A.target),E=r||v||Yl,{connection:$,isValid:L}=hv({nodeId:y,id:p,type:e},j,P.nodeId,P.handleId||null,P.type,E,R);L&&C($),k?.(A),m.setState({connectionClickStartHandle:null})};return I.createElement("div",{"data-handleid":p,"data-nodeid":y,"data-handlepos":t,"data-id":`${y}-${p}-${e}`,className:Le(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",S,l,{source:!g,target:g,connectable:n,connectablestart:i,connectableend:a,connecting:q,connectionindicator:n&&(i&&!_||a&&_)}]),onMouseDown:T,onTouchStart:T,onClick:b?M:void 0,ref:h,...d},u)});pv.displayName="Handle";var gr=x.memo(pv);const vv=({data:e,isConnectable:t,targetPosition:r=Y.Top,sourcePosition:n=Y.Bottom})=>I.createElement(I.Fragment,null,I.createElement(gr,{type:"target",position:r,isConnectable:t}),e?.label,I.createElement(gr,{type:"source",position:n,isConnectable:t}));vv.displayName="DefaultNode";var Ec=x.memo(vv);const mv=({data:e,isConnectable:t,sourcePosition:r=Y.Bottom})=>I.createElement(I.Fragment,null,e?.label,I.createElement(gr,{type:"source",position:r,isConnectable:t}));mv.displayName="InputNode";var yv=x.memo(mv);const bv=({data:e,isConnectable:t,targetPosition:r=Y.Top})=>I.createElement(I.Fragment,null,I.createElement(gr,{type:"target",position:r,isConnectable:t}),e?.label);bv.displayName="OutputNode";var _v=x.memo(bv);const Uc=()=>null;Uc.displayName="GroupNode";const tw=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),cn=e=>e.id;function rw(e,t){return je(e.selectedNodes.map(cn),t.selectedNodes.map(cn))&&je(e.selectedEdges.map(cn),t.selectedEdges.map(cn))}const xv=x.memo(({onSelectionChange:e})=>{const t=Re(),{selectedNodes:r,selectedEdges:n}=ye(tw,rw);return x.useEffect(()=>{const i={nodes:r,edges:n};e?.(i),t.getState().onSelectionChange.forEach(a=>a(i))},[r,n,e]),null});xv.displayName="SelectionListener";const nw=e=>!!e.onSelectionChange;function iw({onSelectionChange:e}){const t=ye(nw);return e||t?I.createElement(xv,{onSelectionChange:e}):null}const aw=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function rr(e,t){x.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function re(e,t,r){x.useEffect(()=>{typeof t<"u"&&r({[e]:t})},[t])}const ow=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:i,onConnectStart:a,onConnectEnd:o,onClickConnectStart:s,onClickConnectEnd:u,nodesDraggable:l,nodesConnectable:c,nodesFocusable:f,edgesFocusable:d,edgesUpdatable:h,elevateNodesOnSelect:p,minZoom:g,maxZoom:m,nodeExtent:y,onNodesChange:b,onEdgesChange:S,elementsSelectable:_,connectionMode:q,snapGrid:C,snapToGrid:T,translateExtent:M,connectOnClick:A,defaultEdgeOptions:O,fitView:k,fitViewOptions:P,onNodesDelete:j,onEdgesDelete:v,onNodeDrag:R,onNodeDragStart:E,onNodeDragStop:$,onSelectionDrag:L,onSelectionDragStart:N,onSelectionDragStop:D,noPanClassName:F,nodeOrigin:H,rfId:G,autoPanOnConnect:V,autoPanOnNodeDrag:X,onError:ne,connectionRadius:ie,isValidConnection:ae,nodeDragThreshold:fe})=>{const{setNodes:ce,setEdges:qe,setDefaultNodesAndEdges:Ae,setMinZoom:de,setMaxZoom:Te,setTranslateExtent:W,setNodeExtent:Se,reset:K}=ye(aw,je),U=Re();return x.useEffect(()=>{const he=n?.map(Xe=>({...Xe,...O}));return Ae(r,he),()=>{K()}},[]),re("defaultEdgeOptions",O,U.setState),re("connectionMode",q,U.setState),re("onConnect",i,U.setState),re("onConnectStart",a,U.setState),re("onConnectEnd",o,U.setState),re("onClickConnectStart",s,U.setState),re("onClickConnectEnd",u,U.setState),re("nodesDraggable",l,U.setState),re("nodesConnectable",c,U.setState),re("nodesFocusable",f,U.setState),re("edgesFocusable",d,U.setState),re("edgesUpdatable",h,U.setState),re("elementsSelectable",_,U.setState),re("elevateNodesOnSelect",p,U.setState),re("snapToGrid",T,U.setState),re("snapGrid",C,U.setState),re("onNodesChange",b,U.setState),re("onEdgesChange",S,U.setState),re("connectOnClick",A,U.setState),re("fitViewOnInit",k,U.setState),re("fitViewOnInitOptions",P,U.setState),re("onNodesDelete",j,U.setState),re("onEdgesDelete",v,U.setState),re("onNodeDrag",R,U.setState),re("onNodeDragStart",E,U.setState),re("onNodeDragStop",$,U.setState),re("onSelectionDrag",L,U.setState),re("onSelectionDragStart",N,U.setState),re("onSelectionDragStop",D,U.setState),re("noPanClassName",F,U.setState),re("nodeOrigin",H,U.setState),re("rfId",G,U.setState),re("autoPanOnConnect",V,U.setState),re("autoPanOnNodeDrag",X,U.setState),re("onError",ne,U.setState),re("connectionRadius",ie,U.setState),re("isValidConnection",ae,U.setState),re("nodeDragThreshold",fe,U.setState),rr(e,ce),rr(t,qe),rr(g,de),rr(m,Te),rr(M,W),rr(y,Se),null},Wl={display:"none"},sw={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},wv="react-flow__node-desc",Ev="react-flow__edge-desc",uw="react-flow__aria-live",cw=e=>e.ariaLiveMessage;function lw({rfId:e}){const t=ye(cw);return I.createElement("div",{id:`${uw}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:sw},t)}function fw({rfId:e,disableKeyboardA11y:t}){return I.createElement(I.Fragment,null,I.createElement("div",{id:`${wv}-${e}`,style:Wl},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),I.createElement("div",{id:`${Ev}-${e}`,style:Wl},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&I.createElement(lw,{rfId:e}))}var Vr=(e=null,t={actInsideInputWithModifier:!0})=>{const[r,n]=x.useState(!1),i=x.useRef(!1),a=x.useRef(new Set([])),[o,s]=x.useMemo(()=>{if(e!==null){const l=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),c=l.reduce((f,d)=>f.concat(...d),[]);return[l,c]}return[[],[]]},[e]);return x.useEffect(()=>{const u=typeof document<"u"?document:null,l=t?.target||u;if(e!==null){const c=h=>{if(i.current=h.ctrlKey||h.metaKey||h.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&bc(h))return!1;const g=Zl(h.code,s);a.current.add(h[g]),Xl(o,a.current,!1)&&(h.preventDefault(),n(!0))},f=h=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&bc(h))return!1;const g=Zl(h.code,s);Xl(o,a.current,!0)?(n(!1),a.current.clear()):a.current.delete(h[g]),h.key==="Meta"&&a.current.clear(),i.current=!1},d=()=>{a.current.clear(),n(!1)};return l?.addEventListener("keydown",c),l?.addEventListener("keyup",f),window.addEventListener("blur",d),()=>{l?.removeEventListener("keydown",c),l?.removeEventListener("keyup",f),window.removeEventListener("blur",d)}}},[e,n]),r};function Xl(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(i=>t.has(i)))}function Zl(e,t){return t.includes(e)?"code":"key"}function Sv(e,t,r,n){const i=e.parentNode||e.parentId;if(!i)return r;const a=t.get(i),o=cr(a,n);return Sv(a,t,{x:(r.x??0)+o.x,y:(r.y??0)+o.y,z:(a[xe]?.z??0)>(r.z??0)?a[xe]?.z??0:r.z??0},n)}function Nv(e,t,r){e.forEach(n=>{const i=n.parentNode||n.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||r?.[n.id]){const{x:a,y:o,z:s}=Sv(n,e,{...n.position,z:n[xe]?.z??0},t);n.positionAbsolute={x:a,y:o},n[xe].z=s,r?.[n.id]&&(n[xe].isParent=!0)}})}function di(e,t,r,n){const i=new Map,a={},o=n?1e3:0;return e.forEach(s=>{const u=(Je(s.zIndex)?s.zIndex:0)+(s.selected?o:0),l=t.get(s.id),c={...s,positionAbsolute:{x:s.position.x,y:s.position.y}},f=s.parentNode||s.parentId;f&&(a[f]=!0);const d=l?.type&&l?.type!==s.type;Object.defineProperty(c,xe,{enumerable:!1,value:{handleBounds:d?void 0:l?.[xe]?.handleBounds,z:u}}),i.set(s.id,c)}),Nv(i,r,a),i}function Cv(e,t={}){const{getNodes:r,width:n,height:i,minZoom:a,maxZoom:o,d3Zoom:s,d3Selection:u,fitViewOnInitDone:l,fitViewOnInit:c,nodeOrigin:f}=e(),d=t.initial&&!l&&c;if(s&&u&&(d||!t.initial)){const p=r().filter(m=>{const y=t.includeHiddenNodes?m.width&&m.height:!m.hidden;return t.nodes?.length?y&&t.nodes.some(b=>b.id===m.id):y}),g=p.every(m=>m.width&&m.height);if(p.length>0&&g){const m=Vc(p,f),{x:y,y:b,zoom:S}=fv(m,n,i,t.minZoom??a,t.maxZoom??o,t.padding??.1),_=Dt.translate(y,b).scale(S);return typeof t.duration=="number"&&t.duration>0?s.transform(Vt(u,t.duration),_):s.transform(u,_),!0}}return!1}function dw(e,t){return e.forEach(r=>{const n=t.get(r.id);n&&t.set(n.id,{...n,[xe]:n[xe],selected:r.selected})}),new Map(t)}function hw(e,t){return t.map(r=>{const n=e.find(i=>i.id===r.id);return n&&(r.selected=n.selected),r})}function ln({changedNodes:e,changedEdges:t,get:r,set:n}){const{nodeInternals:i,edges:a,onNodesChange:o,onEdgesChange:s,hasDefaultNodes:u,hasDefaultEdges:l}=r();e?.length&&(u&&n({nodeInternals:dw(e,i)}),o?.(e)),t?.length&&(l&&n({edges:hw(t,a)}),s?.(t))}const nr=()=>{},gw={zoomIn:nr,zoomOut:nr,zoomTo:nr,getZoom:()=>1,setViewport:nr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:nr,fitBounds:nr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},pw=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),vw=()=>{const e=Re(),{d3Zoom:t,d3Selection:r}=ye(pw,je);return x.useMemo(()=>r&&t?{zoomIn:i=>t.scaleBy(Vt(r,i?.duration),1.2),zoomOut:i=>t.scaleBy(Vt(r,i?.duration),1/1.2),zoomTo:(i,a)=>t.scaleTo(Vt(r,a?.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,a)=>{const[o,s,u]=e.getState().transform,l=Dt.translate(i.x??o,i.y??s).scale(i.zoom??u);t.transform(Vt(r,a?.duration),l)},getViewport:()=>{const[i,a,o]=e.getState().transform;return{x:i,y:a,zoom:o}},fitView:i=>Cv(e.getState,i),setCenter:(i,a,o)=>{const{width:s,height:u,maxZoom:l}=e.getState(),c=typeof o?.zoom<"u"?o.zoom:l,f=s/2-i*c,d=u/2-a*c,h=Dt.translate(f,d).scale(c);t.transform(Vt(r,o?.duration),h)},fitBounds:(i,a)=>{const{width:o,height:s,minZoom:u,maxZoom:l}=e.getState(),{x:c,y:f,zoom:d}=fv(i,o,s,u,l,a?.padding??.1),h=Dt.translate(c,f).scale(d);t.transform(Vt(r,a?.duration),h)},project:i=>{const{transform:a,snapToGrid:o,snapGrid:s}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),wc(i,a,o,s)},screenToFlowPosition:i=>{const{transform:a,snapToGrid:o,snapGrid:s,domNode:u}=e.getState();if(!u)return i;const{x:l,y:c}=u.getBoundingClientRect(),f={x:i.x-l,y:i.y-c};return wc(f,a,o,s)},flowToScreenPosition:i=>{const{transform:a,domNode:o}=e.getState();if(!o)return i;const{x:s,y:u}=o.getBoundingClientRect(),l=uv(i,a);return{x:l.x+s,y:l.y+u}},viewportInitialized:!0}:gw,[t,r])};function Dn(){const e=vw(),t=Re(),r=x.useCallback(()=>t.getState().getNodes().map(g=>({...g})),[]),n=x.useCallback(g=>t.getState().nodeInternals.get(g),[]),i=x.useCallback(()=>{const{edges:g=[]}=t.getState();return g.map(m=>({...m}))},[]),a=x.useCallback(g=>{const{edges:m=[]}=t.getState();return m.find(y=>y.id===g)},[]),o=x.useCallback(g=>{const{getNodes:m,setNodes:y,hasDefaultNodes:b,onNodesChange:S}=t.getState(),_=m(),q=typeof g=="function"?g(_):g;if(b)y(q);else if(S){const C=q.length===0?_.map(T=>({type:"remove",id:T.id})):q.map(T=>({item:T,type:"reset"}));S(C)}},[]),s=x.useCallback(g=>{const{edges:m=[],setEdges:y,hasDefaultEdges:b,onEdgesChange:S}=t.getState(),_=typeof g=="function"?g(m):g;if(b)y(_);else if(S){const q=_.length===0?m.map(C=>({type:"remove",id:C.id})):_.map(C=>({item:C,type:"reset"}));S(q)}},[]),u=x.useCallback(g=>{const m=Array.isArray(g)?g:[g],{getNodes:y,setNodes:b,hasDefaultNodes:S,onNodesChange:_}=t.getState();if(S){const C=[...y(),...m];b(C)}else if(_){const q=m.map(C=>({item:C,type:"add"}));_(q)}},[]),l=x.useCallback(g=>{const m=Array.isArray(g)?g:[g],{edges:y=[],setEdges:b,hasDefaultEdges:S,onEdgesChange:_}=t.getState();if(S)b([...y,...m]);else if(_){const q=m.map(C=>({item:C,type:"add"}));_(q)}},[]),c=x.useCallback(()=>{const{getNodes:g,edges:m=[],transform:y}=t.getState(),[b,S,_]=y;return{nodes:g().map(q=>({...q})),edges:m.map(q=>({...q})),viewport:{x:b,y:S,zoom:_}}},[]),f=x.useCallback(({nodes:g,edges:m})=>{const{nodeInternals:y,getNodes:b,edges:S,hasDefaultNodes:_,hasDefaultEdges:q,onNodesDelete:C,onEdgesDelete:T,onNodesChange:M,onEdgesChange:A}=t.getState(),O=(g||[]).map(R=>R.id),k=(m||[]).map(R=>R.id),P=b().reduce((R,E)=>{const $=E.parentNode||E.parentId,L=!O.includes(E.id)&&$&&R.find(D=>D.id===$);return(typeof E.deletable=="boolean"?E.deletable:!0)&&(O.includes(E.id)||L)&&R.push(E),R},[]),j=S.filter(R=>typeof R.deletable=="boolean"?R.deletable:!0),v=j.filter(R=>k.includes(R.id));if(P||v){const R=lv(P,j),E=[...v,...R],$=E.reduce((L,N)=>(L.includes(N.id)||L.push(N.id),L),[]);if((q||_)&&(q&&t.setState({edges:S.filter(L=>!$.includes(L.id))}),_&&(P.forEach(L=>{y.delete(L.id)}),t.setState({nodeInternals:new Map(y)}))),$.length>0&&(T?.(E),A&&A($.map(L=>({id:L,type:"remove"})))),P.length>0&&(C?.(P),M)){const L=P.map(N=>({id:N.id,type:"remove"}));M(L)}}},[]),d=x.useCallback(g=>{const m=j1(g),y=m?null:t.getState().nodeInternals.get(g.id);return!m&&!y?[null,null,m]:[m?g:Hl(y),y,m]},[]),h=x.useCallback((g,m=!0,y)=>{const[b,S,_]=d(g);return b?(y||t.getState().getNodes()).filter(q=>{if(!_&&(q.id===S.id||!q.positionAbsolute))return!1;const C=Hl(q),T=yc(C,b);return m&&T>0||T>=b.width*b.height}):[]},[]),p=x.useCallback((g,m,y=!0)=>{const[b]=d(g);if(!b)return!1;const S=yc(b,m);return y&&S>0||S>=b.width*b.height},[]);return x.useMemo(()=>({...e,getNodes:r,getNode:n,getEdges:i,getEdge:a,setNodes:o,setEdges:s,addNodes:u,addEdges:l,toObject:c,deleteElements:f,getIntersectingNodes:h,isNodeIntersecting:p}),[e,r,n,i,a,o,s,u,l,c,f,h,p])}const mw={actInsideInputWithModifier:!1};var yw=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const r=Re(),{deleteElements:n}=Dn(),i=Vr(e,mw),a=Vr(t);x.useEffect(()=>{if(i){const{edges:o,getNodes:s}=r.getState(),u=s().filter(c=>c.selected),l=o.filter(c=>c.selected);n({nodes:u,edges:l}),r.setState({nodesSelectionActive:!1})}},[i]),x.useEffect(()=>{r.setState({multiSelectionActive:a})},[a])};function bw(e){const t=Re();x.useEffect(()=>{let r;const n=()=>{if(!e.current)return;const i=$c(e.current);(i.height===0||i.width===0)&&t.getState().onError?.("004",Ct.error004()),t.setState({width:i.width||500,height:i.height||500})};return n(),window.addEventListener("resize",n),e.current&&(r=new ResizeObserver(()=>n()),r.observe(e.current)),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}},[])}const Kc={position:"absolute",width:"100%",height:"100%",top:0,left:0},_w=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,fn=e=>({x:e.x,y:e.y,zoom:e.k}),ir=(e,t)=>e.target.closest(`.${t}`),Jl=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Ql=e=>{const t=e.ctrlKey&&Sn()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},xw=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),ww=({onMove:e,onMoveStart:t,onMoveEnd:r,onPaneContextMenu:n,zoomOnScroll:i=!0,zoomOnPinch:a=!0,panOnScroll:o=!1,panOnScrollSpeed:s=.5,panOnScrollMode:u=Ut.Free,zoomOnDoubleClick:l=!0,elementsSelectable:c,panOnDrag:f=!0,defaultViewport:d,translateExtent:h,minZoom:p,maxZoom:g,zoomActivationKeyCode:m,preventScrolling:y=!0,children:b,noWheelClassName:S,noPanClassName:_})=>{const q=x.useRef(),C=Re(),T=x.useRef(!1),M=x.useRef(!1),A=x.useRef(null),O=x.useRef({x:0,y:0,zoom:0}),{d3Zoom:k,d3Selection:P,d3ZoomHandler:j,userSelectionActive:v}=ye(xw,je),R=Vr(m),E=x.useRef(0),$=x.useRef(!1),L=x.useRef();return bw(A),x.useEffect(()=>{if(A.current){const N=A.current.getBoundingClientRect(),D=q1().scaleExtent([p,g]).translateExtent(h),F=nt(A.current).call(D),H=Dt.translate(d.x,d.y).scale(hr(d.zoom,p,g)),G=[[0,0],[N.width,N.height]],V=D.constrain()(H,G,h);D.transform(F,V),D.wheelDelta(Ql),C.setState({d3Zoom:D,d3Selection:F,d3ZoomHandler:F.on("wheel.zoom"),transform:[V.x,V.y,V.k],domNode:A.current.closest(".react-flow")})}},[]),x.useEffect(()=>{P&&k&&(o&&!R&&!v?P.on("wheel.zoom",N=>{if(ir(N,S))return!1;N.preventDefault(),N.stopImmediatePropagation();const D=P.property("__zoom").k||1;if(N.ctrlKey&&a){const ae=dt(N),fe=Ql(N),ce=D*Math.pow(2,fe);k.scaleTo(P,ce,ae,N);return}const F=N.deltaMode===1?20:1;let H=u===Ut.Vertical?0:N.deltaX*F,G=u===Ut.Horizontal?0:N.deltaY*F;!Sn()&&N.shiftKey&&u!==Ut.Vertical&&(H=N.deltaY*F,G=0),k.translateBy(P,-(H/D)*s,-(G/D)*s,{internal:!0});const V=fn(P.property("__zoom")),{onViewportChangeStart:X,onViewportChange:ne,onViewportChangeEnd:ie}=C.getState();clearTimeout(L.current),$.current||($.current=!0,t?.(N,V),X?.(V)),$.current&&(e?.(N,V),ne?.(V),L.current=setTimeout(()=>{r?.(N,V),ie?.(V),$.current=!1},150))},{passive:!1}):typeof j<"u"&&P.on("wheel.zoom",function(N,D){if(!y&&N.type==="wheel"&&!N.ctrlKey||ir(N,S))return null;N.preventDefault(),j.call(this,N,D)},{passive:!1}))},[v,o,u,P,k,j,R,a,y,S,t,e,r]),x.useEffect(()=>{k&&k.on("start",N=>{if(!N.sourceEvent||N.sourceEvent.internal)return null;E.current=N.sourceEvent?.button;const{onViewportChangeStart:D}=C.getState(),F=fn(N.transform);T.current=!0,O.current=F,N.sourceEvent?.type==="mousedown"&&C.setState({paneDragging:!0}),D?.(F),t?.(N.sourceEvent,F)})},[k,t]),x.useEffect(()=>{k&&(v&&!T.current?k.on("zoom",null):v||k.on("zoom",N=>{const{onViewportChange:D}=C.getState();if(C.setState({transform:[N.transform.x,N.transform.y,N.transform.k]}),M.current=!!(n&&Jl(f,E.current??0)),(e||D)&&!N.sourceEvent?.internal){const F=fn(N.transform);D?.(F),e?.(N.sourceEvent,F)}}))},[v,k,e,f,n]),x.useEffect(()=>{k&&k.on("end",N=>{if(!N.sourceEvent||N.sourceEvent.internal)return null;const{onViewportChangeEnd:D}=C.getState();if(T.current=!1,C.setState({paneDragging:!1}),n&&Jl(f,E.current??0)&&!M.current&&n(N.sourceEvent),M.current=!1,(r||D)&&_w(O.current,N.transform)){const F=fn(N.transform);O.current=F,clearTimeout(q.current),q.current=setTimeout(()=>{D?.(F),r?.(N.sourceEvent,F)},o?150:0)}})},[k,o,f,r,n]),x.useEffect(()=>{k&&k.filter(N=>{const D=R||i,F=a&&N.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&N.button===1&&N.type==="mousedown"&&(ir(N,"react-flow__node")||ir(N,"react-flow__edge")))return!0;if(!f&&!D&&!o&&!l&&!a||v||!l&&N.type==="dblclick"||ir(N,S)&&N.type==="wheel"||ir(N,_)&&(N.type!=="wheel"||o&&N.type==="wheel"&&!R)||!a&&N.ctrlKey&&N.type==="wheel"||!D&&!o&&!F&&N.type==="wheel"||!f&&(N.type==="mousedown"||N.type==="touchstart")||Array.isArray(f)&&!f.includes(N.button)&&N.type==="mousedown")return!1;const H=Array.isArray(f)&&f.includes(N.button)||!N.button||N.button<=1;return(!N.ctrlKey||N.type==="wheel")&&H})},[v,k,i,a,o,l,f,c,R]),I.createElement("div",{className:"react-flow__renderer",ref:A,style:Kc},b)},Ew=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Sw(){const{userSelectionActive:e,userSelectionRect:t}=ye(Ew,je);return e&&t?I.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function ef(e,t){const r=t.parentNode||t.parentId,n=e.find(i=>i.id===r);if(n){const i=t.position.x+t.width-n.width,a=t.position.y+t.height-n.height;if(i>0||a>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,i>0&&(n.style.width+=i),a>0&&(n.style.height+=a),t.position.x<0){const o=Math.abs(t.position.x);n.position.x=n.position.x-o,n.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);n.position.y=n.position.y-o,n.style.height+=o,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function Rv(e,t){if(e.some(n=>n.type==="reset"))return e.filter(n=>n.type==="reset").map(n=>n.item);const r=e.filter(n=>n.type==="add").map(n=>n.item);return t.reduce((n,i)=>{const a=e.filter(s=>s.id===i.id);if(a.length===0)return n.push(i),n;const o={...i};for(const s of a)if(s)switch(s.type){case"select":{o.selected=s.selected;break}case"position":{typeof s.position<"u"&&(o.position=s.position),typeof s.positionAbsolute<"u"&&(o.positionAbsolute=s.positionAbsolute),typeof s.dragging<"u"&&(o.dragging=s.dragging),o.expandParent&&ef(n,o);break}case"dimensions":{typeof s.dimensions<"u"&&(o.width=s.dimensions.width,o.height=s.dimensions.height),typeof s.updateStyle<"u"&&(o.style={...o.style||{},...s.dimensions}),typeof s.resizing=="boolean"&&(o.resizing=s.resizing),o.expandParent&&ef(n,o);break}case"remove":return n}return n.push(o),n},r)}function qv(e,t){return Rv(e,t)}function Nw(e,t){return Rv(e,t)}const Ot=(e,t)=>({id:e,type:"select",selected:t});function or(e,t){return e.reduce((r,n)=>{const i=t.includes(n.id);return!n.selected&&i?(n.selected=!0,r.push(Ot(n.id,!0))):n.selected&&!i&&(n.selected=!1,r.push(Ot(n.id,!1))),r},[])}const hi=(e,t)=>r=>{r.target===t.current&&e?.(r)},Cw=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Av=x.memo(({isSelecting:e,selectionMode:t=Br.Full,panOnDrag:r,onSelectionStart:n,onSelectionEnd:i,onPaneClick:a,onPaneContextMenu:o,onPaneScroll:s,onPaneMouseEnter:u,onPaneMouseMove:l,onPaneMouseLeave:c,children:f})=>{const d=x.useRef(null),h=Re(),p=x.useRef(0),g=x.useRef(0),m=x.useRef(),{userSelectionActive:y,elementsSelectable:b,dragging:S}=ye(Cw,je),_=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),p.current=0,g.current=0},q=j=>{a?.(j),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},C=j=>{if(Array.isArray(r)&&r?.includes(2)){j.preventDefault();return}o?.(j)},T=s?j=>s(j):void 0,M=j=>{const{resetSelectedElements:v,domNode:R}=h.getState();if(m.current=R?.getBoundingClientRect(),!b||!e||j.button!==0||j.target!==d.current||!m.current)return;const{x:E,y:$}=Lt(j,m.current);v(),h.setState({userSelectionRect:{width:0,height:0,startX:E,startY:$,x:E,y:$}}),n?.(j)},A=j=>{const{userSelectionRect:v,nodeInternals:R,edges:E,transform:$,onNodesChange:L,onEdgesChange:N,nodeOrigin:D,getNodes:F}=h.getState();if(!e||!m.current||!v)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const H=Lt(j,m.current),G=v.startX??0,V=v.startY??0,X={...v,x:H.x<G?H.x:G,y:H.y<V?H.y:V,width:Math.abs(H.x-G),height:Math.abs(H.y-V)},ne=F(),ie=cv(R,X,$,t===Br.Partial,!0,D),ae=lv(ie,E).map(ce=>ce.id),fe=ie.map(ce=>ce.id);if(p.current!==fe.length){p.current=fe.length;const ce=or(ne,fe);ce.length&&L?.(ce)}if(g.current!==ae.length){g.current=ae.length;const ce=or(E,ae);ce.length&&N?.(ce)}h.setState({userSelectionRect:X})},O=j=>{if(j.button!==0)return;const{userSelectionRect:v}=h.getState();!y&&v&&j.target===d.current&&q?.(j),h.setState({nodesSelectionActive:p.current>0}),_(),i?.(j)},k=j=>{y&&(h.setState({nodesSelectionActive:p.current>0}),i?.(j)),_()},P=b&&(e||y);return I.createElement("div",{className:Le(["react-flow__pane",{dragging:S,selection:e}]),onClick:P?void 0:hi(q,d),onContextMenu:hi(C,d),onWheel:hi(T,d),onMouseEnter:P?void 0:u,onMouseDown:P?M:void 0,onMouseMove:P?A:l,onMouseUp:P?O:void 0,onMouseLeave:P?k:c,ref:d,style:Kc},f,I.createElement(Sw,null))});Av.displayName="Pane";function Tv(e,t){const r=e.parentNode||e.parentId;if(!r)return!1;const n=t.get(r);return n?n.selected?!0:Tv(n,t):!1}function tf(e,t,r){let n=e;do{if(n?.matches(t))return!0;if(n===r.current)return!1;n=n.parentElement}while(n);return!1}function Rw(e,t,r,n){return Array.from(e.values()).filter(i=>(i.selected||i.id===n)&&(!i.parentNode||i.parentId||!Tv(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>({id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:r.x-(i.positionAbsolute?.x??0),y:r.y-(i.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}))}function qw(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function kv(e,t,r,n,i=[0,0],a){const o=qw(e,e.extent||n);let s=o;const u=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(u&&e.width&&e.height){const f=r.get(u),{x:d,y:h}=cr(f,i).positionAbsolute;s=f&&Je(d)&&Je(h)&&Je(f.width)&&Je(f.height)?[[d+e.width*i[0],h+e.height*i[1]],[d+f.width-e.width+e.width*i[0],h+f.height-e.height+e.height*i[1]]]:s}else a?.("005",Ct.error005()),s=o;else if(e.extent&&u&&e.extent!=="parent"){const f=r.get(u),{x:d,y:h}=cr(f,i).positionAbsolute;s=[[e.extent[0][0]+d,e.extent[0][1]+h],[e.extent[1][0]+d,e.extent[1][1]+h]]}let l={x:0,y:0};if(u){const f=r.get(u);l=cr(f,i).positionAbsolute}const c=s&&s!=="parent"?Dc(t,s):t;return{position:{x:c.x-l.x,y:c.y-l.y},positionAbsolute:c}}function gi({nodeId:e,dragItems:t,nodeInternals:r}){const n=t.map(i=>({...r.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?n.find(i=>i.id===e):n[0],n]}const rf=(e,t,r,n)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const a=Array.from(i),o=t.getBoundingClientRect(),s={x:o.width*n[0],y:o.height*n[1]};return a.map(u=>{const l=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),position:u.getAttribute("data-handlepos"),x:(l.left-o.left-s.x)/r,y:(l.top-o.top-s.y)/r,...$c(u)}})};function Rr(e,t,r){return r===void 0?r:n=>{const i=t().nodeInternals.get(e);i&&r(n,{...i})}}function Sc({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:i,unselectNodesAndEdges:a,multiSelectionActive:o,nodeInternals:s,onError:u}=t.getState(),l=s.get(e);if(!l){u?.("012",Ct.error012(e));return}t.setState({nodesSelectionActive:!1}),l.selected?(r||l.selected&&o)&&(a({nodes:[l],edges:[]}),requestAnimationFrame(()=>n?.current?.blur())):i([e])}function Aw(){const e=Re();return x.useCallback(({sourceEvent:r})=>{const{transform:n,snapGrid:i,snapToGrid:a}=e.getState(),o=r.touches?r.touches[0].clientX:r.clientX,s=r.touches?r.touches[0].clientY:r.clientY,u={x:(o-n[0])/n[2],y:(s-n[1])/n[2]};return{xSnapped:a?i[0]*Math.round(u.x/i[0]):u.x,ySnapped:a?i[1]*Math.round(u.y/i[1]):u.y,...u}},[])}function pi(e){return(t,r,n)=>e?.(t,n)}function Iv({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:i,isSelectable:a,selectNodesOnDrag:o}){const s=Re(),[u,l]=x.useState(!1),c=x.useRef([]),f=x.useRef({x:null,y:null}),d=x.useRef(0),h=x.useRef(null),p=x.useRef({x:0,y:0}),g=x.useRef(null),m=x.useRef(!1),y=x.useRef(!1),b=x.useRef(!1),S=Aw();return x.useEffect(()=>{if(e?.current){const _=nt(e.current),q=({x:M,y:A})=>{const{nodeInternals:O,onNodeDrag:k,onSelectionDrag:P,updateNodePositions:j,nodeExtent:v,snapGrid:R,snapToGrid:E,nodeOrigin:$,onError:L}=s.getState();f.current={x:M,y:A};let N=!1,D={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&v){const H=Vc(c.current,$);D=Lc(H)}if(c.current=c.current.map(H=>{const G={x:M-H.distance.x,y:A-H.distance.y};E&&(G.x=R[0]*Math.round(G.x/R[0]),G.y=R[1]*Math.round(G.y/R[1]));const V=[[v[0][0],v[0][1]],[v[1][0],v[1][1]]];c.current.length>1&&v&&!H.extent&&(V[0][0]=H.positionAbsolute.x-D.x+v[0][0],V[1][0]=H.positionAbsolute.x+(H.width??0)-D.x2+v[1][0],V[0][1]=H.positionAbsolute.y-D.y+v[0][1],V[1][1]=H.positionAbsolute.y+(H.height??0)-D.y2+v[1][1]);const X=kv(H,G,O,V,$,L);return N=N||H.position.x!==X.position.x||H.position.y!==X.position.y,H.position=X.position,H.positionAbsolute=X.positionAbsolute,H}),!N)return;j(c.current,!0,!0),l(!0);const F=i?k:pi(P);if(F&&g.current){const[H,G]=gi({nodeId:i,dragItems:c.current,nodeInternals:O});F(g.current,H,G)}},C=()=>{if(!h.current)return;const[M,A]=ev(p.current,h.current);if(M!==0||A!==0){const{transform:O,panBy:k}=s.getState();f.current.x=(f.current.x??0)-M/O[2],f.current.y=(f.current.y??0)-A/O[2],k({x:M,y:A})&&q(f.current)}d.current=requestAnimationFrame(C)},T=M=>{const{nodeInternals:A,multiSelectionActive:O,nodesDraggable:k,unselectNodesAndEdges:P,onNodeDragStart:j,onSelectionDragStart:v}=s.getState();y.current=!0;const R=i?j:pi(v);(!o||!a)&&!O&&i&&(A.get(i)?.selected||P()),i&&a&&o&&Sc({id:i,store:s,nodeRef:e});const E=S(M);if(f.current=E,c.current=Rw(A,k,E,i),R&&c.current){const[$,L]=gi({nodeId:i,dragItems:c.current,nodeInternals:A});R(M.sourceEvent,$,L)}};if(t)_.on(".drag",null);else{const M=D_().on("start",A=>{const{domNode:O,nodeDragThreshold:k}=s.getState();k===0&&T(A),b.current=!1;const P=S(A);f.current=P,h.current=O?.getBoundingClientRect()||null,p.current=Lt(A.sourceEvent,h.current)}).on("drag",A=>{const O=S(A),{autoPanOnNodeDrag:k,nodeDragThreshold:P}=s.getState();if(A.sourceEvent.type==="touchmove"&&A.sourceEvent.touches.length>1&&(b.current=!0),!b.current){if(!m.current&&y.current&&k&&(m.current=!0,C()),!y.current){const j=O.xSnapped-(f?.current?.x??0),v=O.ySnapped-(f?.current?.y??0);Math.sqrt(j*j+v*v)>P&&T(A)}(f.current.x!==O.xSnapped||f.current.y!==O.ySnapped)&&c.current&&y.current&&(g.current=A.sourceEvent,p.current=Lt(A.sourceEvent,h.current),q(O))}}).on("end",A=>{if(!(!y.current||b.current)&&(l(!1),m.current=!1,y.current=!1,cancelAnimationFrame(d.current),c.current)){const{updateNodePositions:O,nodeInternals:k,onNodeDragStop:P,onSelectionDragStop:j}=s.getState(),v=i?P:pi(j);if(O(c.current,!1,!1),v){const[R,E]=gi({nodeId:i,dragItems:c.current,nodeInternals:k});v(A.sourceEvent,R,E)}}}).filter(A=>{const O=A.target;return!A.button&&(!r||!tf(O,`.${r}`,e))&&(!n||tf(O,n,e))});return _.call(M),()=>{_.on(".drag",null)}}}},[e,t,r,n,a,s,i,o,S]),u}function Mv(){const e=Re();return x.useCallback(r=>{const{nodeInternals:n,nodeExtent:i,updateNodePositions:a,getNodes:o,snapToGrid:s,snapGrid:u,onError:l,nodesDraggable:c}=e.getState(),f=o().filter(b=>b.selected&&(b.draggable||c&&typeof b.draggable>"u")),d=s?u[0]:5,h=s?u[1]:5,p=r.isShiftPressed?4:1,g=r.x*d*p,m=r.y*h*p,y=f.map(b=>{if(b.positionAbsolute){const S={x:b.positionAbsolute.x+g,y:b.positionAbsolute.y+m};s&&(S.x=u[0]*Math.round(S.x/u[0]),S.y=u[1]*Math.round(S.y/u[1]));const{positionAbsolute:_,position:q}=kv(b,S,n,i,void 0,l);b.position=q,b.positionAbsolute=_}return b});a(y,!0,!1)},[])}const lr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var qr=e=>{const t=({id:r,type:n,data:i,xPos:a,yPos:o,xPosOrigin:s,yPosOrigin:u,selected:l,onClick:c,onMouseEnter:f,onMouseMove:d,onMouseLeave:h,onContextMenu:p,onDoubleClick:g,style:m,className:y,isDraggable:b,isSelectable:S,isConnectable:_,isFocusable:q,selectNodesOnDrag:C,sourcePosition:T,targetPosition:M,hidden:A,resizeObserver:O,dragHandle:k,zIndex:P,isParent:j,noDragClassName:v,noPanClassName:R,initialized:E,disableKeyboardA11y:$,ariaLabel:L,rfId:N,hasHandleBounds:D})=>{const F=Re(),H=x.useRef(null),G=x.useRef(null),V=x.useRef(T),X=x.useRef(M),ne=x.useRef(n),ie=S||b||c||f||d||h,ae=Mv(),fe=Rr(r,F.getState,f),ce=Rr(r,F.getState,d),qe=Rr(r,F.getState,h),Ae=Rr(r,F.getState,p),de=Rr(r,F.getState,g),Te=K=>{const{nodeDragThreshold:U}=F.getState();if(S&&(!C||!b||U>0)&&Sc({id:r,store:F,nodeRef:H}),c){const he=F.getState().nodeInternals.get(r);he&&c(K,{...he})}},W=K=>{if(!bc(K)&&!$)if(rv.includes(K.key)&&S){const U=K.key==="Escape";Sc({id:r,store:F,unselect:U,nodeRef:H})}else b&&l&&Object.prototype.hasOwnProperty.call(lr,K.key)&&(F.setState({ariaLiveMessage:`Moved selected node ${K.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~o}`}),ae({x:lr[K.key].x,y:lr[K.key].y,isShiftPressed:K.shiftKey}))};x.useEffect(()=>()=>{G.current&&(O?.unobserve(G.current),G.current=null)},[]),x.useEffect(()=>{if(H.current&&!A){const K=H.current;(!E||!D||G.current!==K)&&(G.current&&O?.unobserve(G.current),O?.observe(K),G.current=K)}},[A,E,D]),x.useEffect(()=>{const K=ne.current!==n,U=V.current!==T,he=X.current!==M;H.current&&(K||U||he)&&(K&&(ne.current=n),U&&(V.current=T),he&&(X.current=M),F.getState().updateNodeDimensions([{id:r,nodeElement:H.current,forceUpdate:!0}]))},[r,n,T,M]);const Se=Iv({nodeRef:H,disabled:A||!b,noDragClassName:v,handleSelector:k,nodeId:r,isSelectable:S,selectNodesOnDrag:C});return A?null:I.createElement("div",{className:Le(["react-flow__node",`react-flow__node-${n}`,{[R]:b},y,{selected:l,selectable:S,parent:j,dragging:Se}]),ref:H,style:{zIndex:P,transform:`translate(${s}px,${u}px)`,pointerEvents:ie?"all":"none",visibility:E?"visible":"hidden",...m},"data-id":r,"data-testid":`rf__node-${r}`,onMouseEnter:fe,onMouseMove:ce,onMouseLeave:qe,onContextMenu:Ae,onClick:Te,onDoubleClick:de,onKeyDown:q?W:void 0,tabIndex:q?0:void 0,role:q?"button":void 0,"aria-describedby":$?void 0:`${wv}-${N}`,"aria-label":L},I.createElement(B1,{value:r},I.createElement(e,{id:r,data:i,type:n,xPos:a,yPos:o,selected:l,isConnectable:_,sourcePosition:T,targetPosition:M,dragging:Se,dragHandle:k,zIndex:P})))};return t.displayName="NodeWrapper",x.memo(t)};const Tw=e=>{const t=e.getNodes().filter(r=>r.selected);return{...Vc(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function kw({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=Re(),{width:i,height:a,x:o,y:s,transformString:u,userSelectionActive:l}=ye(Tw,je),c=Mv(),f=x.useRef(null);if(x.useEffect(()=>{r||f.current?.focus({preventScroll:!0})},[r]),Iv({nodeRef:f}),l||!i||!a)return null;const d=e?p=>{const g=n.getState().getNodes().filter(m=>m.selected);e(p,g)}:void 0,h=p=>{Object.prototype.hasOwnProperty.call(lr,p.key)&&c({x:lr[p.key].x,y:lr[p.key].y,isShiftPressed:p.shiftKey})};return I.createElement("div",{className:Le(["react-flow__nodesselection","react-flow__container",t]),style:{transform:u}},I.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:r?void 0:-1,onKeyDown:r?void 0:h,style:{width:i,height:a,top:s,left:o}}))}var Iw=x.memo(kw);const Mw=e=>e.nodesSelectionActive,Pv=({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:o,deleteKeyCode:s,onMove:u,onMoveStart:l,onMoveEnd:c,selectionKeyCode:f,selectionOnDrag:d,selectionMode:h,onSelectionStart:p,onSelectionEnd:g,multiSelectionKeyCode:m,panActivationKeyCode:y,zoomActivationKeyCode:b,elementsSelectable:S,zoomOnScroll:_,zoomOnPinch:q,panOnScroll:C,panOnScrollSpeed:T,panOnScrollMode:M,zoomOnDoubleClick:A,panOnDrag:O,defaultViewport:k,translateExtent:P,minZoom:j,maxZoom:v,preventScrolling:R,onSelectionContextMenu:E,noWheelClassName:$,noPanClassName:L,disableKeyboardA11y:N})=>{const D=ye(Mw),F=Vr(f),H=Vr(y),G=H||O,V=H||C,X=F||d&&G!==!0;return yw({deleteKeyCode:s,multiSelectionKeyCode:m}),I.createElement(ww,{onMove:u,onMoveStart:l,onMoveEnd:c,onPaneContextMenu:a,elementsSelectable:S,zoomOnScroll:_,zoomOnPinch:q,panOnScroll:V,panOnScrollSpeed:T,panOnScrollMode:M,zoomOnDoubleClick:A,panOnDrag:!F&&G,defaultViewport:k,translateExtent:P,minZoom:j,maxZoom:v,zoomActivationKeyCode:b,preventScrolling:R,noWheelClassName:$,noPanClassName:L},I.createElement(Av,{onSelectionStart:p,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:o,panOnDrag:G,isSelecting:!!X,selectionMode:h},e,D&&I.createElement(Iw,{onSelectionContextMenu:E,noPanClassName:L,disableKeyboardA11y:N})))};Pv.displayName="FlowRenderer";var Pw=x.memo(Pv);function Ow(e){return ye(x.useCallback(r=>e?cv(r.nodeInternals,{x:0,y:0,width:r.width,height:r.height},r.transform,!0):r.getNodes(),[e]))}function jw(e){const t={input:qr(e.input||yv),default:qr(e.default||Ec),output:qr(e.output||_v),group:qr(e.group||Uc)},r={},n=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,a)=>(i[a]=qr(e[a]||Ec),i),r);return{...t,...n}}const $w=({x:e,y:t,width:r,height:n,origin:i})=>!r||!n?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-r*i[0],y:t-n*i[1]},Dw=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Ov=e=>{const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:i,updateNodeDimensions:a,onError:o}=ye(Dw,je),s=Ow(e.onlyRenderVisibleElements),u=x.useRef(),l=x.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(f=>{const d=f.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));a(d)});return u.current=c,c},[]);return x.useEffect(()=>()=>{u?.current?.disconnect()},[]),I.createElement("div",{className:"react-flow__nodes",style:Kc},s.map(c=>{let f=c.type||"default";e.nodeTypes[f]||(o?.("003",Ct.error003(f)),f="default");const d=e.nodeTypes[f]||e.nodeTypes.default,h=!!(c.draggable||t&&typeof c.draggable>"u"),p=!!(c.selectable||i&&typeof c.selectable>"u"),g=!!(c.connectable||r&&typeof c.connectable>"u"),m=!!(c.focusable||n&&typeof c.focusable>"u"),y=e.nodeExtent?Dc(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,b=y?.x??0,S=y?.y??0,_=$w({x:b,y:S,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return I.createElement(d,{key:c.id,id:c.id,className:c.className,style:c.style,type:f,data:c.data,sourcePosition:c.sourcePosition||Y.Bottom,targetPosition:c.targetPosition||Y.Top,hidden:c.hidden,xPos:b,yPos:S,xPosOrigin:_.x,yPosOrigin:_.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:h,isSelectable:p,isConnectable:g,isFocusable:m,resizeObserver:l,dragHandle:c.dragHandle,zIndex:c[xe]?.z??0,isParent:!!c[xe]?.isParent,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!c[xe]?.handleBounds})}))};Ov.displayName="NodeRenderer";var Lw=x.memo(Ov);const Fw=(e,t,r)=>r===Y.Left?e-t:r===Y.Right?e+t:e,zw=(e,t,r)=>r===Y.Top?e-t:r===Y.Bottom?e+t:e,nf="react-flow__edgeupdater",af=({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:i,onMouseEnter:a,onMouseOut:o,type:s})=>I.createElement("circle",{onMouseDown:i,onMouseEnter:a,onMouseOut:o,className:Le([nf,`${nf}-${s}`]),cx:Fw(t,n,e),cy:zw(r,n,e),r:n,stroke:"transparent",fill:"transparent"}),Hw=()=>!0;var ar=e=>{const t=({id:r,className:n,type:i,data:a,onClick:o,onEdgeDoubleClick:s,selected:u,animated:l,label:c,labelStyle:f,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,source:y,target:b,sourceX:S,sourceY:_,targetX:q,targetY:C,sourcePosition:T,targetPosition:M,elementsSelectable:A,hidden:O,sourceHandleId:k,targetHandleId:P,onContextMenu:j,onMouseEnter:v,onMouseMove:R,onMouseLeave:E,reconnectRadius:$,onReconnect:L,onReconnectStart:N,onReconnectEnd:D,markerEnd:F,markerStart:H,rfId:G,ariaLabel:V,isFocusable:X,isReconnectable:ne,pathOptions:ie,interactionWidth:ae,disableKeyboardA11y:fe})=>{const ce=x.useRef(null),[qe,Ae]=x.useState(!1),[de,Te]=x.useState(!1),W=Re(),Se=x.useMemo(()=>`url('#${xc(H,G)}')`,[H,G]),K=x.useMemo(()=>`url('#${xc(F,G)}')`,[F,G]);if(O)return null;const U=be=>{const{edges:Pe,addSelectedEdges:Ce,unselectNodesAndEdges:Ie,multiSelectionActive:Tt}=W.getState(),$e=Pe.find(mt=>mt.id===r);$e&&(A&&(W.setState({nodesSelectionActive:!1}),$e.selected&&Tt?(Ie({nodes:[],edges:[$e]}),ce.current?.blur()):Ce([r])),o&&o(be,$e))},he=Cr(r,W.getState,s),Xe=Cr(r,W.getState,j),Ge=Cr(r,W.getState,v),Ne=Cr(r,W.getState,R),ge=Cr(r,W.getState,E),ke=(be,Pe)=>{if(be.button!==0)return;const{edges:Ce,isValidConnection:Ie}=W.getState(),Tt=Pe?b:y,$e=(Pe?P:k)||null,mt=Pe?"target":"source",_r=Ie||Hw,xr=Pe,Bt=Ce.find(yt=>yt.id===r);Te(!0),N?.(be,Bt,mt);const wr=yt=>{Te(!1),D?.(yt,Bt,mt)};gv({event:be,handleId:$e,nodeId:Tt,onConnect:yt=>L?.(Bt,yt),isTarget:xr,getState:W.getState,setState:W.setState,isValidConnection:_r,edgeUpdaterType:mt,onReconnectEnd:wr})},Ue=be=>ke(be,!0),Fe=be=>ke(be,!1),we=()=>Ae(!0),Me=()=>Ae(!1),tt=!A&&!o,rt=be=>{if(!fe&&rv.includes(be.key)&&A){const{unselectNodesAndEdges:Pe,addSelectedEdges:Ce,edges:Ie}=W.getState();be.key==="Escape"?(ce.current?.blur(),Pe({edges:[Ie.find($e=>$e.id===r)]})):Ce([r])}};return I.createElement("g",{className:Le(["react-flow__edge",`react-flow__edge-${i}`,n,{selected:u,animated:l,inactive:tt,updating:qe}]),onClick:U,onDoubleClick:he,onContextMenu:Xe,onMouseEnter:Ge,onMouseMove:Ne,onMouseLeave:ge,onKeyDown:X?rt:void 0,tabIndex:X?0:void 0,role:X?"button":"img","data-testid":`rf__edge-${r}`,"aria-label":V===null?void 0:V||`Edge from ${y} to ${b}`,"aria-describedby":X?`${Ev}-${G}`:void 0,ref:ce},!de&&I.createElement(e,{id:r,source:y,target:b,selected:u,animated:l,label:c,labelStyle:f,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,data:a,style:m,sourceX:S,sourceY:_,targetX:q,targetY:C,sourcePosition:T,targetPosition:M,sourceHandleId:k,targetHandleId:P,markerStart:Se,markerEnd:K,pathOptions:ie,interactionWidth:ae}),ne&&I.createElement(I.Fragment,null,(ne==="source"||ne===!0)&&I.createElement(af,{position:T,centerX:S,centerY:_,radius:$,onMouseDown:Ue,onMouseEnter:we,onMouseOut:Me,type:"source"}),(ne==="target"||ne===!0)&&I.createElement(af,{position:M,centerX:q,centerY:C,radius:$,onMouseDown:Fe,onMouseEnter:we,onMouseOut:Me,type:"target"})))};return t.displayName="EdgeWrapper",x.memo(t)};function Bw(e){const t={default:ar(e.default||Cn),straight:ar(e.bezier||Hc),step:ar(e.step||zc),smoothstep:ar(e.step||$n),simplebezier:ar(e.simplebezier||Fc)},r={},n=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,a)=>(i[a]=ar(e[a]||Cn),i),r);return{...t,...n}}function of(e,t,r=null){const n=(r?.x||0)+t.x,i=(r?.y||0)+t.y,a=r?.width||t.width,o=r?.height||t.height;switch(e){case Y.Top:return{x:n+a/2,y:i};case Y.Right:return{x:n+a,y:i+o/2};case Y.Bottom:return{x:n+a/2,y:i+o};case Y.Left:return{x:n,y:i+o/2}}}function sf(e,t){return e?e.length===1||!t?e[0]:t&&e.find(r=>r.id===t)||null:null}const Vw=(e,t,r,n,i,a)=>{const o=of(r,e,t),s=of(a,n,i);return{sourceX:o.x,sourceY:o.y,targetX:s.x,targetY:s.y}};function Gw({sourcePos:e,targetPos:t,sourceWidth:r,sourceHeight:n,targetWidth:i,targetHeight:a,width:o,height:s,transform:u}){const l={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+r,t.x+i),y2:Math.max(e.y+n,t.y+a)};l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);const c=Lc({x:(0-u[0])/u[2],y:(0-u[1])/u[2],width:o/u[2],height:s/u[2]}),f=Math.max(0,Math.min(c.x2,l.x2)-Math.max(c.x,l.x)),d=Math.max(0,Math.min(c.y2,l.y2)-Math.max(c.y,l.y));return Math.ceil(f*d)>0}function uf(e){const t=e?.[xe]?.handleBounds||null,r=t&&e?.width&&e?.height&&typeof e?.positionAbsolute?.x<"u"&&typeof e?.positionAbsolute?.y<"u";return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},t,!!r]}const Uw=[{level:0,isMaxLevel:!0,edges:[]}];function Kw(e,t,r=!1){let n=-1;const i=e.reduce((o,s)=>{const u=Je(s.zIndex);let l=u?s.zIndex:0;if(r){const c=t.get(s.target),f=t.get(s.source),d=s.selected||c?.selected||f?.selected,h=Math.max(f?.[xe]?.z||0,c?.[xe]?.z||0,1e3);l=(u?s.zIndex:0)+(d?h:0)}return o[l]?o[l].push(s):o[l]=[s],n=l>n?l:n,o},{}),a=Object.entries(i).map(([o,s])=>{const u=+o;return{edges:s,level:u,isMaxLevel:u===n}});return a.length===0?Uw:a}function Yw(e,t,r){const n=ye(x.useCallback(i=>e?i.edges.filter(a=>{const o=t.get(a.source),s=t.get(a.target);return o?.width&&o?.height&&s?.width&&s?.height&&Gw({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:s.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:s.width,targetHeight:s.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return Kw(n,t,r)}const Ww=({color:e="none",strokeWidth:t=1})=>I.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Xw=({color:e="none",strokeWidth:t=1})=>I.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),cf={[Nn.Arrow]:Ww,[Nn.ArrowClosed]:Xw};function Zw(e){const t=Re();return x.useMemo(()=>Object.prototype.hasOwnProperty.call(cf,e)?cf[e]:(t.getState().onError?.("009",Ct.error009(e)),null),[e])}const Jw=({id:e,type:t,color:r,width:n=12.5,height:i=12.5,markerUnits:a="strokeWidth",strokeWidth:o,orient:s="auto-start-reverse"})=>{const u=Zw(t);return u?I.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:s,refX:"0",refY:"0"},I.createElement(u,{color:r,strokeWidth:o})):null},Qw=({defaultColor:e,rfId:t})=>r=>{const n=[];return r.edges.reduce((i,a)=>([a.markerStart,a.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const s=xc(o,t);n.includes(s)||(i.push({id:s,color:o.color||e,...o}),n.push(s))}}),i),[]).sort((i,a)=>i.id.localeCompare(a.id))},jv=({defaultColor:e,rfId:t})=>{const r=ye(x.useCallback(Qw({defaultColor:e,rfId:t}),[e,t]),(n,i)=>!(n.length!==i.length||n.some((a,o)=>a.id!==i[o].id)));return I.createElement("defs",null,r.map(n=>I.createElement(Jw,{id:n.id,key:n.id,type:n.type,color:n.color,width:n.width,height:n.height,markerUnits:n.markerUnits,strokeWidth:n.strokeWidth,orient:n.orient})))};jv.displayName="MarkerDefinitions";var eE=x.memo(jv);const tE=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),$v=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:r,rfId:n,edgeTypes:i,noPanClassName:a,onEdgeContextMenu:o,onEdgeMouseEnter:s,onEdgeMouseMove:u,onEdgeMouseLeave:l,onEdgeClick:c,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:h,onReconnectEnd:p,reconnectRadius:g,children:m,disableKeyboardA11y:y})=>{const{edgesFocusable:b,edgesUpdatable:S,elementsSelectable:_,width:q,height:C,connectionMode:T,nodeInternals:M,onError:A}=ye(tE,je),O=Yw(t,M,r);return q?I.createElement(I.Fragment,null,O.map(({level:k,edges:P,isMaxLevel:j})=>I.createElement("svg",{key:k,style:{zIndex:k},width:q,height:C,className:"react-flow__edges react-flow__container"},j&&I.createElement(eE,{defaultColor:e,rfId:n}),I.createElement("g",null,P.map(v=>{const[R,E,$]=uf(M.get(v.source)),[L,N,D]=uf(M.get(v.target));if(!$||!D)return null;let F=v.type||"default";i[F]||(A?.("011",Ct.error011(F)),F="default");const H=i[F]||i.default,G=T===Xt.Strict?N.target:(N.target??[]).concat(N.source??[]),V=sf(E.source,v.sourceHandle),X=sf(G,v.targetHandle),ne=V?.position||Y.Bottom,ie=X?.position||Y.Top,ae=!!(v.focusable||b&&typeof v.focusable>"u"),fe=v.reconnectable||v.updatable,ce=typeof d<"u"&&(fe||S&&typeof fe>"u");if(!V||!X)return A?.("008",Ct.error008(V,v)),null;const{sourceX:qe,sourceY:Ae,targetX:de,targetY:Te}=Vw(R,V,ne,L,X,ie);return I.createElement(H,{key:v.id,id:v.id,className:Le([v.className,a]),type:F,data:v.data,selected:!!v.selected,animated:!!v.animated,hidden:!!v.hidden,label:v.label,labelStyle:v.labelStyle,labelShowBg:v.labelShowBg,labelBgStyle:v.labelBgStyle,labelBgPadding:v.labelBgPadding,labelBgBorderRadius:v.labelBgBorderRadius,style:v.style,source:v.source,target:v.target,sourceHandleId:v.sourceHandle,targetHandleId:v.targetHandle,markerEnd:v.markerEnd,markerStart:v.markerStart,sourceX:qe,sourceY:Ae,targetX:de,targetY:Te,sourcePosition:ne,targetPosition:ie,elementsSelectable:_,onContextMenu:o,onMouseEnter:s,onMouseMove:u,onMouseLeave:l,onClick:c,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:h,onReconnectEnd:p,reconnectRadius:g,rfId:n,ariaLabel:v.ariaLabel,isFocusable:ae,isReconnectable:ce,pathOptions:"pathOptions"in v?v.pathOptions:void 0,interactionWidth:v.interactionWidth,disableKeyboardA11y:y})})))),m):null};$v.displayName="EdgeRenderer";var rE=x.memo($v);const nE=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function iE({children:e}){const t=ye(nE);return I.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function aE(e){const t=Dn(),r=x.useRef(!1);x.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const oE={[Y.Left]:Y.Right,[Y.Right]:Y.Left,[Y.Top]:Y.Bottom,[Y.Bottom]:Y.Top},Dv=({nodeId:e,handleType:t,style:r,type:n=jt.Bezier,CustomComponent:i,connectionStatus:a})=>{const{fromNode:o,handleId:s,toX:u,toY:l,connectionMode:c}=ye(x.useCallback(C=>({fromNode:C.nodeInternals.get(e),handleId:C.connectionHandleId,toX:(C.connectionPosition.x-C.transform[0])/C.transform[2],toY:(C.connectionPosition.y-C.transform[1])/C.transform[2],connectionMode:C.connectionMode}),[e]),je),f=o?.[xe]?.handleBounds;let d=f?.[t];if(c===Xt.Loose&&(d=d||f?.[t==="source"?"target":"source"]),!o||!d)return null;const h=s?d.find(C=>C.id===s):d[0],p=h?h.x+h.width/2:(o.width??0)/2,g=h?h.y+h.height/2:o.height??0,m=(o.positionAbsolute?.x??0)+p,y=(o.positionAbsolute?.y??0)+g,b=h?.position,S=b?oE[b]:null;if(!b||!S)return null;if(i)return I.createElement(i,{connectionLineType:n,connectionLineStyle:r,fromNode:o,fromHandle:h,fromX:m,fromY:y,toX:u,toY:l,fromPosition:b,toPosition:S,connectionStatus:a});let _="";const q={sourceX:m,sourceY:y,sourcePosition:b,targetX:u,targetY:l,targetPosition:S};return n===jt.Bezier?[_]=sv(q):n===jt.Step?[_]=_c({...q,borderRadius:0}):n===jt.SmoothStep?[_]=_c(q):n===jt.SimpleBezier?[_]=ov(q):_=`M${m},${y} ${u},${l}`,I.createElement("path",{d:_,fill:"none",className:"react-flow__connection-path",style:r})};Dv.displayName="ConnectionLine";const sE=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function uE({containerStyle:e,style:t,type:r,component:n}){const{nodeId:i,handleType:a,nodesConnectable:o,width:s,height:u,connectionStatus:l}=ye(sE,je);return!(i&&a&&s&&o)?null:I.createElement("svg",{style:e,width:s,height:u,className:"react-flow__edges react-flow__connectionline react-flow__container"},I.createElement("g",{className:Le(["react-flow__connection",l])},I.createElement(Dv,{nodeId:i,handleType:a,style:t,type:r,CustomComponent:n,connectionStatus:l})))}function lf(e,t){return x.useRef(null),Re(),x.useMemo(()=>t(e),[e])}const Lv=({nodeTypes:e,edgeTypes:t,onMove:r,onMoveStart:n,onMoveEnd:i,onInit:a,onNodeClick:o,onEdgeClick:s,onNodeDoubleClick:u,onEdgeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:h,onSelectionContextMenu:p,onSelectionStart:g,onSelectionEnd:m,connectionLineType:y,connectionLineStyle:b,connectionLineComponent:S,connectionLineContainerStyle:_,selectionKeyCode:q,selectionOnDrag:C,selectionMode:T,multiSelectionKeyCode:M,panActivationKeyCode:A,zoomActivationKeyCode:O,deleteKeyCode:k,onlyRenderVisibleElements:P,elementsSelectable:j,selectNodesOnDrag:v,defaultViewport:R,translateExtent:E,minZoom:$,maxZoom:L,preventScrolling:N,defaultMarkerColor:D,zoomOnScroll:F,zoomOnPinch:H,panOnScroll:G,panOnScrollSpeed:V,panOnScrollMode:X,zoomOnDoubleClick:ne,panOnDrag:ie,onPaneClick:ae,onPaneMouseEnter:fe,onPaneMouseMove:ce,onPaneMouseLeave:qe,onPaneScroll:Ae,onPaneContextMenu:de,onEdgeContextMenu:Te,onEdgeMouseEnter:W,onEdgeMouseMove:Se,onEdgeMouseLeave:K,onReconnect:U,onReconnectStart:he,onReconnectEnd:Xe,reconnectRadius:Ge,noDragClassName:Ne,noWheelClassName:ge,noPanClassName:ke,elevateEdgesOnSelect:Ue,disableKeyboardA11y:Fe,nodeOrigin:we,nodeExtent:Me,rfId:tt})=>{const rt=lf(e,jw),be=lf(t,Bw);return aE(a),I.createElement(Pw,{onPaneClick:ae,onPaneMouseEnter:fe,onPaneMouseMove:ce,onPaneMouseLeave:qe,onPaneContextMenu:de,onPaneScroll:Ae,deleteKeyCode:k,selectionKeyCode:q,selectionOnDrag:C,selectionMode:T,onSelectionStart:g,onSelectionEnd:m,multiSelectionKeyCode:M,panActivationKeyCode:A,zoomActivationKeyCode:O,elementsSelectable:j,onMove:r,onMoveStart:n,onMoveEnd:i,zoomOnScroll:F,zoomOnPinch:H,zoomOnDoubleClick:ne,panOnScroll:G,panOnScrollSpeed:V,panOnScrollMode:X,panOnDrag:ie,defaultViewport:R,translateExtent:E,minZoom:$,maxZoom:L,onSelectionContextMenu:p,preventScrolling:N,noDragClassName:Ne,noWheelClassName:ge,noPanClassName:ke,disableKeyboardA11y:Fe},I.createElement(iE,null,I.createElement(rE,{edgeTypes:be,onEdgeClick:s,onEdgeDoubleClick:l,onlyRenderVisibleElements:P,onEdgeContextMenu:Te,onEdgeMouseEnter:W,onEdgeMouseMove:Se,onEdgeMouseLeave:K,onReconnect:U,onReconnectStart:he,onReconnectEnd:Xe,reconnectRadius:Ge,defaultMarkerColor:D,noPanClassName:ke,elevateEdgesOnSelect:!!Ue,disableKeyboardA11y:Fe,rfId:tt},I.createElement(uE,{style:b,type:y,component:S,containerStyle:_})),I.createElement("div",{className:"react-flow__edgelabel-renderer"}),I.createElement(Lw,{nodeTypes:rt,onNodeClick:o,onNodeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:h,selectNodesOnDrag:v,onlyRenderVisibleElements:P,noPanClassName:ke,noDragClassName:Ne,disableKeyboardA11y:Fe,nodeOrigin:we,nodeExtent:Me,rfId:tt})))};Lv.displayName="GraphView";var cE=x.memo(Lv);const Nc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],It={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Nc,nodeExtent:Nc,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Xt.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:$1,isValidConnection:void 0},lE=()=>Xy((e,t)=>({...It,setNodes:r=>{const{nodeInternals:n,nodeOrigin:i,elevateNodesOnSelect:a}=t();e({nodeInternals:di(r,n,i,a)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:r=>{const{defaultEdgeOptions:n={}}=t();e({edges:r.map(i=>({...n,...i}))})},setDefaultNodesAndEdges:(r,n)=>{const i=typeof r<"u",a=typeof n<"u",o=i?di(r,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:a?n:[],hasDefaultNodes:i,hasDefaultEdges:a})},updateNodeDimensions:r=>{const{onNodesChange:n,nodeInternals:i,fitViewOnInit:a,fitViewOnInitDone:o,fitViewOnInitOptions:s,domNode:u,nodeOrigin:l}=t(),c=u?.querySelector(".react-flow__viewport");if(!c)return;const f=window.getComputedStyle(c),{m22:d}=new window.DOMMatrixReadOnly(f.transform),h=r.reduce((g,m)=>{const y=i.get(m.id);if(y?.hidden)i.set(y.id,{...y,[xe]:{...y[xe],handleBounds:void 0}});else if(y){const b=$c(m.nodeElement);!!(b.width&&b.height&&(y.width!==b.width||y.height!==b.height||m.forceUpdate))&&(i.set(y.id,{...y,[xe]:{...y[xe],handleBounds:{source:rf(".source",m.nodeElement,d,l),target:rf(".target",m.nodeElement,d,l)}},...b}),g.push({id:y.id,type:"dimensions",dimensions:b}))}return g},[]);Nv(i,l);const p=o||a&&!o&&Cv(t,{initial:!0,...s});e({nodeInternals:new Map(i),fitViewOnInitDone:p}),h?.length>0&&n?.(h)},updateNodePositions:(r,n=!0,i=!1)=>{const{triggerNodeChanges:a}=t(),o=r.map(s=>{const u={id:s.id,type:"position",dragging:i};return n&&(u.positionAbsolute=s.positionAbsolute,u.position=s.position),u});a(o)},triggerNodeChanges:r=>{const{onNodesChange:n,nodeInternals:i,hasDefaultNodes:a,nodeOrigin:o,getNodes:s,elevateNodesOnSelect:u}=t();if(r?.length){if(a){const l=qv(r,s()),c=di(l,i,o,u);e({nodeInternals:c})}n?.(r)}},addSelectedNodes:r=>{const{multiSelectionActive:n,edges:i,getNodes:a}=t();let o,s=null;n?o=r.map(u=>Ot(u,!0)):(o=or(a(),r),s=or(i,[])),ln({changedNodes:o,changedEdges:s,get:t,set:e})},addSelectedEdges:r=>{const{multiSelectionActive:n,edges:i,getNodes:a}=t();let o,s=null;n?o=r.map(u=>Ot(u,!0)):(o=or(i,r),s=or(a(),[])),ln({changedNodes:s,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:r,edges:n}={})=>{const{edges:i,getNodes:a}=t(),o=r||a(),s=n||i,u=o.map(c=>(c.selected=!1,Ot(c.id,!1))),l=s.map(c=>Ot(c.id,!1));ln({changedNodes:u,changedEdges:l,get:t,set:e})},setMinZoom:r=>{const{d3Zoom:n,maxZoom:i}=t();n?.scaleExtent([r,i]),e({minZoom:r})},setMaxZoom:r=>{const{d3Zoom:n,minZoom:i}=t();n?.scaleExtent([i,r]),e({maxZoom:r})},setTranslateExtent:r=>{t().d3Zoom?.translateExtent(r),e({translateExtent:r})},resetSelectedElements:()=>{const{edges:r,getNodes:n}=t(),a=n().filter(s=>s.selected).map(s=>Ot(s.id,!1)),o=r.filter(s=>s.selected).map(s=>Ot(s.id,!1));ln({changedNodes:a,changedEdges:o,get:t,set:e})},setNodeExtent:r=>{const{nodeInternals:n}=t();n.forEach(i=>{i.positionAbsolute=Dc(i.position,r)}),e({nodeExtent:r,nodeInternals:new Map(n)})},panBy:r=>{const{transform:n,width:i,height:a,d3Zoom:o,d3Selection:s,translateExtent:u}=t();if(!o||!s||!r.x&&!r.y)return!1;const l=Dt.translate(n[0]+r.x,n[1]+r.y).scale(n[2]),c=[[0,0],[i,a]],f=o?.constrain()(l,c,u);return o.transform(s,f),n[0]!==f.x||n[1]!==f.y||n[2]!==f.k},cancelConnection:()=>e({connectionNodeId:It.connectionNodeId,connectionHandleId:It.connectionHandleId,connectionHandleType:It.connectionHandleType,connectionStatus:It.connectionStatus,connectionStartHandle:It.connectionStartHandle,connectionEndHandle:It.connectionEndHandle}),reset:()=>e({...It})}),Object.is),Yc=({children:e})=>{const t=x.useRef(null);return t.current||(t.current=lE()),I.createElement(A1,{value:t.current},e)};Yc.displayName="ReactFlowProvider";const Fv=({children:e})=>x.useContext(jn)?I.createElement(I.Fragment,null,e):I.createElement(Yc,null,e);Fv.displayName="ReactFlowWrapper";const fE={input:yv,default:Ec,output:_v,group:Uc},dE={default:Cn,straight:Hc,step:zc,smoothstep:$n,simplebezier:Fc},hE=[0,0],gE=[15,15],pE={x:0,y:0,zoom:1},vE={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},zv=x.forwardRef(({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:i,nodeTypes:a=fE,edgeTypes:o=dE,onNodeClick:s,onEdgeClick:u,onInit:l,onMove:c,onMoveStart:f,onMoveEnd:d,onConnect:h,onConnectStart:p,onConnectEnd:g,onClickConnectStart:m,onClickConnectEnd:y,onNodeMouseEnter:b,onNodeMouseMove:S,onNodeMouseLeave:_,onNodeContextMenu:q,onNodeDoubleClick:C,onNodeDragStart:T,onNodeDrag:M,onNodeDragStop:A,onNodesDelete:O,onEdgesDelete:k,onSelectionChange:P,onSelectionDragStart:j,onSelectionDrag:v,onSelectionDragStop:R,onSelectionContextMenu:E,onSelectionStart:$,onSelectionEnd:L,connectionMode:N=Xt.Strict,connectionLineType:D=jt.Bezier,connectionLineStyle:F,connectionLineComponent:H,connectionLineContainerStyle:G,deleteKeyCode:V="Backspace",selectionKeyCode:X="Shift",selectionOnDrag:ne=!1,selectionMode:ie=Br.Full,panActivationKeyCode:ae="Space",multiSelectionKeyCode:fe=Sn()?"Meta":"Control",zoomActivationKeyCode:ce=Sn()?"Meta":"Control",snapToGrid:qe=!1,snapGrid:Ae=gE,onlyRenderVisibleElements:de=!1,selectNodesOnDrag:Te=!0,nodesDraggable:W,nodesConnectable:Se,nodesFocusable:K,nodeOrigin:U=hE,edgesFocusable:he,edgesUpdatable:Xe,elementsSelectable:Ge,defaultViewport:Ne=pE,minZoom:ge=.5,maxZoom:ke=2,translateExtent:Ue=Nc,preventScrolling:Fe=!0,nodeExtent:we,defaultMarkerColor:Me="#b1b1b7",zoomOnScroll:tt=!0,zoomOnPinch:rt=!0,panOnScroll:be=!1,panOnScrollSpeed:Pe=.5,panOnScrollMode:Ce=Ut.Free,zoomOnDoubleClick:Ie=!0,panOnDrag:Tt=!0,onPaneClick:$e,onPaneMouseEnter:mt,onPaneMouseMove:_r,onPaneMouseLeave:xr,onPaneScroll:Bt,onPaneContextMenu:wr,children:Qr,onEdgeContextMenu:yt,onEdgeDoubleClick:z,onEdgeMouseEnter:B,onEdgeMouseMove:J,onEdgeMouseLeave:Q,onEdgeUpdate:le,onEdgeUpdateStart:oe,onEdgeUpdateEnd:pe,onReconnect:Ze,onReconnectStart:ve,onReconnectEnd:Oe,reconnectRadius:se=10,edgeUpdaterRadius:_e=10,onNodesChange:ze,onEdgesChange:De,noDragClassName:He="nodrag",noWheelClassName:ee="nowheel",noPanClassName:Ke="nopan",fitView:kt=!1,fitViewOptions:ct,connectOnClick:lt=!0,attributionPosition:bt,proOptions:ft,defaultEdgeOptions:sy,elevateNodesOnSelect:uy=!0,elevateEdgesOnSelect:cy=!1,disableKeyboardA11y:gl=!1,autoPanOnConnect:ly=!0,autoPanOnNodeDrag:fy=!0,connectionRadius:dy=20,isValidConnection:hy,onError:gy,style:py,id:pl,nodeDragThreshold:vy,...my},yy)=>{const ii=pl||"1";return I.createElement("div",{...my,style:{...py,...vE},ref:yy,className:Le(["react-flow",i]),"data-testid":"rf__wrapper",id:pl},I.createElement(Fv,null,I.createElement(cE,{onInit:l,onMove:c,onMoveStart:f,onMoveEnd:d,onNodeClick:s,onEdgeClick:u,onNodeMouseEnter:b,onNodeMouseMove:S,onNodeMouseLeave:_,onNodeContextMenu:q,onNodeDoubleClick:C,nodeTypes:a,edgeTypes:o,connectionLineType:D,connectionLineStyle:F,connectionLineComponent:H,connectionLineContainerStyle:G,selectionKeyCode:X,selectionOnDrag:ne,selectionMode:ie,deleteKeyCode:V,multiSelectionKeyCode:fe,panActivationKeyCode:ae,zoomActivationKeyCode:ce,onlyRenderVisibleElements:de,selectNodesOnDrag:Te,defaultViewport:Ne,translateExtent:Ue,minZoom:ge,maxZoom:ke,preventScrolling:Fe,zoomOnScroll:tt,zoomOnPinch:rt,zoomOnDoubleClick:Ie,panOnScroll:be,panOnScrollSpeed:Pe,panOnScrollMode:Ce,panOnDrag:Tt,onPaneClick:$e,onPaneMouseEnter:mt,onPaneMouseMove:_r,onPaneMouseLeave:xr,onPaneScroll:Bt,onPaneContextMenu:wr,onSelectionContextMenu:E,onSelectionStart:$,onSelectionEnd:L,onEdgeContextMenu:yt,onEdgeDoubleClick:z,onEdgeMouseEnter:B,onEdgeMouseMove:J,onEdgeMouseLeave:Q,onReconnect:Ze??le,onReconnectStart:ve??oe,onReconnectEnd:Oe??pe,reconnectRadius:se??_e,defaultMarkerColor:Me,noDragClassName:He,noWheelClassName:ee,noPanClassName:Ke,elevateEdgesOnSelect:cy,rfId:ii,disableKeyboardA11y:gl,nodeOrigin:U,nodeExtent:we}),I.createElement(ow,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:h,onConnectStart:p,onConnectEnd:g,onClickConnectStart:m,onClickConnectEnd:y,nodesDraggable:W,nodesConnectable:Se,nodesFocusable:K,edgesFocusable:he,edgesUpdatable:Xe,elementsSelectable:Ge,elevateNodesOnSelect:uy,minZoom:ge,maxZoom:ke,nodeExtent:we,onNodesChange:ze,onEdgesChange:De,snapToGrid:qe,snapGrid:Ae,connectionMode:N,translateExtent:Ue,connectOnClick:lt,defaultEdgeOptions:sy,fitView:kt,fitViewOptions:ct,onNodesDelete:O,onEdgesDelete:k,onNodeDragStart:T,onNodeDrag:M,onNodeDragStop:A,onSelectionDrag:v,onSelectionDragStart:j,onSelectionDragStop:R,noPanClassName:Ke,nodeOrigin:U,rfId:ii,autoPanOnConnect:ly,autoPanOnNodeDrag:fy,onError:gy,connectionRadius:dy,isValidConnection:hy,nodeDragThreshold:vy}),I.createElement(iw,{onSelectionChange:P}),Qr,I.createElement(k1,{proOptions:ft,position:bt}),I.createElement(fw,{rfId:ii,disableKeyboardA11y:gl})))});zv.displayName="ReactFlow";function Hv(e){return t=>{const[r,n]=x.useState(t),i=x.useCallback(a=>n(o=>e(a,o)),[]);return[r,n,i]}}const mE=Hv(qv),yE=Hv(Nw);function bE(){return I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},I.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function _E(){return I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},I.createElement("path",{d:"M0 0h32v4.2H0z"}))}function xE(){return I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},I.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function wE(){return I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},I.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function EE(){return I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},I.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const kr=({children:e,className:t,...r})=>I.createElement("button",{type:"button",className:Le(["react-flow__controls-button",t]),...r},e);kr.displayName="ControlButton";const SE=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Bv=({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:i,onZoomIn:a,onZoomOut:o,onFitView:s,onInteractiveChange:u,className:l,children:c,position:f="bottom-left"})=>{const d=Re(),[h,p]=x.useState(!1),{isInteractive:g,minZoomReached:m,maxZoomReached:y}=ye(SE,je),{zoomIn:b,zoomOut:S,fitView:_}=Dn();if(x.useEffect(()=>{p(!0)},[]),!h)return null;const q=()=>{b(),a?.()},C=()=>{S(),o?.()},T=()=>{_(i),s?.()},M=()=>{d.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),u?.(!g)};return I.createElement(jc,{className:Le(["react-flow__controls",l]),position:f,style:e,"data-testid":"rf__controls"},t&&I.createElement(I.Fragment,null,I.createElement(kr,{onClick:q,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:y},I.createElement(bE,null)),I.createElement(kr,{onClick:C,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:m},I.createElement(_E,null))),r&&I.createElement(kr,{className:"react-flow__controls-fitview",onClick:T,title:"fit view","aria-label":"fit view"},I.createElement(xE,null)),n&&I.createElement(kr,{className:"react-flow__controls-interactive",onClick:M,title:"toggle interactivity","aria-label":"toggle interactivity"},g?I.createElement(EE,null):I.createElement(wE,null)),c)};Bv.displayName="Controls";var NE=x.memo(Bv),at;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(at||(at={}));function CE({color:e,dimensions:t,lineWidth:r}){return I.createElement("path",{stroke:e,strokeWidth:r,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function RE({color:e,radius:t}){return I.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const qE={[at.Dots]:"#91919a",[at.Lines]:"#eee",[at.Cross]:"#e2e2e2"},AE={[at.Dots]:1,[at.Lines]:1,[at.Cross]:6},TE=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Vv({id:e,variant:t=at.Dots,gap:r=20,size:n,lineWidth:i=1,offset:a=2,color:o,style:s,className:u}){const l=x.useRef(null),{transform:c,patternId:f}=ye(TE,je),d=o||qE[t],h=n||AE[t],p=t===at.Dots,g=t===at.Cross,m=Array.isArray(r)?r:[r,r],y=[m[0]*c[2]||1,m[1]*c[2]||1],b=h*c[2],S=g?[b,b]:y,_=p?[b/a,b/a]:[S[0]/a,S[1]/a];return I.createElement("svg",{className:Le(["react-flow__background",u]),style:{...s,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:l,"data-testid":"rf__background"},I.createElement("pattern",{id:f+e,x:c[0]%y[0],y:c[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`},p?I.createElement(RE,{color:d,radius:b/a}):I.createElement(CE,{dimensions:S,color:d,lineWidth:i})),I.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}Vv.displayName="Background";var kE=x.memo(Vv),vi,ff;function IE(){if(ff)return vi;ff=1;function e(){this.__data__=[],this.size=0}return vi=e,vi}var mi,df;function pr(){if(df)return mi;df=1;function e(t,r){return t===r||t!==t&&r!==r}return mi=e,mi}var yi,hf;function Ln(){if(hf)return yi;hf=1;var e=pr();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return yi=t,yi}var bi,gf;function ME(){if(gf)return bi;gf=1;var e=Ln(),t=Array.prototype,r=t.splice;function n(i){var a=this.__data__,o=e(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():r.call(a,o,1),--this.size,!0}return bi=n,bi}var _i,pf;function PE(){if(pf)return _i;pf=1;var e=Ln();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return _i=t,_i}var xi,vf;function OE(){if(vf)return xi;vf=1;var e=Ln();function t(r){return e(this.__data__,r)>-1}return xi=t,xi}var wi,mf;function jE(){if(mf)return wi;mf=1;var e=Ln();function t(r,n){var i=this.__data__,a=e(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return wi=t,wi}var Ei,yf;function Fn(){if(yf)return Ei;yf=1;var e=IE(),t=ME(),r=PE(),n=OE(),i=jE();function a(o){var s=-1,u=o==null?0:o.length;for(this.clear();++s<u;){var l=o[s];this.set(l[0],l[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Ei=a,Ei}var Si,bf;function $E(){if(bf)return Si;bf=1;var e=Fn();function t(){this.__data__=new e,this.size=0}return Si=t,Si}var Ni,_f;function DE(){if(_f)return Ni;_f=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return Ni=e,Ni}var Ci,xf;function LE(){if(xf)return Ci;xf=1;function e(t){return this.__data__.get(t)}return Ci=e,Ci}var Ri,wf;function FE(){if(wf)return Ri;wf=1;function e(t){return this.__data__.has(t)}return Ri=e,Ri}var qi,Ef;function Gv(){if(Ef)return qi;Ef=1;var e=typeof tn=="object"&&tn&&tn.Object===Object&&tn;return qi=e,qi}var Ai,Sf;function st(){if(Sf)return Ai;Sf=1;var e=Gv(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Ai=r,Ai}var Ti,Nf;function vr(){if(Nf)return Ti;Nf=1;var e=st(),t=e.Symbol;return Ti=t,Ti}var ki,Cf;function zE(){if(Cf)return ki;Cf=1;var e=vr(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function a(o){var s=r.call(o,i),u=o[i];try{o[i]=void 0;var l=!0}catch{}var c=n.call(o);return l&&(s?o[i]=u:delete o[i]),c}return ki=a,ki}var Ii,Rf;function HE(){if(Rf)return Ii;Rf=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Ii=r,Ii}var Mi,qf;function Zt(){if(qf)return Mi;qf=1;var e=vr(),t=zE(),r=HE(),n="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?i:n:a&&a in Object(s)?t(s):r(s)}return Mi=o,Mi}var Pi,Af;function Qe(){if(Af)return Pi;Af=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Pi=e,Pi}var Oi,Tf;function Yr(){if(Tf)return Oi;Tf=1;var e=Zt(),t=Qe(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!t(s))return!1;var u=e(s);return u==n||u==i||u==r||u==a}return Oi=o,Oi}var ji,kf;function BE(){if(kf)return ji;kf=1;var e=st(),t=e["__core-js_shared__"];return ji=t,ji}var $i,If;function VE(){if(If)return $i;If=1;var e=BE(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return $i=r,$i}var Di,Mf;function Uv(){if(Mf)return Di;Mf=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Di=r,Di}var Li,Pf;function GE(){if(Pf)return Li;Pf=1;var e=Yr(),t=VE(),r=Qe(),n=Uv(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,u=o.toString,l=s.hasOwnProperty,c=RegExp("^"+u.call(l).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(d){if(!r(d)||t(d))return!1;var h=e(d)?c:a;return h.test(n(d))}return Li=f,Li}var Fi,Of;function UE(){if(Of)return Fi;Of=1;function e(t,r){return t?.[r]}return Fi=e,Fi}var zi,jf;function Jt(){if(jf)return zi;jf=1;var e=GE(),t=UE();function r(n,i){var a=t(n,i);return e(a)?a:void 0}return zi=r,zi}var Hi,$f;function Wc(){if($f)return Hi;$f=1;var e=Jt(),t=st(),r=e(t,"Map");return Hi=r,Hi}var Bi,Df;function zn(){if(Df)return Bi;Df=1;var e=Jt(),t=e(Object,"create");return Bi=t,Bi}var Vi,Lf;function KE(){if(Lf)return Vi;Lf=1;var e=zn();function t(){this.__data__=e?e(null):{},this.size=0}return Vi=t,Vi}var Gi,Ff;function YE(){if(Ff)return Gi;Ff=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Gi=e,Gi}var Ui,zf;function WE(){if(zf)return Ui;zf=1;var e=zn(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(e){var s=o[a];return s===t?void 0:s}return n.call(o,a)?o[a]:void 0}return Ui=i,Ui}var Ki,Hf;function XE(){if(Hf)return Ki;Hf=1;var e=zn(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var a=this.__data__;return e?a[i]!==void 0:r.call(a,i)}return Ki=n,Ki}var Yi,Bf;function ZE(){if(Bf)return Yi;Bf=1;var e=zn(),t="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=e&&i===void 0?t:i,this}return Yi=r,Yi}var Wi,Vf;function JE(){if(Vf)return Wi;Vf=1;var e=KE(),t=YE(),r=WE(),n=XE(),i=ZE();function a(o){var s=-1,u=o==null?0:o.length;for(this.clear();++s<u;){var l=o[s];this.set(l[0],l[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Wi=a,Wi}var Xi,Gf;function QE(){if(Gf)return Xi;Gf=1;var e=JE(),t=Fn(),r=Wc();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Xi=n,Xi}var Zi,Uf;function e2(){if(Uf)return Zi;Uf=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Zi=e,Zi}var Ji,Kf;function Hn(){if(Kf)return Ji;Kf=1;var e=e2();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Ji=t,Ji}var Qi,Yf;function t2(){if(Yf)return Qi;Yf=1;var e=Hn();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Qi=t,Qi}var ea,Wf;function r2(){if(Wf)return ea;Wf=1;var e=Hn();function t(r){return e(this,r).get(r)}return ea=t,ea}var ta,Xf;function n2(){if(Xf)return ta;Xf=1;var e=Hn();function t(r){return e(this,r).has(r)}return ta=t,ta}var ra,Zf;function i2(){if(Zf)return ra;Zf=1;var e=Hn();function t(r,n){var i=e(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return ra=t,ra}var na,Jf;function Xc(){if(Jf)return na;Jf=1;var e=QE(),t=t2(),r=r2(),n=n2(),i=i2();function a(o){var s=-1,u=o==null?0:o.length;for(this.clear();++s<u;){var l=o[s];this.set(l[0],l[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,na=a,na}var ia,Qf;function a2(){if(Qf)return ia;Qf=1;var e=Fn(),t=Wc(),r=Xc(),n=200;function i(a,o){var s=this.__data__;if(s instanceof e){var u=s.__data__;if(!t||u.length<n-1)return u.push([a,o]),this.size=++s.size,this;s=this.__data__=new r(u)}return s.set(a,o),this.size=s.size,this}return ia=i,ia}var aa,ed;function Bn(){if(ed)return aa;ed=1;var e=Fn(),t=$E(),r=DE(),n=LE(),i=FE(),a=a2();function o(s){var u=this.__data__=new e(s);this.size=u.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,aa=o,aa}var oa,td;function Zc(){if(td)return oa;td=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i&&r(t[n],n,t)!==!1;);return t}return oa=e,oa}var sa,rd;function Kv(){if(rd)return sa;rd=1;var e=Jt(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return sa=t,sa}var ua,nd;function Vn(){if(nd)return ua;nd=1;var e=Kv();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return ua=t,ua}var ca,id;function Gn(){if(id)return ca;id=1;var e=Vn(),t=pr(),r=Object.prototype,n=r.hasOwnProperty;function i(a,o,s){var u=a[o];(!(n.call(a,o)&&t(u,s))||s===void 0&&!(o in a))&&e(a,o,s)}return ca=i,ca}var la,ad;function Wr(){if(ad)return la;ad=1;var e=Gn(),t=Vn();function r(n,i,a,o){var s=!a;a||(a={});for(var u=-1,l=i.length;++u<l;){var c=i[u],f=o?o(a[c],n[c],c,a,n):void 0;f===void 0&&(f=n[c]),s?t(a,c,f):e(a,c,f)}return a}return la=r,la}var fa,od;function o2(){if(od)return fa;od=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return fa=e,fa}var da,sd;function vt(){if(sd)return da;sd=1;function e(t){return t!=null&&typeof t=="object"}return da=e,da}var ha,ud;function s2(){if(ud)return ha;ud=1;var e=Zt(),t=vt(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return ha=n,ha}var ga,cd;function Xr(){if(cd)return ga;cd=1;var e=s2(),t=vt(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=e(function(){return arguments}())?e:function(o){return t(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return ga=a,ga}var pa,ld;function Ee(){if(ld)return pa;ld=1;var e=Array.isArray;return pa=e,pa}var Ir={exports:{}},va,fd;function u2(){if(fd)return va;fd=1;function e(){return!1}return va=e,va}Ir.exports;var dd;function mr(){return dd||(dd=1,function(e,t){var r=st(),n=u2(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?r.Buffer:void 0,u=s?s.isBuffer:void 0,l=u||n;e.exports=l}(Ir,Ir.exports)),Ir.exports}var ma,hd;function Un(){if(hd)return ma;hd=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return ma=r,ma}var ya,gd;function Jc(){if(gd)return ya;gd=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return ya=t,ya}var ba,pd;function c2(){if(pd)return ba;pd=1;var e=Zt(),t=Jc(),r=vt(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",u="[object Function]",l="[object Map]",c="[object Number]",f="[object Object]",d="[object RegExp]",h="[object Set]",p="[object String]",g="[object WeakMap]",m="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",S="[object Float64Array]",_="[object Int8Array]",q="[object Int16Array]",C="[object Int32Array]",T="[object Uint8Array]",M="[object Uint8ClampedArray]",A="[object Uint16Array]",O="[object Uint32Array]",k={};k[b]=k[S]=k[_]=k[q]=k[C]=k[T]=k[M]=k[A]=k[O]=!0,k[n]=k[i]=k[m]=k[a]=k[y]=k[o]=k[s]=k[u]=k[l]=k[c]=k[f]=k[d]=k[h]=k[p]=k[g]=!1;function P(j){return r(j)&&t(j.length)&&!!k[e(j)]}return ba=P,ba}var _a,vd;function Kn(){if(vd)return _a;vd=1;function e(t){return function(r){return t(r)}}return _a=e,_a}var Mr={exports:{}};Mr.exports;var md;function Qc(){return md||(md=1,function(e,t){var r=Gv(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var u=i&&i.require&&i.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s}(Mr,Mr.exports)),Mr.exports}var xa,yd;function Zr(){if(yd)return xa;yd=1;var e=c2(),t=Kn(),r=Qc(),n=r&&r.isTypedArray,i=n?t(n):e;return xa=i,xa}var wa,bd;function Yv(){if(bd)return wa;bd=1;var e=o2(),t=Xr(),r=Ee(),n=mr(),i=Un(),a=Zr(),o=Object.prototype,s=o.hasOwnProperty;function u(l,c){var f=r(l),d=!f&&t(l),h=!f&&!d&&n(l),p=!f&&!d&&!h&&a(l),g=f||d||h||p,m=g?e(l.length,String):[],y=m.length;for(var b in l)(c||s.call(l,b))&&!(g&&(b=="length"||h&&(b=="offset"||b=="parent")||p&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||i(b,y)))&&m.push(b);return m}return wa=u,wa}var Ea,_d;function Yn(){if(_d)return Ea;_d=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return Ea=t,Ea}var Sa,xd;function Wv(){if(xd)return Sa;xd=1;function e(t,r){return function(n){return t(r(n))}}return Sa=e,Sa}var Na,wd;function l2(){if(wd)return Na;wd=1;var e=Wv(),t=e(Object.keys,Object);return Na=t,Na}var Ca,Ed;function el(){if(Ed)return Ca;Ed=1;var e=Yn(),t=l2(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!e(a))return t(a);var o=[];for(var s in Object(a))n.call(a,s)&&s!="constructor"&&o.push(s);return o}return Ca=i,Ca}var Ra,Sd;function qt(){if(Sd)return Ra;Sd=1;var e=Yr(),t=Jc();function r(n){return n!=null&&t(n.length)&&!e(n)}return Ra=r,Ra}var qa,Nd;function Ht(){if(Nd)return qa;Nd=1;var e=Yv(),t=el(),r=qt();function n(i){return r(i)?e(i):t(i)}return qa=n,qa}var Aa,Cd;function f2(){if(Cd)return Aa;Cd=1;var e=Wr(),t=Ht();function r(n,i){return n&&e(i,t(i),n)}return Aa=r,Aa}var Ta,Rd;function d2(){if(Rd)return Ta;Rd=1;function e(t){var r=[];if(t!=null)for(var n in Object(t))r.push(n);return r}return Ta=e,Ta}var ka,qd;function h2(){if(qd)return ka;qd=1;var e=Qe(),t=Yn(),r=d2(),n=Object.prototype,i=n.hasOwnProperty;function a(o){if(!e(o))return r(o);var s=t(o),u=[];for(var l in o)l=="constructor"&&(s||!i.call(o,l))||u.push(l);return u}return ka=a,ka}var Ia,Ad;function Qt(){if(Ad)return Ia;Ad=1;var e=Yv(),t=h2(),r=qt();function n(i){return r(i)?e(i,!0):t(i)}return Ia=n,Ia}var Ma,Td;function g2(){if(Td)return Ma;Td=1;var e=Wr(),t=Qt();function r(n,i){return n&&e(i,t(i),n)}return Ma=r,Ma}var Pr={exports:{}};Pr.exports;var kd;function Xv(){return kd||(kd=1,function(e,t){var r=st(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,o=a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function u(l,c){if(c)return l.slice();var f=l.length,d=s?s(f):new l.constructor(f);return l.copy(d),d}e.exports=u}(Pr,Pr.exports)),Pr.exports}var Pa,Id;function Zv(){if(Id)return Pa;Id=1;function e(t,r){var n=-1,i=t.length;for(r||(r=Array(i));++n<i;)r[n]=t[n];return r}return Pa=e,Pa}var Oa,Md;function Jv(){if(Md)return Oa;Md=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,a=0,o=[];++n<i;){var s=t[n];r(s,n,t)&&(o[a++]=s)}return o}return Oa=e,Oa}var ja,Pd;function Qv(){if(Pd)return ja;Pd=1;function e(){return[]}return ja=e,ja}var $a,Od;function tl(){if(Od)return $a;Od=1;var e=Jv(),t=Qv(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(s){return n.call(o,s)}))}:t;return $a=a,$a}var Da,jd;function p2(){if(jd)return Da;jd=1;var e=Wr(),t=tl();function r(n,i){return e(n,t(n),i)}return Da=r,Da}var La,$d;function rl(){if($d)return La;$d=1;function e(t,r){for(var n=-1,i=r.length,a=t.length;++n<i;)t[a+n]=r[n];return t}return La=e,La}var Fa,Dd;function Wn(){if(Dd)return Fa;Dd=1;var e=Wv(),t=e(Object.getPrototypeOf,Object);return Fa=t,Fa}var za,Ld;function em(){if(Ld)return za;Ld=1;var e=rl(),t=Wn(),r=tl(),n=Qv(),i=Object.getOwnPropertySymbols,a=i?function(o){for(var s=[];o;)e(s,r(o)),o=t(o);return s}:n;return za=a,za}var Ha,Fd;function v2(){if(Fd)return Ha;Fd=1;var e=Wr(),t=em();function r(n,i){return e(n,t(n),i)}return Ha=r,Ha}var Ba,zd;function tm(){if(zd)return Ba;zd=1;var e=rl(),t=Ee();function r(n,i,a){var o=i(n);return t(n)?o:e(o,a(n))}return Ba=r,Ba}var Va,Hd;function rm(){if(Hd)return Va;Hd=1;var e=tm(),t=tl(),r=Ht();function n(i){return e(i,r,t)}return Va=n,Va}var Ga,Bd;function m2(){if(Bd)return Ga;Bd=1;var e=tm(),t=em(),r=Qt();function n(i){return e(i,r,t)}return Ga=n,Ga}var Ua,Vd;function y2(){if(Vd)return Ua;Vd=1;var e=Jt(),t=st(),r=e(t,"DataView");return Ua=r,Ua}var Ka,Gd;function b2(){if(Gd)return Ka;Gd=1;var e=Jt(),t=st(),r=e(t,"Promise");return Ka=r,Ka}var Ya,Ud;function nm(){if(Ud)return Ya;Ud=1;var e=Jt(),t=st(),r=e(t,"Set");return Ya=r,Ya}var Wa,Kd;function _2(){if(Kd)return Wa;Kd=1;var e=Jt(),t=st(),r=e(t,"WeakMap");return Wa=r,Wa}var Xa,Yd;function yr(){if(Yd)return Xa;Yd=1;var e=y2(),t=Wc(),r=b2(),n=nm(),i=_2(),a=Zt(),o=Uv(),s="[object Map]",u="[object Object]",l="[object Promise]",c="[object Set]",f="[object WeakMap]",d="[object DataView]",h=o(e),p=o(t),g=o(r),m=o(n),y=o(i),b=a;return(e&&b(new e(new ArrayBuffer(1)))!=d||t&&b(new t)!=s||r&&b(r.resolve())!=l||n&&b(new n)!=c||i&&b(new i)!=f)&&(b=function(S){var _=a(S),q=_==u?S.constructor:void 0,C=q?o(q):"";if(C)switch(C){case h:return d;case p:return s;case g:return l;case m:return c;case y:return f}return _}),Xa=b,Xa}var Za,Wd;function x2(){if(Wd)return Za;Wd=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n){var i=n.length,a=new n.constructor(i);return i&&typeof n[0]=="string"&&t.call(n,"index")&&(a.index=n.index,a.input=n.input),a}return Za=r,Za}var Ja,Xd;function im(){if(Xd)return Ja;Xd=1;var e=st(),t=e.Uint8Array;return Ja=t,Ja}var Qa,Zd;function nl(){if(Zd)return Qa;Zd=1;var e=im();function t(r){var n=new r.constructor(r.byteLength);return new e(n).set(new e(r)),n}return Qa=t,Qa}var eo,Jd;function w2(){if(Jd)return eo;Jd=1;var e=nl();function t(r,n){var i=n?e(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return eo=t,eo}var to,Qd;function E2(){if(Qd)return to;Qd=1;var e=/\w*$/;function t(r){var n=new r.constructor(r.source,e.exec(r));return n.lastIndex=r.lastIndex,n}return to=t,to}var ro,eh;function S2(){if(eh)return ro;eh=1;var e=vr(),t=e?e.prototype:void 0,r=t?t.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return ro=n,ro}var no,th;function am(){if(th)return no;th=1;var e=nl();function t(r,n){var i=n?e(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return no=t,no}var io,rh;function N2(){if(rh)return io;rh=1;var e=nl(),t=w2(),r=E2(),n=S2(),i=am(),a="[object Boolean]",o="[object Date]",s="[object Map]",u="[object Number]",l="[object RegExp]",c="[object Set]",f="[object String]",d="[object Symbol]",h="[object ArrayBuffer]",p="[object DataView]",g="[object Float32Array]",m="[object Float64Array]",y="[object Int8Array]",b="[object Int16Array]",S="[object Int32Array]",_="[object Uint8Array]",q="[object Uint8ClampedArray]",C="[object Uint16Array]",T="[object Uint32Array]";function M(A,O,k){var P=A.constructor;switch(O){case h:return e(A);case a:case o:return new P(+A);case p:return t(A,k);case g:case m:case y:case b:case S:case _:case q:case C:case T:return i(A,k);case s:return new P;case u:case f:return new P(A);case l:return r(A);case c:return new P;case d:return n(A)}}return io=M,io}var ao,nh;function om(){if(nh)return ao;nh=1;var e=Qe(),t=Object.create,r=function(){function n(){}return function(i){if(!e(i))return{};if(t)return t(i);n.prototype=i;var a=new n;return n.prototype=void 0,a}}();return ao=r,ao}var oo,ih;function sm(){if(ih)return oo;ih=1;var e=om(),t=Wn(),r=Yn();function n(i){return typeof i.constructor=="function"&&!r(i)?e(t(i)):{}}return oo=n,oo}var so,ah;function C2(){if(ah)return so;ah=1;var e=yr(),t=vt(),r="[object Map]";function n(i){return t(i)&&e(i)==r}return so=n,so}var uo,oh;function R2(){if(oh)return uo;oh=1;var e=C2(),t=Kn(),r=Qc(),n=r&&r.isMap,i=n?t(n):e;return uo=i,uo}var co,sh;function q2(){if(sh)return co;sh=1;var e=yr(),t=vt(),r="[object Set]";function n(i){return t(i)&&e(i)==r}return co=n,co}var lo,uh;function A2(){if(uh)return lo;uh=1;var e=q2(),t=Kn(),r=Qc(),n=r&&r.isSet,i=n?t(n):e;return lo=i,lo}var fo,ch;function um(){if(ch)return fo;ch=1;var e=Bn(),t=Zc(),r=Gn(),n=f2(),i=g2(),a=Xv(),o=Zv(),s=p2(),u=v2(),l=rm(),c=m2(),f=yr(),d=x2(),h=N2(),p=sm(),g=Ee(),m=mr(),y=R2(),b=Qe(),S=A2(),_=Ht(),q=Qt(),C=1,T=2,M=4,A="[object Arguments]",O="[object Array]",k="[object Boolean]",P="[object Date]",j="[object Error]",v="[object Function]",R="[object GeneratorFunction]",E="[object Map]",$="[object Number]",L="[object Object]",N="[object RegExp]",D="[object Set]",F="[object String]",H="[object Symbol]",G="[object WeakMap]",V="[object ArrayBuffer]",X="[object DataView]",ne="[object Float32Array]",ie="[object Float64Array]",ae="[object Int8Array]",fe="[object Int16Array]",ce="[object Int32Array]",qe="[object Uint8Array]",Ae="[object Uint8ClampedArray]",de="[object Uint16Array]",Te="[object Uint32Array]",W={};W[A]=W[O]=W[V]=W[X]=W[k]=W[P]=W[ne]=W[ie]=W[ae]=W[fe]=W[ce]=W[E]=W[$]=W[L]=W[N]=W[D]=W[F]=W[H]=W[qe]=W[Ae]=W[de]=W[Te]=!0,W[j]=W[v]=W[G]=!1;function Se(K,U,he,Xe,Ge,Ne){var ge,ke=U&C,Ue=U&T,Fe=U&M;if(he&&(ge=Ge?he(K,Xe,Ge,Ne):he(K)),ge!==void 0)return ge;if(!b(K))return K;var we=g(K);if(we){if(ge=d(K),!ke)return o(K,ge)}else{var Me=f(K),tt=Me==v||Me==R;if(m(K))return a(K,ke);if(Me==L||Me==A||tt&&!Ge){if(ge=Ue||tt?{}:p(K),!ke)return Ue?u(K,i(ge,K)):s(K,n(ge,K))}else{if(!W[Me])return Ge?K:{};ge=h(K,Me,ke)}}Ne||(Ne=new e);var rt=Ne.get(K);if(rt)return rt;Ne.set(K,ge),S(K)?K.forEach(function(Ce){ge.add(Se(Ce,U,he,Ce,K,Ne))}):y(K)&&K.forEach(function(Ce,Ie){ge.set(Ie,Se(Ce,U,he,Ie,K,Ne))});var be=Fe?Ue?c:l:Ue?q:_,Pe=we?void 0:be(K);return t(Pe||K,function(Ce,Ie){Pe&&(Ie=Ce,Ce=K[Ie]),r(ge,Ie,Se(Ce,U,he,Ie,K,Ne))}),ge}return fo=Se,fo}var ho,lh;function T2(){if(lh)return ho;lh=1;var e=um(),t=4;function r(n){return e(n,t)}return ho=r,ho}var go,fh;function il(){if(fh)return go;fh=1;function e(t){return function(){return t}}return go=e,go}var po,dh;function k2(){if(dh)return po;dh=1;function e(t){return function(r,n,i){for(var a=-1,o=Object(r),s=i(r),u=s.length;u--;){var l=s[t?u:++a];if(n(o[l],l,o)===!1)break}return r}}return po=e,po}var vo,hh;function al(){if(hh)return vo;hh=1;var e=k2(),t=e();return vo=t,vo}var mo,gh;function ol(){if(gh)return mo;gh=1;var e=al(),t=Ht();function r(n,i){return n&&e(n,i,t)}return mo=r,mo}var yo,ph;function I2(){if(ph)return yo;ph=1;var e=qt();function t(r,n){return function(i,a){if(i==null)return i;if(!e(i))return r(i,a);for(var o=i.length,s=n?o:-1,u=Object(i);(n?s--:++s<o)&&a(u[s],s,u)!==!1;);return i}}return yo=t,yo}var bo,vh;function Xn(){if(vh)return bo;vh=1;var e=ol(),t=I2(),r=t(e);return bo=r,bo}var _o,mh;function er(){if(mh)return _o;mh=1;function e(t){return t}return _o=e,_o}var xo,yh;function cm(){if(yh)return xo;yh=1;var e=er();function t(r){return typeof r=="function"?r:e}return xo=t,xo}var wo,bh;function lm(){if(bh)return wo;bh=1;var e=Zc(),t=Xn(),r=cm(),n=Ee();function i(a,o){var s=n(a)?e:t;return s(a,r(o))}return wo=i,wo}var Eo,_h;function fm(){return _h||(_h=1,Eo=lm()),Eo}var So,xh;function M2(){if(xh)return So;xh=1;var e=Xn();function t(r,n){var i=[];return e(r,function(a,o,s){n(a,o,s)&&i.push(a)}),i}return So=t,So}var No,wh;function P2(){if(wh)return No;wh=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return No=t,No}var Co,Eh;function O2(){if(Eh)return Co;Eh=1;function e(t){return this.__data__.has(t)}return Co=e,Co}var Ro,Sh;function dm(){if(Sh)return Ro;Sh=1;var e=Xc(),t=P2(),r=O2();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new e;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,Ro=n,Ro}var qo,Nh;function j2(){if(Nh)return qo;Nh=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return qo=e,qo}var Ao,Ch;function hm(){if(Ch)return Ao;Ch=1;function e(t,r){return t.has(r)}return Ao=e,Ao}var To,Rh;function gm(){if(Rh)return To;Rh=1;var e=dm(),t=j2(),r=hm(),n=1,i=2;function a(o,s,u,l,c,f){var d=u&n,h=o.length,p=s.length;if(h!=p&&!(d&&p>h))return!1;var g=f.get(o),m=f.get(s);if(g&&m)return g==s&&m==o;var y=-1,b=!0,S=u&i?new e:void 0;for(f.set(o,s),f.set(s,o);++y<h;){var _=o[y],q=s[y];if(l)var C=d?l(q,_,y,s,o,f):l(_,q,y,o,s,f);if(C!==void 0){if(C)continue;b=!1;break}if(S){if(!t(s,function(T,M){if(!r(S,M)&&(_===T||c(_,T,u,l,f)))return S.push(M)})){b=!1;break}}else if(!(_===q||c(_,q,u,l,f))){b=!1;break}}return f.delete(o),f.delete(s),b}return To=a,To}var ko,qh;function $2(){if(qh)return ko;qh=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,a){n[++r]=[a,i]}),n}return ko=e,ko}var Io,Ah;function sl(){if(Ah)return Io;Ah=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return Io=e,Io}var Mo,Th;function D2(){if(Th)return Mo;Th=1;var e=vr(),t=im(),r=pr(),n=gm(),i=$2(),a=sl(),o=1,s=2,u="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Map]",d="[object Number]",h="[object RegExp]",p="[object Set]",g="[object String]",m="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",S=e?e.prototype:void 0,_=S?S.valueOf:void 0;function q(C,T,M,A,O,k,P){switch(M){case b:if(C.byteLength!=T.byteLength||C.byteOffset!=T.byteOffset)return!1;C=C.buffer,T=T.buffer;case y:return!(C.byteLength!=T.byteLength||!k(new t(C),new t(T)));case u:case l:case d:return r(+C,+T);case c:return C.name==T.name&&C.message==T.message;case h:case g:return C==T+"";case f:var j=i;case p:var v=A&o;if(j||(j=a),C.size!=T.size&&!v)return!1;var R=P.get(C);if(R)return R==T;A|=s,P.set(C,T);var E=n(j(C),j(T),A,O,k,P);return P.delete(C),E;case m:if(_)return _.call(C)==_.call(T)}return!1}return Mo=q,Mo}var Po,kh;function L2(){if(kh)return Po;kh=1;var e=rm(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,s,u,l,c){var f=s&t,d=e(a),h=d.length,p=e(o),g=p.length;if(h!=g&&!f)return!1;for(var m=h;m--;){var y=d[m];if(!(f?y in o:n.call(o,y)))return!1}var b=c.get(a),S=c.get(o);if(b&&S)return b==o&&S==a;var _=!0;c.set(a,o),c.set(o,a);for(var q=f;++m<h;){y=d[m];var C=a[y],T=o[y];if(u)var M=f?u(T,C,y,o,a,c):u(C,T,y,a,o,c);if(!(M===void 0?C===T||l(C,T,s,u,c):M)){_=!1;break}q||(q=y=="constructor")}if(_&&!q){var A=a.constructor,O=o.constructor;A!=O&&"constructor"in a&&"constructor"in o&&!(typeof A=="function"&&A instanceof A&&typeof O=="function"&&O instanceof O)&&(_=!1)}return c.delete(a),c.delete(o),_}return Po=i,Po}var Oo,Ih;function F2(){if(Ih)return Oo;Ih=1;var e=Bn(),t=gm(),r=D2(),n=L2(),i=yr(),a=Ee(),o=mr(),s=Zr(),u=1,l="[object Arguments]",c="[object Array]",f="[object Object]",d=Object.prototype,h=d.hasOwnProperty;function p(g,m,y,b,S,_){var q=a(g),C=a(m),T=q?c:i(g),M=C?c:i(m);T=T==l?f:T,M=M==l?f:M;var A=T==f,O=M==f,k=T==M;if(k&&o(g)){if(!o(m))return!1;q=!0,A=!1}if(k&&!A)return _||(_=new e),q||s(g)?t(g,m,y,b,S,_):r(g,m,T,y,b,S,_);if(!(y&u)){var P=A&&h.call(g,"__wrapped__"),j=O&&h.call(m,"__wrapped__");if(P||j){var v=P?g.value():g,R=j?m.value():m;return _||(_=new e),S(v,R,y,b,_)}}return k?(_||(_=new e),n(g,m,y,b,S,_)):!1}return Oo=p,Oo}var jo,Mh;function pm(){if(Mh)return jo;Mh=1;var e=F2(),t=vt();function r(n,i,a,o,s){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,a,o,r,s)}return jo=r,jo}var $o,Ph;function z2(){if(Ph)return $o;Ph=1;var e=Bn(),t=pm(),r=1,n=2;function i(a,o,s,u){var l=s.length,c=l,f=!u;if(a==null)return!c;for(a=Object(a);l--;){var d=s[l];if(f&&d[2]?d[1]!==a[d[0]]:!(d[0]in a))return!1}for(;++l<c;){d=s[l];var h=d[0],p=a[h],g=d[1];if(f&&d[2]){if(p===void 0&&!(h in a))return!1}else{var m=new e;if(u)var y=u(p,g,h,a,o,m);if(!(y===void 0?t(g,p,r|n,u,m):y))return!1}}return!0}return $o=i,$o}var Do,Oh;function vm(){if(Oh)return Do;Oh=1;var e=Qe();function t(r){return r===r&&!e(r)}return Do=t,Do}var Lo,jh;function H2(){if(jh)return Lo;jh=1;var e=vm(),t=Ht();function r(n){for(var i=t(n),a=i.length;a--;){var o=i[a],s=n[o];i[a]=[o,s,e(s)]}return i}return Lo=r,Lo}var Fo,$h;function mm(){if($h)return Fo;$h=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return Fo=e,Fo}var zo,Dh;function B2(){if(Dh)return zo;Dh=1;var e=z2(),t=H2(),r=mm();function n(i){var a=t(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||e(o,i,a)}}return zo=n,zo}var Ho,Lh;function br(){if(Lh)return Ho;Lh=1;var e=Zt(),t=vt(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return Ho=n,Ho}var Bo,Fh;function ul(){if(Fh)return Bo;Fh=1;var e=Ee(),t=br(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(e(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||t(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return Bo=i,Bo}var Vo,zh;function V2(){if(zh)return Vo;zh=1;var e=Xc(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],u=a.cache;if(u.has(s))return u.get(s);var l=n.apply(this,o);return a.cache=u.set(s,l)||u,l};return a.cache=new(r.Cache||e),a}return r.Cache=e,Vo=r,Vo}var Go,Hh;function G2(){if(Hh)return Go;Hh=1;var e=V2(),t=500;function r(n){var i=e(n,function(o){return a.size===t&&a.clear(),o}),a=i.cache;return i}return Go=r,Go}var Uo,Bh;function U2(){if(Bh)return Uo;Bh=1;var e=G2(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(o,s,u,l){a.push(u?l.replace(r,"$1"):s||o)}),a});return Uo=n,Uo}var Ko,Vh;function Zn(){if(Vh)return Ko;Vh=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,a=Array(i);++n<i;)a[n]=r(t[n],n,t);return a}return Ko=e,Ko}var Yo,Gh;function K2(){if(Gh)return Yo;Gh=1;var e=vr(),t=Zn(),r=Ee(),n=br(),i=e?e.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(r(s))return t(s,o)+"";if(n(s))return a?a.call(s):"";var u=s+"";return u=="0"&&1/s==-1/0?"-0":u}return Yo=o,Yo}var Wo,Uh;function ym(){if(Uh)return Wo;Uh=1;var e=K2();function t(r){return r==null?"":e(r)}return Wo=t,Wo}var Xo,Kh;function Jn(){if(Kh)return Xo;Kh=1;var e=Ee(),t=ul(),r=U2(),n=ym();function i(a,o){return e(a)?a:t(a,o)?[a]:r(n(a))}return Xo=i,Xo}var Zo,Yh;function Jr(){if(Yh)return Zo;Yh=1;var e=br();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Zo=t,Zo}var Jo,Wh;function Qn(){if(Wh)return Jo;Wh=1;var e=Jn(),t=Jr();function r(n,i){i=e(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[t(i[a++])];return a&&a==o?n:void 0}return Jo=r,Jo}var Qo,Xh;function Y2(){if(Xh)return Qo;Xh=1;var e=Qn();function t(r,n,i){var a=r==null?void 0:e(r,n);return a===void 0?i:a}return Qo=t,Qo}var es,Zh;function W2(){if(Zh)return es;Zh=1;function e(t,r){return t!=null&&r in Object(t)}return es=e,es}var ts,Jh;function bm(){if(Jh)return ts;Jh=1;var e=Jn(),t=Xr(),r=Ee(),n=Un(),i=Jc(),a=Jr();function o(s,u,l){u=e(u,s);for(var c=-1,f=u.length,d=!1;++c<f;){var h=a(u[c]);if(!(d=s!=null&&l(s,h)))break;s=s[h]}return d||++c!=f?d:(f=s==null?0:s.length,!!f&&i(f)&&n(h,f)&&(r(s)||t(s)))}return ts=o,ts}var rs,Qh;function _m(){if(Qh)return rs;Qh=1;var e=W2(),t=bm();function r(n,i){return n!=null&&t(n,i,e)}return rs=r,rs}var ns,eg;function X2(){if(eg)return ns;eg=1;var e=pm(),t=Y2(),r=_m(),n=ul(),i=vm(),a=mm(),o=Jr(),s=1,u=2;function l(c,f){return n(c)&&i(f)?a(o(c),f):function(d){var h=t(d,c);return h===void 0&&h===f?r(d,c):e(f,h,s|u)}}return ns=l,ns}var is,tg;function xm(){if(tg)return is;tg=1;function e(t){return function(r){return r?.[t]}}return is=e,is}var as,rg;function Z2(){if(rg)return as;rg=1;var e=Qn();function t(r){return function(n){return e(n,r)}}return as=t,as}var os,ng;function J2(){if(ng)return os;ng=1;var e=xm(),t=Z2(),r=ul(),n=Jr();function i(a){return r(a)?e(n(a)):t(a)}return os=i,os}var ss,ig;function At(){if(ig)return ss;ig=1;var e=B2(),t=X2(),r=er(),n=Ee(),i=J2();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):i(o)}return ss=a,ss}var us,ag;function wm(){if(ag)return us;ag=1;var e=Jv(),t=M2(),r=At(),n=Ee();function i(a,o){var s=n(a)?e:t;return s(a,r(o,3))}return us=i,us}var cs,og;function Q2(){if(og)return cs;og=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n,i){return n!=null&&t.call(n,i)}return cs=r,cs}var ls,sg;function Em(){if(sg)return ls;sg=1;var e=Q2(),t=bm();function r(n,i){return n!=null&&t(n,i,e)}return ls=r,ls}var fs,ug;function eS(){if(ug)return fs;ug=1;var e=el(),t=yr(),r=Xr(),n=Ee(),i=qt(),a=mr(),o=Yn(),s=Zr(),u="[object Map]",l="[object Set]",c=Object.prototype,f=c.hasOwnProperty;function d(h){if(h==null)return!0;if(i(h)&&(n(h)||typeof h=="string"||typeof h.splice=="function"||a(h)||s(h)||r(h)))return!h.length;var p=t(h);if(p==u||p==l)return!h.size;if(o(h))return!e(h).length;for(var g in h)if(f.call(h,g))return!1;return!0}return fs=d,fs}var ds,cg;function Sm(){if(cg)return ds;cg=1;function e(t){return t===void 0}return ds=e,ds}var hs,lg;function Nm(){if(lg)return hs;lg=1;var e=Xn(),t=qt();function r(n,i){var a=-1,o=t(n)?Array(n.length):[];return e(n,function(s,u,l){o[++a]=i(s,u,l)}),o}return hs=r,hs}var gs,fg;function Cm(){if(fg)return gs;fg=1;var e=Zn(),t=At(),r=Nm(),n=Ee();function i(a,o){var s=n(a)?e:r;return s(a,t(o,3))}return gs=i,gs}var ps,dg;function tS(){if(dg)return ps;dg=1;function e(t,r,n,i){var a=-1,o=t==null?0:t.length;for(i&&o&&(n=t[++a]);++a<o;)n=r(n,t[a],a,t);return n}return ps=e,ps}var vs,hg;function rS(){if(hg)return vs;hg=1;function e(t,r,n,i,a){return a(t,function(o,s,u){n=i?(i=!1,o):r(n,o,s,u)}),n}return vs=e,vs}var ms,gg;function Rm(){if(gg)return ms;gg=1;var e=tS(),t=Xn(),r=At(),n=rS(),i=Ee();function a(o,s,u){var l=i(o)?e:n,c=arguments.length<3;return l(o,r(s,4),u,c,t)}return ms=a,ms}var ys,pg;function nS(){if(pg)return ys;pg=1;var e=Zt(),t=Ee(),r=vt(),n="[object String]";function i(a){return typeof a=="string"||!t(a)&&r(a)&&e(a)==n}return ys=i,ys}var bs,vg;function iS(){if(vg)return bs;vg=1;var e=xm(),t=e("length");return bs=t,bs}var _s,mg;function aS(){if(mg)return _s;mg=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+e+i+a+"]");function u(l){return s.test(l)}return _s=u,_s}var xs,yg;function oS(){if(yg)return xs;yg=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,a="\\ufe0e\\ufe0f",o="["+e+"]",s="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",l="(?:"+s+"|"+u+")",c="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",p=l+"?",g="["+a+"]?",m="(?:"+h+"(?:"+[c,f,d].join("|")+")"+g+p+")*",y=g+p+m,b="(?:"+[c+s+"?",s,f,d,o].join("|")+")",S=RegExp(u+"(?="+u+")|"+b+y,"g");function _(q){for(var C=S.lastIndex=0;S.test(q);)++C;return C}return xs=_,xs}var ws,bg;function sS(){if(bg)return ws;bg=1;var e=iS(),t=aS(),r=oS();function n(i){return t(i)?r(i):e(i)}return ws=n,ws}var Es,_g;function uS(){if(_g)return Es;_g=1;var e=el(),t=yr(),r=qt(),n=nS(),i=sS(),a="[object Map]",o="[object Set]";function s(u){if(u==null)return 0;if(r(u))return n(u)?i(u):u.length;var l=t(u);return l==a||l==o?u.size:e(u).length}return Es=s,Es}var Ss,xg;function cS(){if(xg)return Ss;xg=1;var e=Zc(),t=om(),r=ol(),n=At(),i=Wn(),a=Ee(),o=mr(),s=Yr(),u=Qe(),l=Zr();function c(f,d,h){var p=a(f),g=p||o(f)||l(f);if(d=n(d,4),h==null){var m=f&&f.constructor;g?h=p?new m:[]:u(f)?h=s(m)?t(i(f)):{}:h={}}return(g?e:r)(f,function(y,b,S){return d(h,y,b,S)}),h}return Ss=c,Ss}var Ns,wg;function lS(){if(wg)return Ns;wg=1;var e=vr(),t=Xr(),r=Ee(),n=e?e.isConcatSpreadable:void 0;function i(a){return r(a)||t(a)||!!(n&&a&&a[n])}return Ns=i,Ns}var Cs,Eg;function cl(){if(Eg)return Cs;Eg=1;var e=rl(),t=lS();function r(n,i,a,o,s){var u=-1,l=n.length;for(a||(a=t),s||(s=[]);++u<l;){var c=n[u];i>0&&a(c)?i>1?r(c,i-1,a,o,s):e(s,c):o||(s[s.length]=c)}return s}return Cs=r,Cs}var Rs,Sg;function fS(){if(Sg)return Rs;Sg=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return Rs=e,Rs}var qs,Ng;function qm(){if(Ng)return qs;Ng=1;var e=fS(),t=Math.max;function r(n,i,a){return i=t(i===void 0?n.length-1:i,0),function(){for(var o=arguments,s=-1,u=t(o.length-i,0),l=Array(u);++s<u;)l[s]=o[i+s];s=-1;for(var c=Array(i+1);++s<i;)c[s]=o[s];return c[i]=a(l),e(n,this,c)}}return qs=r,qs}var As,Cg;function dS(){if(Cg)return As;Cg=1;var e=il(),t=Kv(),r=er(),n=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:r;return As=n,As}var Ts,Rg;function hS(){if(Rg)return Ts;Rg=1;var e=800,t=16,r=Date.now;function n(i){var a=0,o=0;return function(){var s=r(),u=t-(s-o);if(o=s,u>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Ts=n,Ts}var ks,qg;function Am(){if(qg)return ks;qg=1;var e=dS(),t=hS(),r=t(e);return ks=r,ks}var Is,Ag;function ei(){if(Ag)return Is;Ag=1;var e=er(),t=qm(),r=Am();function n(i,a){return r(t(i,a,e),i+"")}return Is=n,Is}var Ms,Tg;function Tm(){if(Tg)return Ms;Tg=1;function e(t,r,n,i){for(var a=t.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(t[o],o,t))return o;return-1}return Ms=e,Ms}var Ps,kg;function gS(){if(kg)return Ps;kg=1;function e(t){return t!==t}return Ps=e,Ps}var Os,Ig;function pS(){if(Ig)return Os;Ig=1;function e(t,r,n){for(var i=n-1,a=t.length;++i<a;)if(t[i]===r)return i;return-1}return Os=e,Os}var js,Mg;function vS(){if(Mg)return js;Mg=1;var e=Tm(),t=gS(),r=pS();function n(i,a,o){return a===a?r(i,a,o):e(i,t,o)}return js=n,js}var $s,Pg;function mS(){if(Pg)return $s;Pg=1;var e=vS();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return $s=t,$s}var Ds,Og;function yS(){if(Og)return Ds;Og=1;function e(t,r,n){for(var i=-1,a=t==null?0:t.length;++i<a;)if(n(r,t[i]))return!0;return!1}return Ds=e,Ds}var Ls,jg;function bS(){if(jg)return Ls;jg=1;function e(){}return Ls=e,Ls}var Fs,$g;function _S(){if($g)return Fs;$g=1;var e=nm(),t=bS(),r=sl(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(a){return new e(a)}:t;return Fs=i,Fs}var zs,Dg;function xS(){if(Dg)return zs;Dg=1;var e=dm(),t=mS(),r=yS(),n=hm(),i=_S(),a=sl(),o=200;function s(u,l,c){var f=-1,d=t,h=u.length,p=!0,g=[],m=g;if(c)p=!1,d=r;else if(h>=o){var y=l?null:i(u);if(y)return a(y);p=!1,d=n,m=new e}else m=l?[]:g;e:for(;++f<h;){var b=u[f],S=l?l(b):b;if(b=c||b!==0?b:0,p&&S===S){for(var _=m.length;_--;)if(m[_]===S)continue e;l&&m.push(S),g.push(b)}else d(m,S,c)||(m!==g&&m.push(S),g.push(b))}return g}return zs=s,zs}var Hs,Lg;function km(){if(Lg)return Hs;Lg=1;var e=qt(),t=vt();function r(n){return t(n)&&e(n)}return Hs=r,Hs}var Bs,Fg;function wS(){if(Fg)return Bs;Fg=1;var e=cl(),t=ei(),r=xS(),n=km(),i=t(function(a){return r(e(a,1,n,!0))});return Bs=i,Bs}var Vs,zg;function ES(){if(zg)return Vs;zg=1;var e=Zn();function t(r,n){return e(n,function(i){return r[i]})}return Vs=t,Vs}var Gs,Hg;function Im(){if(Hg)return Gs;Hg=1;var e=ES(),t=Ht();function r(n){return n==null?[]:e(n,t(n))}return Gs=r,Gs}var Us,Bg;function et(){if(Bg)return Us;Bg=1;var e;if(typeof Ac=="function")try{e={clone:T2(),constant:il(),each:fm(),filter:wm(),has:Em(),isArray:Ee(),isEmpty:eS(),isFunction:Yr(),isUndefined:Sm(),keys:Ht(),map:Cm(),reduce:Rm(),size:uS(),transform:cS(),union:wS(),values:Im()}}catch{}return e||(e=window._),Us=e,Us}var Ks,Vg;function ll(){if(Vg)return Ks;Vg=1;var e=et();Ks=i;var t="\0",r="\0",n="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[r]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._in[f])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._out[f])})},i.prototype.setNodes=function(c,f){var d=arguments,h=this;return e.each(c,function(p){d.length>1?h.setNode(p,f):h.setNode(p)}),this},i.prototype.setNode=function(c,f){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=f),this):(this._nodes[c]=arguments.length>1?f:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=r,this._children[c]={},this._children[r][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var f=this;if(e.has(this._nodes,c)){var d=function(h){f.removeEdge(f._edgeObjs[h])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(h){f.setParent(h)}),delete this._children[c]),e.each(e.keys(this._in[c]),d),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),d),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=r;else{f+="";for(var d=f;!e.isUndefined(d);d=this.parent(d))if(d===c)throw new Error("Setting "+f+" as parent of "+c+" would create a cycle");this.setNode(f)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=f,this._children[f][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var f=this._parent[c];if(f!==r)return f}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=r),this._isCompound){var f=this._children[c];if(f)return e.keys(f)}else{if(c===r)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var f=this._preds[c];if(f)return e.keys(f)},i.prototype.successors=function(c){var f=this._sucs[c];if(f)return e.keys(f)},i.prototype.neighbors=function(c){var f=this.predecessors(c);if(f)return e.union(f,this.successors(c))},i.prototype.isLeaf=function(c){var f;return this.isDirected()?f=this.successors(c):f=this.neighbors(c),f.length===0},i.prototype.filterNodes=function(c){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var d=this;e.each(this._nodes,function(g,m){c(m)&&f.setNode(m,g)}),e.each(this._edgeObjs,function(g){f.hasNode(g.v)&&f.hasNode(g.w)&&f.setEdge(g,d.edge(g))});var h={};function p(g){var m=d.parent(g);return m===void 0||f.hasNode(m)?(h[g]=m,m):m in h?h[m]:p(m)}return this._isCompound&&e.each(f.nodes(),function(g){f.setParent(g,p(g))}),f},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,f){var d=this,h=arguments;return e.reduce(c,function(p,g){return h.length>1?d.setEdge(p,g,f):d.setEdge(p,g),g}),this},i.prototype.setEdge=function(){var c,f,d,h,p=!1,g=arguments[0];typeof g=="object"&&g!==null&&"v"in g?(c=g.v,f=g.w,d=g.name,arguments.length===2&&(h=arguments[1],p=!0)):(c=g,f=arguments[1],d=arguments[3],arguments.length>2&&(h=arguments[2],p=!0)),c=""+c,f=""+f,e.isUndefined(d)||(d=""+d);var m=s(this._isDirected,c,f,d);if(e.has(this._edgeLabels,m))return p&&(this._edgeLabels[m]=h),this;if(!e.isUndefined(d)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(f),this._edgeLabels[m]=p?h:this._defaultEdgeLabelFn(c,f,d);var y=u(this._isDirected,c,f,d);return c=y.v,f=y.w,Object.freeze(y),this._edgeObjs[m]=y,a(this._preds[f],c),a(this._sucs[c],f),this._in[f][m]=y,this._out[c][m]=y,this._edgeCount++,this},i.prototype.edge=function(c,f,d){var h=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,f,d);return this._edgeLabels[h]},i.prototype.hasEdge=function(c,f,d){var h=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,f,d);return e.has(this._edgeLabels,h)},i.prototype.removeEdge=function(c,f,d){var h=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,f,d),p=this._edgeObjs[h];return p&&(c=p.v,f=p.w,delete this._edgeLabels[h],delete this._edgeObjs[h],o(this._preds[f],c),o(this._sucs[c],f),delete this._in[f][h],delete this._out[c][h],this._edgeCount--),this},i.prototype.inEdges=function(c,f){var d=this._in[c];if(d){var h=e.values(d);return f?e.filter(h,function(p){return p.v===f}):h}},i.prototype.outEdges=function(c,f){var d=this._out[c];if(d){var h=e.values(d);return f?e.filter(h,function(p){return p.w===f}):h}},i.prototype.nodeEdges=function(c,f){var d=this.inEdges(c,f);if(d)return d.concat(this.outEdges(c,f))};function a(c,f){c[f]?c[f]++:c[f]=1}function o(c,f){--c[f]||delete c[f]}function s(c,f,d,h){var p=""+f,g=""+d;if(!c&&p>g){var m=p;p=g,g=m}return p+n+g+n+(e.isUndefined(h)?t:h)}function u(c,f,d,h){var p=""+f,g=""+d;if(!c&&p>g){var m=p;p=g,g=m}var y={v:p,w:g};return h&&(y.name=h),y}function l(c,f){return s(c,f.v,f.w,f.name)}return Ks}var Ys,Gg;function SS(){return Gg||(Gg=1,Ys="2.1.8"),Ys}var Ws,Ug;function NS(){return Ug||(Ug=1,Ws={Graph:ll(),version:SS()}),Ws}var Xs,Kg;function CS(){if(Kg)return Xs;Kg=1;var e=et(),t=ll();Xs={write:r,read:a};function r(o){var s={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:n(o),edges:i(o)};return e.isUndefined(o.graph())||(s.value=e.clone(o.graph())),s}function n(o){return e.map(o.nodes(),function(s){var u=o.node(s),l=o.parent(s),c={v:s};return e.isUndefined(u)||(c.value=u),e.isUndefined(l)||(c.parent=l),c})}function i(o){return e.map(o.edges(),function(s){var u=o.edge(s),l={v:s.v,w:s.w};return e.isUndefined(s.name)||(l.name=s.name),e.isUndefined(u)||(l.value=u),l})}function a(o){var s=new t(o.options).setGraph(o.value);return e.each(o.nodes,function(u){s.setNode(u.v,u.value),u.parent&&s.setParent(u.v,u.parent)}),e.each(o.edges,function(u){s.setEdge({v:u.v,w:u.w,name:u.name},u.value)}),s}return Xs}var Zs,Yg;function RS(){if(Yg)return Zs;Yg=1;var e=et();Zs=t;function t(r){var n={},i=[],a;function o(s){e.has(n,s)||(n[s]=!0,a.push(s),e.each(r.successors(s),o),e.each(r.predecessors(s),o))}return e.each(r.nodes(),function(s){a=[],o(s),a.length&&i.push(a)}),i}return Zs}var Js,Wg;function Mm(){if(Wg)return Js;Wg=1;var e=et();Js=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(r){return r.key})},t.prototype.has=function(r){return e.has(this._keyIndices,r)},t.prototype.priority=function(r){var n=this._keyIndices[r];if(n!==void 0)return this._arr[n].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(r,n){var i=this._keyIndices;if(r=String(r),!e.has(i,r)){var a=this._arr,o=a.length;return i[r]=o,a.push({key:r,priority:n}),this._decrease(o),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key},t.prototype.decrease=function(r,n){var i=this._keyIndices[r];if(n>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[i].priority+" New: "+n);this._arr[i].priority=n,this._decrease(i)},t.prototype._heapify=function(r){var n=this._arr,i=2*r,a=i+1,o=r;i<n.length&&(o=n[i].priority<n[o].priority?i:o,a<n.length&&(o=n[a].priority<n[o].priority?a:o),o!==r&&(this._swap(r,o),this._heapify(o)))},t.prototype._decrease=function(r){for(var n=this._arr,i=n[r].priority,a;r!==0&&(a=r>>1,!(n[a].priority<i));)this._swap(r,a),r=a},t.prototype._swap=function(r,n){var i=this._arr,a=this._keyIndices,o=i[r],s=i[n];i[r]=s,i[n]=o,a[s.key]=r,a[o.key]=n},Js}var Qs,Xg;function Pm(){if(Xg)return Qs;Xg=1;var e=et(),t=Mm();Qs=n;var r=e.constant(1);function n(a,o,s,u){return i(a,String(o),s||r,u||function(l){return a.outEdges(l)})}function i(a,o,s,u){var l={},c=new t,f,d,h=function(p){var g=p.v!==f?p.v:p.w,m=l[g],y=s(p),b=d.distance+y;if(y<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+p+" Weight: "+y);b<m.distance&&(m.distance=b,m.predecessor=f,c.decrease(g,b))};for(a.nodes().forEach(function(p){var g=p===o?0:Number.POSITIVE_INFINITY;l[p]={distance:g},c.add(p,g)});c.size()>0&&(f=c.removeMin(),d=l[f],d.distance!==Number.POSITIVE_INFINITY);)u(f).forEach(h);return l}return Qs}var eu,Zg;function qS(){if(Zg)return eu;Zg=1;var e=Pm(),t=et();eu=r;function r(n,i,a){return t.transform(n.nodes(),function(o,s){o[s]=e(n,s,i,a)},{})}return eu}var tu,Jg;function Om(){if(Jg)return tu;Jg=1;var e=et();tu=t;function t(r){var n=0,i=[],a={},o=[];function s(u){var l=a[u]={onStack:!0,lowlink:n,index:n++};if(i.push(u),r.successors(u).forEach(function(d){e.has(a,d)?a[d].onStack&&(l.lowlink=Math.min(l.lowlink,a[d].index)):(s(d),l.lowlink=Math.min(l.lowlink,a[d].lowlink))}),l.lowlink===l.index){var c=[],f;do f=i.pop(),a[f].onStack=!1,c.push(f);while(u!==f);o.push(c)}}return r.nodes().forEach(function(u){e.has(a,u)||s(u)}),o}return tu}var ru,Qg;function AS(){if(Qg)return ru;Qg=1;var e=et(),t=Om();ru=r;function r(n){return e.filter(t(n),function(i){return i.length>1||i.length===1&&n.hasEdge(i[0],i[0])})}return ru}var nu,ep;function TS(){if(ep)return nu;ep=1;var e=et();nu=r;var t=e.constant(1);function r(i,a,o){return n(i,a||t,o||function(s){return i.outEdges(s)})}function n(i,a,o){var s={},u=i.nodes();return u.forEach(function(l){s[l]={},s[l][l]={distance:0},u.forEach(function(c){l!==c&&(s[l][c]={distance:Number.POSITIVE_INFINITY})}),o(l).forEach(function(c){var f=c.v===l?c.w:c.v,d=a(c);s[l][f]={distance:d,predecessor:l}})}),u.forEach(function(l){var c=s[l];u.forEach(function(f){var d=s[f];u.forEach(function(h){var p=d[l],g=c[h],m=d[h],y=p.distance+g.distance;y<m.distance&&(m.distance=y,m.predecessor=g.predecessor)})})}),s}return nu}var iu,tp;function jm(){if(tp)return iu;tp=1;var e=et();iu=t,t.CycleException=r;function t(n){var i={},a={},o=[];function s(u){if(e.has(a,u))throw new r;e.has(i,u)||(a[u]=!0,i[u]=!0,e.each(n.predecessors(u),s),delete a[u],o.push(u))}if(e.each(n.sinks(),s),e.size(i)!==n.nodeCount())throw new r;return o}function r(){}return r.prototype=new Error,iu}var au,rp;function kS(){if(rp)return au;rp=1;var e=jm();au=t;function t(r){try{e(r)}catch(n){if(n instanceof e.CycleException)return!1;throw n}return!0}return au}var ou,np;function $m(){if(np)return ou;np=1;var e=et();ou=t;function t(n,i,a){e.isArray(i)||(i=[i]);var o=(n.isDirected()?n.successors:n.neighbors).bind(n),s=[],u={};return e.each(i,function(l){if(!n.hasNode(l))throw new Error("Graph does not have node: "+l);r(n,l,a==="post",u,o,s)}),s}function r(n,i,a,o,s,u){e.has(o,i)||(o[i]=!0,a||u.push(i),e.each(s(i),function(l){r(n,l,a,o,s,u)}),a&&u.push(i))}return ou}var su,ip;function IS(){if(ip)return su;ip=1;var e=$m();su=t;function t(r,n){return e(r,n,"post")}return su}var uu,ap;function MS(){if(ap)return uu;ap=1;var e=$m();uu=t;function t(r,n){return e(r,n,"pre")}return uu}var cu,op;function PS(){if(op)return cu;op=1;var e=et(),t=ll(),r=Mm();cu=n;function n(i,a){var o=new t,s={},u=new r,l;function c(d){var h=d.v===l?d.w:d.v,p=u.priority(h);if(p!==void 0){var g=a(d);g<p&&(s[h]=l,u.decrease(h,g))}}if(i.nodeCount()===0)return o;e.each(i.nodes(),function(d){u.add(d,Number.POSITIVE_INFINITY),o.setNode(d)}),u.decrease(i.nodes()[0],0);for(var f=!1;u.size()>0;){if(l=u.removeMin(),e.has(s,l))o.setEdge(l,s[l]);else{if(f)throw new Error("Input graph is not connected: "+i);f=!0}i.nodeEdges(l).forEach(c)}return o}return cu}var lu,sp;function OS(){return sp||(sp=1,lu={components:RS(),dijkstra:Pm(),dijkstraAll:qS(),findCycles:AS(),floydWarshall:TS(),isAcyclic:kS(),postorder:IS(),preorder:MS(),prim:PS(),tarjan:Om(),topsort:jm()}),lu}var fu,up;function jS(){if(up)return fu;up=1;var e=NS();return fu={Graph:e.Graph,json:CS(),alg:OS(),version:e.version},fu}var Rn;if(typeof Ac=="function")try{Rn=jS()}catch{}Rn||(Rn=window.graphlib);var ut=Rn,du,cp;function $S(){if(cp)return du;cp=1;var e=um(),t=1,r=4;function n(i){return e(i,t|r)}return du=n,du}var hu,lp;function ti(){if(lp)return hu;lp=1;var e=pr(),t=qt(),r=Un(),n=Qe();function i(a,o,s){if(!n(s))return!1;var u=typeof o;return(u=="number"?t(s)&&r(o,s.length):u=="string"&&o in s)?e(s[o],a):!1}return hu=i,hu}var gu,fp;function DS(){if(fp)return gu;fp=1;var e=ei(),t=pr(),r=ti(),n=Qt(),i=Object.prototype,a=i.hasOwnProperty,o=e(function(s,u){s=Object(s);var l=-1,c=u.length,f=c>2?u[2]:void 0;for(f&&r(u[0],u[1],f)&&(c=1);++l<c;)for(var d=u[l],h=n(d),p=-1,g=h.length;++p<g;){var m=h[p],y=s[m];(y===void 0||t(y,i[m])&&!a.call(s,m))&&(s[m]=d[m])}return s});return gu=o,gu}var pu,dp;function LS(){if(dp)return pu;dp=1;var e=At(),t=qt(),r=Ht();function n(i){return function(a,o,s){var u=Object(a);if(!t(a)){var l=e(o,3);a=r(a),o=function(f){return l(u[f],f,u)}}var c=i(a,o,s);return c>-1?u[l?a[c]:c]:void 0}}return pu=n,pu}var vu,hp;function FS(){if(hp)return vu;hp=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return vu=t,vu}var mu,gp;function zS(){if(gp)return mu;gp=1;var e=FS(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return mu=r,mu}var yu,pp;function HS(){if(pp)return yu;pp=1;var e=zS(),t=Qe(),r=br(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function u(l){if(typeof l=="number")return l;if(r(l))return n;if(t(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=t(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=e(l);var f=a.test(l);return f||o.test(l)?s(l.slice(2),f?2:8):i.test(l)?n:+l}return yu=u,yu}var bu,vp;function Dm(){if(vp)return bu;vp=1;var e=HS(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var a=i<0?-1:1;return a*r}return i===i?i:0}return bu=n,bu}var _u,mp;function BS(){if(mp)return _u;mp=1;var e=Dm();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return _u=t,_u}var xu,yp;function VS(){if(yp)return xu;yp=1;var e=Tm(),t=At(),r=BS(),n=Math.max;function i(a,o,s){var u=a==null?0:a.length;if(!u)return-1;var l=s==null?0:r(s);return l<0&&(l=n(u+l,0)),e(a,t(o,3),l)}return xu=i,xu}var wu,bp;function GS(){if(bp)return wu;bp=1;var e=LS(),t=VS(),r=e(t);return wu=r,wu}var Eu,_p;function Lm(){if(_p)return Eu;_p=1;var e=cl();function t(r){var n=r==null?0:r.length;return n?e(r,1):[]}return Eu=t,Eu}var Su,xp;function US(){if(xp)return Su;xp=1;var e=al(),t=cm(),r=Qt();function n(i,a){return i==null?i:e(i,t(a),r)}return Su=n,Su}var Nu,wp;function KS(){if(wp)return Nu;wp=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return Nu=e,Nu}var Cu,Ep;function YS(){if(Ep)return Cu;Ep=1;var e=Vn(),t=ol(),r=At();function n(i,a){var o={};return a=r(a,3),t(i,function(s,u,l){e(o,u,a(s,u,l))}),o}return Cu=n,Cu}var Ru,Sp;function fl(){if(Sp)return Ru;Sp=1;var e=br();function t(r,n,i){for(var a=-1,o=r.length;++a<o;){var s=r[a],u=n(s);if(u!=null&&(l===void 0?u===u&&!e(u):i(u,l)))var l=u,c=s}return c}return Ru=t,Ru}var qu,Np;function WS(){if(Np)return qu;Np=1;function e(t,r){return t>r}return qu=e,qu}var Au,Cp;function XS(){if(Cp)return Au;Cp=1;var e=fl(),t=WS(),r=er();function n(i){return i&&i.length?e(i,r,t):void 0}return Au=n,Au}var Tu,Rp;function Fm(){if(Rp)return Tu;Rp=1;var e=Vn(),t=pr();function r(n,i,a){(a!==void 0&&!t(n[i],a)||a===void 0&&!(i in n))&&e(n,i,a)}return Tu=r,Tu}var ku,qp;function ZS(){if(qp)return ku;qp=1;var e=Zt(),t=Wn(),r=vt(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,u=o.call(Object);function l(c){if(!r(c)||e(c)!=n)return!1;var f=t(c);if(f===null)return!0;var d=s.call(f,"constructor")&&f.constructor;return typeof d=="function"&&d instanceof d&&o.call(d)==u}return ku=l,ku}var Iu,Ap;function zm(){if(Ap)return Iu;Ap=1;function e(t,r){if(!(r==="constructor"&&typeof t[r]=="function")&&r!="__proto__")return t[r]}return Iu=e,Iu}var Mu,Tp;function JS(){if(Tp)return Mu;Tp=1;var e=Wr(),t=Qt();function r(n){return e(n,t(n))}return Mu=r,Mu}var Pu,kp;function QS(){if(kp)return Pu;kp=1;var e=Fm(),t=Xv(),r=am(),n=Zv(),i=sm(),a=Xr(),o=Ee(),s=km(),u=mr(),l=Yr(),c=Qe(),f=ZS(),d=Zr(),h=zm(),p=JS();function g(m,y,b,S,_,q,C){var T=h(m,b),M=h(y,b),A=C.get(M);if(A){e(m,b,A);return}var O=q?q(T,M,b+"",m,y,C):void 0,k=O===void 0;if(k){var P=o(M),j=!P&&u(M),v=!P&&!j&&d(M);O=M,P||j||v?o(T)?O=T:s(T)?O=n(T):j?(k=!1,O=t(M,!0)):v?(k=!1,O=r(M,!0)):O=[]:f(M)||a(M)?(O=T,a(T)?O=p(T):(!c(T)||l(T))&&(O=i(M))):k=!1}k&&(C.set(M,O),_(O,M,S,q,C),C.delete(M)),e(m,b,O)}return Pu=g,Pu}var Ou,Ip;function eN(){if(Ip)return Ou;Ip=1;var e=Bn(),t=Fm(),r=al(),n=QS(),i=Qe(),a=Qt(),o=zm();function s(u,l,c,f,d){u!==l&&r(l,function(h,p){if(d||(d=new e),i(h))n(u,l,p,c,s,f,d);else{var g=f?f(o(u,p),h,p+"",u,l,d):void 0;g===void 0&&(g=h),t(u,p,g)}},a)}return Ou=s,Ou}var ju,Mp;function tN(){if(Mp)return ju;Mp=1;var e=ei(),t=ti();function r(n){return e(function(i,a){var o=-1,s=a.length,u=s>1?a[s-1]:void 0,l=s>2?a[2]:void 0;for(u=n.length>3&&typeof u=="function"?(s--,u):void 0,l&&t(a[0],a[1],l)&&(u=s<3?void 0:u,s=1),i=Object(i);++o<s;){var c=a[o];c&&n(i,c,o,u)}return i})}return ju=r,ju}var $u,Pp;function rN(){if(Pp)return $u;Pp=1;var e=eN(),t=tN(),r=t(function(n,i,a){e(n,i,a)});return $u=r,$u}var Du,Op;function Hm(){if(Op)return Du;Op=1;function e(t,r){return t<r}return Du=e,Du}var Lu,jp;function nN(){if(jp)return Lu;jp=1;var e=fl(),t=Hm(),r=er();function n(i){return i&&i.length?e(i,r,t):void 0}return Lu=n,Lu}var Fu,$p;function iN(){if($p)return Fu;$p=1;var e=fl(),t=At(),r=Hm();function n(i,a){return i&&i.length?e(i,t(a,2),r):void 0}return Fu=n,Fu}var zu,Dp;function aN(){if(Dp)return zu;Dp=1;var e=st(),t=function(){return e.Date.now()};return zu=t,zu}var Hu,Lp;function oN(){if(Lp)return Hu;Lp=1;var e=Gn(),t=Jn(),r=Un(),n=Qe(),i=Jr();function a(o,s,u,l){if(!n(o))return o;s=t(s,o);for(var c=-1,f=s.length,d=f-1,h=o;h!=null&&++c<f;){var p=i(s[c]),g=u;if(p==="__proto__"||p==="constructor"||p==="prototype")return o;if(c!=d){var m=h[p];g=l?l(m,p,h):void 0,g===void 0&&(g=n(m)?m:r(s[c+1])?[]:{})}e(h,p,g),h=h[p]}return o}return Hu=a,Hu}var Bu,Fp;function sN(){if(Fp)return Bu;Fp=1;var e=Qn(),t=oN(),r=Jn();function n(i,a,o){for(var s=-1,u=a.length,l={};++s<u;){var c=a[s],f=e(i,c);o(f,c)&&t(l,r(c,i),f)}return l}return Bu=n,Bu}var Vu,zp;function uN(){if(zp)return Vu;zp=1;var e=sN(),t=_m();function r(n,i){return e(n,i,function(a,o){return t(n,o)})}return Vu=r,Vu}var Gu,Hp;function cN(){if(Hp)return Gu;Hp=1;var e=Lm(),t=qm(),r=Am();function n(i){return r(t(i,void 0,e),i+"")}return Gu=n,Gu}var Uu,Bp;function lN(){if(Bp)return Uu;Bp=1;var e=uN(),t=cN(),r=t(function(n,i){return n==null?{}:e(n,i)});return Uu=r,Uu}var Ku,Vp;function fN(){if(Vp)return Ku;Vp=1;var e=Math.ceil,t=Math.max;function r(n,i,a,o){for(var s=-1,u=t(e((i-n)/(a||1)),0),l=Array(u);u--;)l[o?u:++s]=n,n+=a;return l}return Ku=r,Ku}var Yu,Gp;function dN(){if(Gp)return Yu;Gp=1;var e=fN(),t=ti(),r=Dm();function n(i){return function(a,o,s){return s&&typeof s!="number"&&t(a,o,s)&&(o=s=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),s=s===void 0?a<o?1:-1:r(s),e(a,o,s,i)}}return Yu=n,Yu}var Wu,Up;function hN(){if(Up)return Wu;Up=1;var e=dN(),t=e();return Wu=t,Wu}var Xu,Kp;function gN(){if(Kp)return Xu;Kp=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return Xu=e,Xu}var Zu,Yp;function pN(){if(Yp)return Zu;Yp=1;var e=br();function t(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,s=e(r),u=n!==void 0,l=n===null,c=n===n,f=e(n);if(!l&&!f&&!s&&r>n||s&&u&&c&&!l&&!f||a&&u&&c||!i&&c||!o)return 1;if(!a&&!s&&!f&&r<n||f&&i&&o&&!a&&!s||l&&i&&o||!u&&o||!c)return-1}return 0}return Zu=t,Zu}var Ju,Wp;function vN(){if(Wp)return Ju;Wp=1;var e=pN();function t(r,n,i){for(var a=-1,o=r.criteria,s=n.criteria,u=o.length,l=i.length;++a<u;){var c=e(o[a],s[a]);if(c){if(a>=l)return c;var f=i[a];return c*(f=="desc"?-1:1)}}return r.index-n.index}return Ju=t,Ju}var Qu,Xp;function mN(){if(Xp)return Qu;Xp=1;var e=Zn(),t=Qn(),r=At(),n=Nm(),i=gN(),a=Kn(),o=vN(),s=er(),u=Ee();function l(c,f,d){f.length?f=e(f,function(g){return u(g)?function(m){return t(m,g.length===1?g[0]:g)}:g}):f=[s];var h=-1;f=e(f,a(r));var p=n(c,function(g,m,y){var b=e(f,function(S){return S(g)});return{criteria:b,index:++h,value:g}});return i(p,function(g,m){return o(g,m,d)})}return Qu=l,Qu}var ec,Zp;function yN(){if(Zp)return ec;Zp=1;var e=cl(),t=mN(),r=ei(),n=ti(),i=r(function(a,o){if(a==null)return[];var s=o.length;return s>1&&n(a,o[0],o[1])?o=[]:s>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(a,e(o,1),[])});return ec=i,ec}var tc,Jp;function bN(){if(Jp)return tc;Jp=1;var e=ym(),t=0;function r(n){var i=++t;return e(n)+i}return tc=r,tc}var rc,Qp;function _N(){if(Qp)return rc;Qp=1;function e(t,r,n){for(var i=-1,a=t.length,o=r.length,s={};++i<a;){var u=i<o?r[i]:void 0;n(s,t[i],u)}return s}return rc=e,rc}var nc,e0;function xN(){if(e0)return nc;e0=1;var e=Gn(),t=_N();function r(n,i){return t(n||[],i||[],e)}return nc=r,nc}var qn;if(typeof Ac=="function")try{qn={cloneDeep:$S(),constant:il(),defaults:DS(),each:fm(),filter:wm(),find:GS(),flatten:Lm(),forEach:lm(),forIn:US(),has:Em(),isUndefined:Sm(),last:KS(),map:Cm(),mapValues:YS(),max:XS(),merge:rN(),min:nN(),minBy:iN(),now:aN(),pick:lN(),range:hN(),reduce:Rm(),sortBy:yN(),uniqueId:bN(),values:Im(),zipObject:xN()}}catch{}qn||(qn=window._);var me=qn,wN=ri;function ri(){var e={};e._next=e._prev=e,this._sentinel=e}ri.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return Bm(t),t};ri.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&Bm(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};ri.prototype.toString=function(){for(var e=[],t=this._sentinel,r=t._prev;r!==t;)e.push(JSON.stringify(r,EN)),r=r._prev;return"["+e.join(", ")+"]"};function Bm(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function EN(e,t){if(e!=="_next"&&e!=="_prev")return t}var Et=me,SN=ut.Graph,NN=wN,CN=qN,RN=Et.constant(1);function qN(e,t){if(e.nodeCount()<=1)return[];var r=TN(e,t||RN),n=AN(r.graph,r.buckets,r.zeroIdx);return Et.flatten(Et.map(n,function(i){return e.outEdges(i.v,i.w)}),!0)}function AN(e,t,r){for(var n=[],i=t[t.length-1],a=t[0],o;e.nodeCount();){for(;o=a.dequeue();)ic(e,t,r,o);for(;o=i.dequeue();)ic(e,t,r,o);if(e.nodeCount()){for(var s=t.length-2;s>0;--s)if(o=t[s].dequeue(),o){n=n.concat(ic(e,t,r,o,!0));break}}}return n}function ic(e,t,r,n,i){var a=i?[]:void 0;return Et.forEach(e.inEdges(n.v),function(o){var s=e.edge(o),u=e.node(o.v);i&&a.push({v:o.v,w:o.w}),u.out-=s,Cc(t,r,u)}),Et.forEach(e.outEdges(n.v),function(o){var s=e.edge(o),u=o.w,l=e.node(u);l.in-=s,Cc(t,r,l)}),e.removeNode(n.v),a}function TN(e,t){var r=new SN,n=0,i=0;Et.forEach(e.nodes(),function(s){r.setNode(s,{v:s,in:0,out:0})}),Et.forEach(e.edges(),function(s){var u=r.edge(s.v,s.w)||0,l=t(s),c=u+l;r.setEdge(s.v,s.w,c),i=Math.max(i,r.node(s.v).out+=l),n=Math.max(n,r.node(s.w).in+=l)});var a=Et.range(i+n+3).map(function(){return new NN}),o=n+1;return Et.forEach(r.nodes(),function(s){Cc(a,o,r.node(s))}),{graph:r,buckets:a,zeroIdx:o}}function Cc(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}var Kt=me,kN=CN,IN={run:MN,undo:ON};function MN(e){var t=e.graph().acyclicer==="greedy"?kN(e,r(e)):PN(e);Kt.forEach(t,function(n){var i=e.edge(n);e.removeEdge(n),i.forwardName=n.name,i.reversed=!0,e.setEdge(n.w,n.v,i,Kt.uniqueId("rev"))});function r(n){return function(i){return n.edge(i).weight}}}function PN(e){var t=[],r={},n={};function i(a){Kt.has(n,a)||(n[a]=!0,r[a]=!0,Kt.forEach(e.outEdges(a),function(o){Kt.has(r,o.w)?t.push(o):i(o.w)}),delete r[a])}return Kt.forEach(e.nodes(),i),t}function ON(e){Kt.forEach(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})}var ue=me,Vm=ut.Graph,Ve={addDummyNode:Gm,simplify:jN,asNonCompoundGraph:$N,successorWeights:DN,predecessorWeights:LN,intersectRect:FN,buildLayerMatrix:zN,normalizeRanks:HN,removeEmptyRanks:BN,addBorderNode:VN,maxRank:Um,partition:GN,time:UN,notime:KN};function Gm(e,t,r,n){var i;do i=ue.uniqueId(n);while(e.hasNode(i));return r.dummy=t,e.setNode(i,r),i}function jN(e){var t=new Vm().setGraph(e.graph());return ue.forEach(e.nodes(),function(r){t.setNode(r,e.node(r))}),ue.forEach(e.edges(),function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},i=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),t}function $N(e){var t=new Vm({multigraph:e.isMultigraph()}).setGraph(e.graph());return ue.forEach(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),ue.forEach(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t}function DN(e){var t=ue.map(e.nodes(),function(r){var n={};return ue.forEach(e.outEdges(r),function(i){n[i.w]=(n[i.w]||0)+e.edge(i).weight}),n});return ue.zipObject(e.nodes(),t)}function LN(e){var t=ue.map(e.nodes(),function(r){var n={};return ue.forEach(e.inEdges(r),function(i){n[i.v]=(n[i.v]||0)+e.edge(i).weight}),n});return ue.zipObject(e.nodes(),t)}function FN(e,t){var r=e.x,n=e.y,i=t.x-r,a=t.y-n,o=e.width/2,s=e.height/2;if(!i&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var u,l;return Math.abs(a)*o>Math.abs(i)*s?(a<0&&(s=-s),u=s*i/a,l=s):(i<0&&(o=-o),u=o,l=o*a/i),{x:r+u,y:n+l}}function zN(e){var t=ue.map(ue.range(Um(e)+1),function(){return[]});return ue.forEach(e.nodes(),function(r){var n=e.node(r),i=n.rank;ue.isUndefined(i)||(t[i][n.order]=r)}),t}function HN(e){var t=ue.min(ue.map(e.nodes(),function(r){return e.node(r).rank}));ue.forEach(e.nodes(),function(r){var n=e.node(r);ue.has(n,"rank")&&(n.rank-=t)})}function BN(e){var t=ue.min(ue.map(e.nodes(),function(a){return e.node(a).rank})),r=[];ue.forEach(e.nodes(),function(a){var o=e.node(a).rank-t;r[o]||(r[o]=[]),r[o].push(a)});var n=0,i=e.graph().nodeRankFactor;ue.forEach(r,function(a,o){ue.isUndefined(a)&&o%i!==0?--n:n&&ue.forEach(a,function(s){e.node(s).rank+=n})})}function VN(e,t,r,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),Gm(e,"border",i,t)}function Um(e){return ue.max(ue.map(e.nodes(),function(t){var r=e.node(t).rank;if(!ue.isUndefined(r))return r}))}function GN(e,t){var r={lhs:[],rhs:[]};return ue.forEach(e,function(n){t(n)?r.lhs.push(n):r.rhs.push(n)}),r}function UN(e,t){var r=ue.now();try{return t()}finally{console.log(e+" time: "+(ue.now()-r)+"ms")}}function KN(e,t){return t()}var Km=me,YN=Ve,WN={run:XN,undo:JN};function XN(e){e.graph().dummyChains=[],Km.forEach(e.edges(),function(t){ZN(e,t)})}function ZN(e,t){var r=t.v,n=e.node(r).rank,i=t.w,a=e.node(i).rank,o=t.name,s=e.edge(t),u=s.labelRank;if(a!==n+1){e.removeEdge(t);var l,c,f;for(f=0,++n;n<a;++f,++n)s.points=[],c={width:0,height:0,edgeLabel:s,edgeObj:t,rank:n},l=YN.addDummyNode(e,"edge",c,"_d"),n===u&&(c.width=s.width,c.height=s.height,c.dummy="edge-label",c.labelpos=s.labelpos),e.setEdge(r,l,{weight:s.weight},o),f===0&&e.graph().dummyChains.push(l),r=l;e.setEdge(r,i,{weight:s.weight},o)}}function JN(e){Km.forEach(e.graph().dummyChains,function(t){var r=e.node(t),n=r.edgeLabel,i;for(e.setEdge(r.edgeObj,n);r.dummy;)i=e.successors(t)[0],e.removeNode(t),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),t=i,r=e.node(t)})}var dn=me,ni={longestPath:QN,slack:eC};function QN(e){var t={};function r(n){var i=e.node(n);if(dn.has(t,n))return i.rank;t[n]=!0;var a=dn.min(dn.map(e.outEdges(n),function(o){return r(o.w)-e.edge(o).minlen}));return(a===Number.POSITIVE_INFINITY||a===void 0||a===null)&&(a=0),i.rank=a}dn.forEach(e.sources(),r)}function eC(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var An=me,tC=ut.Graph,Tn=ni.slack,Ym=rC;function rC(e){var t=new tC({directed:!1}),r=e.nodes()[0],n=e.nodeCount();t.setNode(r,{});for(var i,a;nC(t,e)<n;)i=iC(t,e),a=t.hasNode(i.v)?Tn(e,i):-Tn(e,i),aC(t,e,a);return t}function nC(e,t){function r(n){An.forEach(t.nodeEdges(n),function(i){var a=i.v,o=n===a?i.w:a;!e.hasNode(o)&&!Tn(t,i)&&(e.setNode(o,{}),e.setEdge(n,o,{}),r(o))})}return An.forEach(e.nodes(),r),e.nodeCount()}function iC(e,t){return An.minBy(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return Tn(t,r)})}function aC(e,t,r){An.forEach(e.nodes(),function(n){t.node(n).rank+=r})}var Rt=me,oC=Ym,sC=ni.slack,uC=ni.longestPath,cC=ut.alg.preorder,lC=ut.alg.postorder,fC=Ve.simplify,dC=tr;tr.initLowLimValues=hl;tr.initCutValues=dl;tr.calcCutValue=Wm;tr.leaveEdge=Zm;tr.enterEdge=Jm;tr.exchangeEdges=Qm;function tr(e){e=fC(e),uC(e);var t=oC(e);hl(t),dl(t,e);for(var r,n;r=Zm(t);)n=Jm(t,e,r),Qm(t,e,r,n)}function dl(e,t){var r=lC(e,e.nodes());r=r.slice(0,r.length-1),Rt.forEach(r,function(n){hC(e,t,n)})}function hC(e,t,r){var n=e.node(r),i=n.parent;e.edge(r,i).cutvalue=Wm(e,t,r)}function Wm(e,t,r){var n=e.node(r),i=n.parent,a=!0,o=t.edge(r,i),s=0;return o||(a=!1,o=t.edge(i,r)),s=o.weight,Rt.forEach(t.nodeEdges(r),function(u){var l=u.v===r,c=l?u.w:u.v;if(c!==i){var f=l===a,d=t.edge(u).weight;if(s+=f?d:-d,pC(e,r,c)){var h=e.edge(r,c).cutvalue;s+=f?-h:h}}}),s}function hl(e,t){arguments.length<2&&(t=e.nodes()[0]),Xm(e,{},1,t)}function Xm(e,t,r,n,i){var a=r,o=e.node(n);return t[n]=!0,Rt.forEach(e.neighbors(n),function(s){Rt.has(t,s)||(r=Xm(e,t,r,s,n))}),o.low=a,o.lim=r++,i?o.parent=i:delete o.parent,r}function Zm(e){return Rt.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function Jm(e,t,r){var n=r.v,i=r.w;t.hasEdge(n,i)||(n=r.w,i=r.v);var a=e.node(n),o=e.node(i),s=a,u=!1;a.lim>o.lim&&(s=o,u=!0);var l=Rt.filter(t.edges(),function(c){return u===t0(e,e.node(c.v),s)&&u!==t0(e,e.node(c.w),s)});return Rt.minBy(l,function(c){return sC(t,c)})}function Qm(e,t,r,n){var i=r.v,a=r.w;e.removeEdge(i,a),e.setEdge(n.v,n.w,{}),hl(e),dl(e,t),gC(e,t)}function gC(e,t){var r=Rt.find(e.nodes(),function(i){return!t.node(i).parent}),n=cC(e,r);n=n.slice(1),Rt.forEach(n,function(i){var a=e.node(i).parent,o=t.edge(i,a),s=!1;o||(o=t.edge(a,i),s=!0),t.node(i).rank=t.node(a).rank+(s?o.minlen:-o.minlen)})}function pC(e,t,r){return e.hasEdge(t,r)}function t0(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}var vC=ni,ey=vC.longestPath,mC=Ym,yC=dC,bC=_C;function _C(e){switch(e.graph().ranker){case"network-simplex":r0(e);break;case"tight-tree":wC(e);break;case"longest-path":xC(e);break;default:r0(e)}}var xC=ey;function wC(e){ey(e),mC(e)}function r0(e){yC(e)}var Rc=me,EC=SC;function SC(e){var t=CC(e);Rc.forEach(e.graph().dummyChains,function(r){for(var n=e.node(r),i=n.edgeObj,a=NC(e,t,i.v,i.w),o=a.path,s=a.lca,u=0,l=o[u],c=!0;r!==i.w;){if(n=e.node(r),c){for(;(l=o[u])!==s&&e.node(l).maxRank<n.rank;)u++;l===s&&(c=!1)}if(!c){for(;u<o.length-1&&e.node(l=o[u+1]).minRank<=n.rank;)u++;l=o[u]}e.setParent(r,l),r=e.successors(r)[0]}})}function NC(e,t,r,n){var i=[],a=[],o=Math.min(t[r].low,t[n].low),s=Math.max(t[r].lim,t[n].lim),u,l;u=r;do u=e.parent(u),i.push(u);while(u&&(t[u].low>o||s>t[u].lim));for(l=u,u=n;(u=e.parent(u))!==l;)a.push(u);return{path:i.concat(a.reverse()),lca:l}}function CC(e){var t={},r=0;function n(i){var a=r;Rc.forEach(e.children(i),n),t[i]={low:a,lim:r++}}return Rc.forEach(e.children(),n),t}var St=me,qc=Ve,RC={run:qC,cleanup:kC};function qC(e){var t=qc.addDummyNode(e,"root",{},"_root"),r=AC(e),n=St.max(St.values(r))-1,i=2*n+1;e.graph().nestingRoot=t,St.forEach(e.edges(),function(o){e.edge(o).minlen*=i});var a=TC(e)+1;St.forEach(e.children(),function(o){ty(e,t,i,a,n,r,o)}),e.graph().nodeRankFactor=i}function ty(e,t,r,n,i,a,o){var s=e.children(o);if(!s.length){o!==t&&e.setEdge(t,o,{weight:0,minlen:r});return}var u=qc.addBorderNode(e,"_bt"),l=qc.addBorderNode(e,"_bb"),c=e.node(o);e.setParent(u,o),c.borderTop=u,e.setParent(l,o),c.borderBottom=l,St.forEach(s,function(f){ty(e,t,r,n,i,a,f);var d=e.node(f),h=d.borderTop?d.borderTop:f,p=d.borderBottom?d.borderBottom:f,g=d.borderTop?n:2*n,m=h!==p?1:i-a[o]+1;e.setEdge(u,h,{weight:g,minlen:m,nestingEdge:!0}),e.setEdge(p,l,{weight:g,minlen:m,nestingEdge:!0})}),e.parent(o)||e.setEdge(t,u,{weight:0,minlen:i+a[o]})}function AC(e){var t={};function r(n,i){var a=e.children(n);a&&a.length&&St.forEach(a,function(o){r(o,i+1)}),t[n]=i}return St.forEach(e.children(),function(n){r(n,1)}),t}function TC(e){return St.reduce(e.edges(),function(t,r){return t+e.edge(r).weight},0)}function kC(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,St.forEach(e.edges(),function(r){var n=e.edge(r);n.nestingEdge&&e.removeEdge(r)})}var ac=me,IC=Ve,MC=PC;function PC(e){function t(r){var n=e.children(r),i=e.node(r);if(n.length&&ac.forEach(n,t),ac.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,o=i.maxRank+1;a<o;++a)n0(e,"borderLeft","_bl",r,i,a),n0(e,"borderRight","_br",r,i,a)}}ac.forEach(e.children(),t)}function n0(e,t,r,n,i,a){var o={width:0,height:0,rank:a,borderType:t},s=i[t][a-1],u=IC.addDummyNode(e,"border",o,r);i[t][a]=u,e.setParent(u,n),s&&e.setEdge(s,u,{weight:1})}var ht=me,OC={adjust:jC,undo:$C};function jC(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&ry(e)}function $C(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&DC(e),(t==="lr"||t==="rl")&&(LC(e),ry(e))}function ry(e){ht.forEach(e.nodes(),function(t){i0(e.node(t))}),ht.forEach(e.edges(),function(t){i0(e.edge(t))})}function i0(e){var t=e.width;e.width=e.height,e.height=t}function DC(e){ht.forEach(e.nodes(),function(t){oc(e.node(t))}),ht.forEach(e.edges(),function(t){var r=e.edge(t);ht.forEach(r.points,oc),ht.has(r,"y")&&oc(r)})}function oc(e){e.y=-e.y}function LC(e){ht.forEach(e.nodes(),function(t){sc(e.node(t))}),ht.forEach(e.edges(),function(t){var r=e.edge(t);ht.forEach(r.points,sc),ht.has(r,"x")&&sc(r)})}function sc(e){var t=e.x;e.x=e.y,e.y=t}var xt=me,FC=zC;function zC(e){var t={},r=xt.filter(e.nodes(),function(s){return!e.children(s).length}),n=xt.max(xt.map(r,function(s){return e.node(s).rank})),i=xt.map(xt.range(n+1),function(){return[]});function a(s){if(!xt.has(t,s)){t[s]=!0;var u=e.node(s);i[u.rank].push(s),xt.forEach(e.successors(s),a)}}var o=xt.sortBy(r,function(s){return e.node(s).rank});return xt.forEach(o,a),i}var Mt=me,HC=BC;function BC(e,t){for(var r=0,n=1;n<t.length;++n)r+=VC(e,t[n-1],t[n]);return r}function VC(e,t,r){for(var n=Mt.zipObject(r,Mt.map(r,function(l,c){return c})),i=Mt.flatten(Mt.map(t,function(l){return Mt.sortBy(Mt.map(e.outEdges(l),function(c){return{pos:n[c.w],weight:e.edge(c).weight}}),"pos")}),!0),a=1;a<r.length;)a<<=1;var o=2*a-1;a-=1;var s=Mt.map(new Array(o),function(){return 0}),u=0;return Mt.forEach(i.forEach(function(l){var c=l.pos+a;s[c]+=l.weight;for(var f=0;c>0;)c%2&&(f+=s[c+1]),c=c-1>>1,s[c]+=l.weight;u+=l.weight*f})),u}var a0=me,GC=UC;function UC(e,t){return a0.map(t,function(r){var n=e.inEdges(r);if(n.length){var i=a0.reduce(n,function(a,o){var s=e.edge(o),u=e.node(o.v);return{sum:a.sum+s.weight*u.order,weight:a.weight+s.weight}},{sum:0,weight:0});return{v:r,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:r}})}var Ye=me,KC=YC;function YC(e,t){var r={};Ye.forEach(e,function(i,a){var o=r[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:a};Ye.isUndefined(i.barycenter)||(o.barycenter=i.barycenter,o.weight=i.weight)}),Ye.forEach(t.edges(),function(i){var a=r[i.v],o=r[i.w];!Ye.isUndefined(a)&&!Ye.isUndefined(o)&&(o.indegree++,a.out.push(r[i.w]))});var n=Ye.filter(r,function(i){return!i.indegree});return WC(n)}function WC(e){var t=[];function r(a){return function(o){o.merged||(Ye.isUndefined(o.barycenter)||Ye.isUndefined(a.barycenter)||o.barycenter>=a.barycenter)&&XC(a,o)}}function n(a){return function(o){o.in.push(a),--o.indegree===0&&e.push(o)}}for(;e.length;){var i=e.pop();t.push(i),Ye.forEach(i.in.reverse(),r(i)),Ye.forEach(i.out,n(i))}return Ye.map(Ye.filter(t,function(a){return!a.merged}),function(a){return Ye.pick(a,["vs","i","barycenter","weight"])})}function XC(e,t){var r=0,n=0;e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}var Or=me,ZC=Ve,JC=QC;function QC(e,t){var r=ZC.partition(e,function(c){return Or.has(c,"barycenter")}),n=r.lhs,i=Or.sortBy(r.rhs,function(c){return-c.i}),a=[],o=0,s=0,u=0;n.sort(eR(!!t)),u=o0(a,i,u),Or.forEach(n,function(c){u+=c.vs.length,a.push(c.vs),o+=c.barycenter*c.weight,s+=c.weight,u=o0(a,i,u)});var l={vs:Or.flatten(a,!0)};return s&&(l.barycenter=o/s,l.weight=s),l}function o0(e,t,r){for(var n;t.length&&(n=Or.last(t)).i<=r;)t.pop(),e.push(n.vs),r++;return r}function eR(e){return function(t,r){return t.barycenter<r.barycenter?-1:t.barycenter>r.barycenter?1:e?r.i-t.i:t.i-r.i}}var $t=me,tR=GC,rR=KC,nR=JC,iR=ny;function ny(e,t,r,n){var i=e.children(t),a=e.node(t),o=a?a.borderLeft:void 0,s=a?a.borderRight:void 0,u={};o&&(i=$t.filter(i,function(p){return p!==o&&p!==s}));var l=tR(e,i);$t.forEach(l,function(p){if(e.children(p.v).length){var g=ny(e,p.v,r,n);u[p.v]=g,$t.has(g,"barycenter")&&oR(p,g)}});var c=rR(l,r);aR(c,u);var f=nR(c,n);if(o&&(f.vs=$t.flatten([o,f.vs,s],!0),e.predecessors(o).length)){var d=e.node(e.predecessors(o)[0]),h=e.node(e.predecessors(s)[0]);$t.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+d.order+h.order)/(f.weight+2),f.weight+=2}return f}function aR(e,t){$t.forEach(e,function(r){r.vs=$t.flatten(r.vs.map(function(n){return t[n]?t[n].vs:n}),!0)})}function oR(e,t){$t.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var jr=me,sR=ut.Graph,uR=cR;function cR(e,t,r){var n=lR(e),i=new sR({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(a){return e.node(a)});return jr.forEach(e.nodes(),function(a){var o=e.node(a),s=e.parent(a);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(i.setNode(a),i.setParent(a,s||n),jr.forEach(e[r](a),function(u){var l=u.v===a?u.w:u.v,c=i.edge(l,a),f=jr.isUndefined(c)?0:c.weight;i.setEdge(l,a,{weight:e.edge(u).weight+f})}),jr.has(o,"minRank")&&i.setNode(a,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))}),i}function lR(e){for(var t;e.hasNode(t=jr.uniqueId("_root")););return t}var fR=me,dR=hR;function hR(e,t,r){var n={},i;fR.forEach(r,function(a){for(var o=e.parent(a),s,u;o;){if(s=e.parent(o),s?(u=n[s],n[s]=o):(u=i,i=o),u&&u!==o){t.setEdge(u,o);return}o=s}})}var Ft=me,gR=FC,pR=HC,vR=iR,mR=uR,yR=dR,bR=ut.Graph,s0=Ve,_R=xR;function xR(e){var t=s0.maxRank(e),r=u0(e,Ft.range(1,t+1),"inEdges"),n=u0(e,Ft.range(t-1,-1,-1),"outEdges"),i=gR(e);c0(e,i);for(var a=Number.POSITIVE_INFINITY,o,s=0,u=0;u<4;++s,++u){wR(s%2?r:n,s%4>=2),i=s0.buildLayerMatrix(e);var l=pR(e,i);l<a&&(u=0,o=Ft.cloneDeep(i),a=l)}c0(e,o)}function u0(e,t,r){return Ft.map(t,function(n){return mR(e,n,r)})}function wR(e,t){var r=new bR;Ft.forEach(e,function(n){var i=n.graph().root,a=vR(n,i,r,t);Ft.forEach(a.vs,function(o,s){n.node(o).order=s}),yR(n,r,a.vs)})}function c0(e,t){Ft.forEach(t,function(r){Ft.forEach(r,function(n,i){e.node(n).order=i})})}var Z=me,ER=ut.Graph,SR=Ve,NR={positionX:jR};function CR(e,t){var r={};function n(i,a){var o=0,s=0,u=i.length,l=Z.last(a);return Z.forEach(a,function(c,f){var d=qR(e,c),h=d?e.node(d).order:u;(d||c===l)&&(Z.forEach(a.slice(s,f+1),function(p){Z.forEach(e.predecessors(p),function(g){var m=e.node(g),y=m.order;(y<o||h<y)&&!(m.dummy&&e.node(p).dummy)&&iy(r,g,p)})}),s=f+1,o=h)}),a}return Z.reduce(t,n),r}function RR(e,t){var r={};function n(a,o,s,u,l){var c;Z.forEach(Z.range(o,s),function(f){c=a[f],e.node(c).dummy&&Z.forEach(e.predecessors(c),function(d){var h=e.node(d);h.dummy&&(h.order<u||h.order>l)&&iy(r,d,c)})})}function i(a,o){var s=-1,u,l=0;return Z.forEach(o,function(c,f){if(e.node(c).dummy==="border"){var d=e.predecessors(c);d.length&&(u=e.node(d[0]).order,n(o,l,f,s,u),l=f,s=u)}n(o,l,o.length,u,a.length)}),o}return Z.reduce(t,i),r}function qR(e,t){if(e.node(t).dummy)return Z.find(e.predecessors(t),function(r){return e.node(r).dummy})}function iy(e,t,r){if(t>r){var n=t;t=r,r=n}var i=e[t];i||(e[t]=i={}),i[r]=!0}function AR(e,t,r){if(t>r){var n=t;t=r,r=n}return Z.has(e[t],r)}function TR(e,t,r,n){var i={},a={},o={};return Z.forEach(t,function(s){Z.forEach(s,function(u,l){i[u]=u,a[u]=u,o[u]=l})}),Z.forEach(t,function(s){var u=-1;Z.forEach(s,function(l){var c=n(l);if(c.length){c=Z.sortBy(c,function(g){return o[g]});for(var f=(c.length-1)/2,d=Math.floor(f),h=Math.ceil(f);d<=h;++d){var p=c[d];a[l]===l&&u<o[p]&&!AR(r,l,p)&&(a[p]=l,a[l]=i[l]=i[p],u=o[p])}}})}),{root:i,align:a}}function kR(e,t,r,n,i){var a={},o=IR(e,t,r,i),s=i?"borderLeft":"borderRight";function u(f,d){for(var h=o.nodes(),p=h.pop(),g={};p;)g[p]?f(p):(g[p]=!0,h.push(p),h=h.concat(d(p))),p=h.pop()}function l(f){a[f]=o.inEdges(f).reduce(function(d,h){return Math.max(d,a[h.v]+o.edge(h))},0)}function c(f){var d=o.outEdges(f).reduce(function(p,g){return Math.min(p,a[g.w]-o.edge(g))},Number.POSITIVE_INFINITY),h=e.node(f);d!==Number.POSITIVE_INFINITY&&h.borderType!==s&&(a[f]=Math.max(a[f],d))}return u(l,o.predecessors.bind(o)),u(c,o.successors.bind(o)),Z.forEach(n,function(f){a[f]=a[r[f]]}),a}function IR(e,t,r,n){var i=new ER,a=e.graph(),o=$R(a.nodesep,a.edgesep,n);return Z.forEach(t,function(s){var u;Z.forEach(s,function(l){var c=r[l];if(i.setNode(c),u){var f=r[u],d=i.edge(f,c);i.setEdge(f,c,Math.max(o(e,l,u),d||0))}u=l})}),i}function MR(e,t){return Z.minBy(Z.values(t),function(r){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return Z.forIn(r,function(a,o){var s=DR(e,o)/2;n=Math.max(a+s,n),i=Math.min(a-s,i)}),n-i})}function PR(e,t){var r=Z.values(t),n=Z.min(r),i=Z.max(r);Z.forEach(["u","d"],function(a){Z.forEach(["l","r"],function(o){var s=a+o,u=e[s],l;if(u!==t){var c=Z.values(u);l=o==="l"?n-Z.min(c):i-Z.max(c),l&&(e[s]=Z.mapValues(u,function(f){return f+l}))}})})}function OR(e,t){return Z.mapValues(e.ul,function(r,n){if(t)return e[t.toLowerCase()][n];var i=Z.sortBy(Z.map(e,n));return(i[1]+i[2])/2})}function jR(e){var t=SR.buildLayerMatrix(e),r=Z.merge(CR(e,t),RR(e,t)),n={},i;Z.forEach(["u","d"],function(o){i=o==="u"?t:Z.values(t).reverse(),Z.forEach(["l","r"],function(s){s==="r"&&(i=Z.map(i,function(f){return Z.values(f).reverse()}));var u=(o==="u"?e.predecessors:e.successors).bind(e),l=TR(e,i,r,u),c=kR(e,i,l.root,l.align,s==="r");s==="r"&&(c=Z.mapValues(c,function(f){return-f})),n[o+s]=c})});var a=MR(e,n);return PR(n,a),OR(n,e.graph().align)}function $R(e,t,r){return function(n,i,a){var o=n.node(i),s=n.node(a),u=0,l;if(u+=o.width/2,Z.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":l=-o.width/2;break;case"r":l=o.width/2;break}if(l&&(u+=r?l:-l),l=0,u+=(o.dummy?t:e)/2,u+=(s.dummy?t:e)/2,u+=s.width/2,Z.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":l=s.width/2;break;case"r":l=-s.width/2;break}return l&&(u+=r?l:-l),l=0,u}}function DR(e,t){return e.node(t).width}var $r=me,ay=Ve,LR=NR.positionX,FR=zR;function zR(e){e=ay.asNonCompoundGraph(e),HR(e),$r.forEach(LR(e),function(t,r){e.node(r).x=t})}function HR(e){var t=ay.buildLayerMatrix(e),r=e.graph().ranksep,n=0;$r.forEach(t,function(i){var a=$r.max($r.map(i,function(o){return e.node(o).height}));$r.forEach(i,function(o){e.node(o).y=n+a/2}),n+=a+r})}var te=me,l0=IN,f0=WN,BR=bC,VR=Ve.normalizeRanks,GR=EC,UR=Ve.removeEmptyRanks,d0=RC,KR=MC,h0=OC,YR=_R,WR=FR,zt=Ve,XR=ut.Graph,ZR=JR;function JR(e,t){var r=t&&t.debugTiming?zt.time:zt.notime;r("layout",function(){var n=r("  buildLayoutGraph",function(){return cq(e)});r("  runLayout",function(){QR(n,r)}),r("  updateInputGraph",function(){eq(e,n)})})}function QR(e,t){t("    makeSpaceForEdgeLabels",function(){lq(e)}),t("    removeSelfEdges",function(){bq(e)}),t("    acyclic",function(){l0.run(e)}),t("    nestingGraph.run",function(){d0.run(e)}),t("    rank",function(){BR(zt.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){fq(e)}),t("    removeEmptyRanks",function(){UR(e)}),t("    nestingGraph.cleanup",function(){d0.cleanup(e)}),t("    normalizeRanks",function(){VR(e)}),t("    assignRankMinMax",function(){dq(e)}),t("    removeEdgeLabelProxies",function(){hq(e)}),t("    normalize.run",function(){f0.run(e)}),t("    parentDummyChains",function(){GR(e)}),t("    addBorderSegments",function(){KR(e)}),t("    order",function(){YR(e)}),t("    insertSelfEdges",function(){_q(e)}),t("    adjustCoordinateSystem",function(){h0.adjust(e)}),t("    position",function(){WR(e)}),t("    positionSelfEdges",function(){xq(e)}),t("    removeBorderNodes",function(){yq(e)}),t("    normalize.undo",function(){f0.undo(e)}),t("    fixupEdgeLabelCoords",function(){vq(e)}),t("    undoCoordinateSystem",function(){h0.undo(e)}),t("    translateGraph",function(){gq(e)}),t("    assignNodeIntersects",function(){pq(e)}),t("    reversePoints",function(){mq(e)}),t("    acyclic.undo",function(){l0.undo(e)})}function eq(e,t){te.forEach(e.nodes(),function(r){var n=e.node(r),i=t.node(r);n&&(n.x=i.x,n.y=i.y,t.children(r).length&&(n.width=i.width,n.height=i.height))}),te.forEach(e.edges(),function(r){var n=e.edge(r),i=t.edge(r);n.points=i.points,te.has(i,"x")&&(n.x=i.x,n.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var tq=["nodesep","edgesep","ranksep","marginx","marginy"],rq={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},nq=["acyclicer","ranker","rankdir","align"],iq=["width","height"],aq={width:0,height:0},oq=["minlen","weight","width","height","labeloffset"],sq={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},uq=["labelpos"];function cq(e){var t=new XR({multigraph:!0,compound:!0}),r=cc(e.graph());return t.setGraph(te.merge({},rq,uc(r,tq),te.pick(r,nq))),te.forEach(e.nodes(),function(n){var i=cc(e.node(n));t.setNode(n,te.defaults(uc(i,iq),aq)),t.setParent(n,e.parent(n))}),te.forEach(e.edges(),function(n){var i=cc(e.edge(n));t.setEdge(n,te.merge({},sq,uc(i,oq),te.pick(i,uq)))}),t}function lq(e){var t=e.graph();t.ranksep/=2,te.forEach(e.edges(),function(r){var n=e.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function fq(e){te.forEach(e.edges(),function(t){var r=e.edge(t);if(r.width&&r.height){var n=e.node(t.v),i=e.node(t.w),a={rank:(i.rank-n.rank)/2+n.rank,e:t};zt.addDummyNode(e,"edge-proxy",a,"_ep")}})}function dq(e){var t=0;te.forEach(e.nodes(),function(r){var n=e.node(r);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,t=te.max(t,n.maxRank))}),e.graph().maxRank=t}function hq(e){te.forEach(e.nodes(),function(t){var r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}function gq(e){var t=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,i=0,a=e.graph(),o=a.marginx||0,s=a.marginy||0;function u(l){var c=l.x,f=l.y,d=l.width,h=l.height;t=Math.min(t,c-d/2),r=Math.max(r,c+d/2),n=Math.min(n,f-h/2),i=Math.max(i,f+h/2)}te.forEach(e.nodes(),function(l){u(e.node(l))}),te.forEach(e.edges(),function(l){var c=e.edge(l);te.has(c,"x")&&u(c)}),t-=o,n-=s,te.forEach(e.nodes(),function(l){var c=e.node(l);c.x-=t,c.y-=n}),te.forEach(e.edges(),function(l){var c=e.edge(l);te.forEach(c.points,function(f){f.x-=t,f.y-=n}),te.has(c,"x")&&(c.x-=t),te.has(c,"y")&&(c.y-=n)}),a.width=r-t+o,a.height=i-n+s}function pq(e){te.forEach(e.edges(),function(t){var r=e.edge(t),n=e.node(t.v),i=e.node(t.w),a,o;r.points?(a=r.points[0],o=r.points[r.points.length-1]):(r.points=[],a=i,o=n),r.points.unshift(zt.intersectRect(n,a)),r.points.push(zt.intersectRect(i,o))})}function vq(e){te.forEach(e.edges(),function(t){var r=e.edge(t);if(te.has(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function mq(e){te.forEach(e.edges(),function(t){var r=e.edge(t);r.reversed&&r.points.reverse()})}function yq(e){te.forEach(e.nodes(),function(t){if(e.children(t).length){var r=e.node(t),n=e.node(r.borderTop),i=e.node(r.borderBottom),a=e.node(te.last(r.borderLeft)),o=e.node(te.last(r.borderRight));r.width=Math.abs(o.x-a.x),r.height=Math.abs(i.y-n.y),r.x=a.x+r.width/2,r.y=n.y+r.height/2}}),te.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function bq(e){te.forEach(e.edges(),function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function _q(e){var t=zt.buildLayerMatrix(e);te.forEach(t,function(r){var n=0;te.forEach(r,function(i,a){var o=e.node(i);o.order=a+n,te.forEach(o.selfEdges,function(s){zt.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:o.rank,order:a+ ++n,e:s.e,label:s.label},"_se")}),delete o.selfEdges})})}function xq(e){te.forEach(e.nodes(),function(t){var r=e.node(t);if(r.dummy==="selfedge"){var n=e.node(r.e.v),i=n.x+n.width/2,a=n.y,o=r.x-i,s=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:i+2*o/3,y:a-s},{x:i+5*o/6,y:a-s},{x:i+o,y:a},{x:i+5*o/6,y:a+s},{x:i+2*o/3,y:a+s}],r.label.x=r.x,r.label.y=r.y}})}function uc(e,t){return te.mapValues(te.pick(e,t),Number)}function cc(e){var t={};return te.forEach(e,function(r,n){t[n.toLowerCase()]=r}),t}var hn=me,wq=Ve,Eq=ut.Graph,Sq={debugOrdering:Nq};function Nq(e){var t=wq.buildLayerMatrix(e),r=new Eq({compound:!0,multigraph:!0}).setGraph({});return hn.forEach(e.nodes(),function(n){r.setNode(n,{label:n}),r.setParent(n,"layer"+e.node(n).rank)}),hn.forEach(e.edges(),function(n){r.setEdge(n.v,n.w,{},n.name)}),hn.forEach(t,function(n,i){var a="layer"+i;r.setNode(a,{rank:"same"}),hn.reduce(n,function(o,s){return r.setEdge(o,s,{style:"invis"}),s})}),r}var Cq="0.8.5",Rq={graphlib:ut,layout:ZR,debug:Sq,util:{time:Ve.time,notime:Ve.notime},version:Cq};const g0=w0(Rq),p0=200,v0=50,qq=(e,t)=>{const r=new g0.graphlib.Graph;return r.setDefaultEdgeLabel(()=>({})),r.setGraph({rankdir:"LR",ranksep:100,nodesep:20}),e.forEach(i=>{r.setNode(i.id,{width:p0,height:v0})}),t.forEach(i=>{r.setEdge(i.source,i.target)}),g0.layout(r),{nodes:e.map(i=>{const a=r.node(i.id);return{...i,targetPosition:Y.Left,sourcePosition:Y.Right,position:{x:a.x-p0/2,y:a.y-v0/2}}}),edges:t}},Aq=(e,t)=>{if(!t)return[];const r=t.toLowerCase(),n=[],i=(a,o="root",s="Root")=>{let u=!1;s.toLowerCase().includes(r)&&(n.push(o),u=!0);const l=typeof a=="object"&&a!==null;if(!l&&String(a).toLowerCase().includes(r)&&(u||n.push(o)),l)for(const c of Object.keys(a)){const f=`${o}.${c}`;i(a[c],f,c)}};return i(e),n},Tq=(e,t,r,n=null)=>{let i=[],a=[];const o=(s,u="root",l=null,c="Root")=>{const f=typeof s=="object"&&s!==null;let d=c;if(!f){const y=String(s),b=y.length>30?y.substring(0,30)+"...":y;d=`${c}: ${b}`}const h=f&&Object.keys(s).length>0,p=t.has(u),m={id:u,type:"mindmap",data:{label:d,isExpandable:h,isExpanded:p,isMatched:n===u,onExpand:r,originalValue:f?void 0:String(s)},position:{x:0,y:0}};i.push(m),l&&a.push({id:`e-${l}-${u}`,source:l,target:u,type:"smoothstep",animated:!1,style:{stroke:"#475569",strokeWidth:1.5}}),f&&p&&Object.keys(s).forEach(y=>{const b=`${u}.${y}`;o(s[y],b,u,y)})};return e&&o(e),qq(i,a)},kq=({data:e,id:t})=>w.jsxs("div",{className:"group relative flex items-center",children:[w.jsx(gr,{type:"target",position:Y.Left,className:oi("!w-1 !h-1 !bg-gray-400 !border-none","!opacity-0 group-hover:!opacity-100 transition-opacity")}),w.jsxs("div",{className:oi("flex items-center gap-2 px-4 py-2 rounded-full border shadow-sm transition-all min-w-[120px]","bg-slate-700 border-slate-600 text-slate-100 shadow-slate-900/10",e.isExpanded?"ring-2 ring-blue-500/50":"hover:border-slate-500",e.isMatched&&"!bg-yellow-500/20 !border-yellow-500 !ring-2 !ring-yellow-500/50"),children:[w.jsx("div",{className:"flex-1 truncate text-sm font-medium pr-2",children:e.label}),e.isExpandable&&w.jsx("button",{className:"p-1 rounded-full hover:bg-white/10 text-slate-400 hover:text-white transition-colors",onClick:r=>{r.stopPropagation(),e.onExpand?.(t)},children:e.isExpanded?w.jsx(_0,{size:14}):w.jsx(by,{size:14})})]}),w.jsx(gr,{type:"source",position:Y.Right,className:oi("!w-1 !h-1 !bg-gray-400 !border-none","!opacity-0 group-hover:!opacity-100 transition-opacity")})]}),Iq=x.memo(kq),Mq={mindmap:Iq},Pq=({data:e})=>{const{fitView:t}=Dn(),[r,n,i]=mE([]),[a,o,s]=yE([]),[u,l]=x.useState(new Set(["root"])),[c,f]=x.useState(""),[d,h]=x.useState([]),[p,g]=x.useState(-1),[m,y]=x.useState(null),[b,S]=x.useState(""),_=x.useCallback(P=>{l(j=>{const v=new Set(j);return v.has(P)?v.delete(P):v.add(P),v})},[]),q=x.useCallback(P=>{const j=P.split(".");l(v=>{const R=new Set(v);let E=j[0];R.add(E);for(let $=1;$<j.length;$++)E+=`.${j[$]}`,$<j.length&&R.add(E);return R}),y(P)},[]);x.useEffect(()=>{if(m&&r.some(P=>P.id===m)){const P=setTimeout(()=>{t({nodes:[{id:m}],duration:1500,padding:.3,maxZoom:2,minZoom:.5}),y(null)},100);return()=>clearTimeout(P)}},[r,m,t]);const C=P=>{if(P.preventDefault(),!c.trim())return;if(c===b&&d.length>0){T();return}const j=Aq(e,c);h(j),S(c),j.length>0?(g(0),q(j[0])):g(-1)},T=()=>{if(d.length===0)return;const P=(p+1)%d.length;g(P),q(d[P])},M=()=>{if(d.length===0)return;const P=(p-1+d.length)%d.length;g(P),q(d[P])};x.useEffect(()=>{const P=setTimeout(()=>{const j=p>=0?d[p]:null,{nodes:v,edges:R}=Tq(e,u,_,j);n(v),o(R)},10);return()=>clearTimeout(P)},[e,u,_,n,o,d,p]);const[A,O]=x.useState(!1),k=()=>O(!A);return w.jsx("div",{className:`${A?"fixed inset-0 z-50 bg-slate-900":"w-full h-full bg-slate-900"}`,children:w.jsxs(zv,{nodes:r,edges:a,onNodesChange:i,onEdgesChange:s,nodeTypes:Mq,fitView:!0,attributionPosition:"bottom-right",minZoom:.1,children:[w.jsx(NE,{className:"bg-white/90 border-slate-200 text-slate-700"}),w.jsx(kE,{color:"#334155",gap:20,size:1}),w.jsx(jc,{position:"top-right",className:"flex flex-col gap-2 items-end",children:w.jsxs("div",{className:"bg-slate-800/90 text-slate-200 p-2 rounded shadow-lg border border-slate-700 text-xs backdrop-blur-sm flex gap-2 items-center",children:[w.jsxs("form",{onSubmit:C,className:"flex items-center gap-2 border-r border-slate-600 pr-2 mr-2",children:[w.jsx(x0,{size:14,className:"text-slate-400"}),w.jsx("input",{type:"text",placeholder:"Search all...",className:"bg-transparent border-none outline-none text-white w-32 placeholder:text-slate-500",value:c,onChange:P=>f(P.target.value)})]}),c&&d.length===0&&w.jsx("span",{className:"text-red-400 mr-2 border-r border-slate-600 pr-2",children:"No results"}),d.length>0&&w.jsxs("div",{className:"flex items-center gap-1 border-r border-slate-600 pr-2 mr-2",children:[w.jsxs("span",{className:"text-slate-400 mr-1",children:[p+1,"/",d.length]}),w.jsx("button",{onClick:M,className:"p-1 hover:bg-slate-700 rounded transition-colors",title:"Previous",children:w.jsx(_y,{size:14})}),w.jsx("button",{onClick:T,className:"p-1 hover:bg-slate-700 rounded transition-colors",title:"Next",children:w.jsx(_0,{size:14})})]}),w.jsx("button",{onClick:k,className:"hover:text-blue-400 transition-colors flex items-center gap-1 whitespace-nowrap",children:A?"Exit Full Screen":"Full Screen"})]})})]})})},Oq=e=>w.jsx(Yc,{children:w.jsx(Pq,{...e})}),m0="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3elanguage_json%3c/title%3e%3crect%20width='24'%20height='24'%20fill='none'/%3e%3cpath%20d='M5,3H7V5H5v5a2,2,0,0,1-2,2,2,2,0,0,1,2,2v5H7v2H5c-1.07-.27-2-.9-2-2V15a2,2,0,0,0-2-2H0V11H1A2,2,0,0,0,3,9V5A2,2,0,0,1,5,3M19,3a2,2,0,0,1,2,2V9a2,2,0,0,0,2,2h1v2H23a2,2,0,0,0-2,2v4a2,2,0,0,1-2,2H17V19h2V14a2,2,0,0,1,2-2,2,2,0,0,1-2-2V5H17V3h2M12,15a1,1,0,1,1-1,1,1,1,0,0,1,1-1M8,15a1,1,0,1,1-1,1,1,1,0,0,1,1-1m8,0a1,1,0,1,1-1,1A1,1,0,0,1,16,15Z'/%3e%3cscript%20xmlns=''/%3e%3c/svg%3e",y0="/dev-optimizer/assets/android-icon-B4KYbOD8.svg",b0="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20height='2048px'%20style='shape-rendering:geometricPrecision;%20text-rendering:geometricPrecision;%20image-rendering:optimizeQuality;%20fill-rule:evenodd;%20clip-rule:evenodd'%20viewBox='0%200%202048%202048'%20width='2048px'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cstyle%20type='text/css'%3e%3c![CDATA[%20.fil1%20{fill:none}%20.fil0%20{fill:%23CECCCD;fill-rule:nonzero}%20]]%3e%3c/style%3e%3c/defs%3e%3cg%20id='Layer_x0020_1'%3e%3cpath%20class='fil0'%20d='M1318.64%20413.756c-14.426,44.2737%20-37.767,85.3075%20-65.8997,119.436l0%200.0625985c-28.3855,34.324%20-66.3012,64.6713%20-108.482,84.7926%20-38.713,18.4665%20-81.1489,28.4114%20-123.377,25.1197l-12.9236%20-1.00748%20-1.70197%20-12.8681c-5.48622,-41.4992%200.849213,-83.5099%2014.1921,-122.387%2015.5268,-45.241%2040.6772,-86.5205%2067.6642,-117.8l-0.00472441%20-0.00472441c27.9272,-32.7142%2065.3788,-61.1776%20105.487,-81.8009%2040.2437,-20.6941%2083.465,-33.6343%20122.803,-35.237l14.8701%20-0.605906%201.62992%2014.8559c4.76457,43.4481%20-1.02992,86.8489%20-14.2571,127.445z'/%3e%3cpath%20class='fil0'%20d='M1592.05%20804.067c-14.2559,8.82048%20-152.045,94.0808%20-150.337,265.937%201.80236,207.182%20177.474,279.003%20187.171,282.966l0.0625985%200%200.419292%200.173622%2013.7835%205.70709%20-4.72087%2014.1047c-0.279921,0.836221%200.0377953,-0.0531496%20-0.370866,1.25906%20-4.48229,14.361%20-34.8685,111.708%20-103.511,212.014%20-31.1481,45.4985%20-62.8831,90.9284%20-100.352,125.971%20-38.7957,36.2823%20-83.1024,60.7737%20-137.837,61.7906%20-51.5894,0.968505%20-85.3642,-13.6453%20-120.474,-28.8366%20-33.4784,-14.4862%20-68.2949,-29.5524%20-122.779,-29.5524%20-57.2339,0%20-93.8198,15.5858%20-129.06,30.6%20-33.1725,14.1319%20-65.2548,27.7996%20-111.474,29.6433l-0.0625985%200c-53.3693,1.98189%20-99.6485,-24.0343%20-140.778,-62.5678%20-39.3496,-36.8646%20-73.8249,-85.1398%20-105.241,-130.579%20-70.917,-102.399%20-132.592,-251.392%20-151.647,-402.892%20-15.6732,-124.616%20-2.57244,-251.206%2057.6756,-355.753%2033.6331,-58.4953%2080.6398,-106.233%20135.598,-139.543%2054.7075,-33.1571%20117.299,-52.0264%20182.451,-53.0032l0%20-0.0011811c57.0402,-1.03465%20110.823,20.3091%20157.884,38.9847%2033.3059,13.2165%2062.98,24.9933%2085.226,24.9933%2019.6536,0%2048.6237,-11.4224%2082.3949,-24.737%2057.0367,-22.487%20126.815,-49.9949%20200.599,-42.6579%2030.9862,1.34764%2095.5265,8.76969%20161.501,44.524%2042.0284,22.7776%2084.6579,56.9741%20119.701,108.261l9.23977%2013.5248%20-13.8024%208.91261c-0.73819,0.477166%20-0.0200788,-0.00944883%20-1.25906,0.755906z'/%3e%3c/g%3e%3crect%20class='fil1'%20height='2048'%20width='2048'/%3e%3cscript%20xmlns=''/%3e%3c/svg%3e";function Gq(){const{t:e}=Py(),[t,r]=x.useState("import"),[n,i]=x.useState(null),[a,o]=x.useState(null),[s,u]=x.useState(!1),[l,c]=x.useState(null),[f,d]=x.useState([]),[h,p]=x.useState(""),[g,m]=x.useState("json"),[y,b]=x.useState(!1),[S,_]=x.useState([]),[q,C]=x.useState(null),[T,M]=x.useState(-1),[A,O]=x.useState(!1),[k,P]=x.useState([]),[j,v]=x.useState(null),[R,E]=x.useState(!1),[$,L]=x.useState([]),[N,D]=x.useState([]),[F,H]=x.useState(null),[G,V]=x.useState(-1),[X,ne]=x.useState(-1),[ie,ae]=x.useState("text"),[fe,ce]=x.useState([]),[qe,Ae]=x.useState(null),[de,Te]=x.useState(null),[W,Se]=x.useState(0),[K,U]=x.useState(""),[he,Xe]=x.useState(""),[Ge,Ne]=x.useState(""),[ge,ke]=x.useState(null),[Ue,Fe]=x.useState(!1),[we,Me]=x.useState({key:null,direction:"asc"}),[tt,rt]=x.useState(!1),be=()=>{i(null),o(null),c(null),d([]),p(""),ce([]),Ae(null),Te(null),b(!1),_([]),C(null),M(-1),O(!1),P([]),v(null),E(!1),L([]),D([]),H(null),V(-1),ne(-1),Se(0),U(""),Xe(""),Ne(""),ke(null),Fe(!1),Me({key:null,direction:"asc"})},Pe=z=>{r(z),be()};x.useEffect(()=>{const z=setTimeout(()=>{Ne(he)},300);return()=>{clearTimeout(z)}},[he]);const Ce=async z=>{be(),u(!0),await new Promise(B=>setTimeout(B,500));try{let B=[];if(z.name.endsWith(".csv")){const J=await z.text();B=Tt(J),$e(B)}else if(z.name.match(/\.(xlsx|xls)$/)){const J=await z.arrayBuffer(),Q=ky(J,{type:"array"});if(Q.SheetNames.length>1){v(Q),P(Q.SheetNames),O(!0),u(!1);return}const le=Q.SheetNames[0],oe=Q.Sheets[le];B=Er.sheet_to_json(oe,{header:1}),$e(B)}else throw new Error(e("csvToJson.invalidFileType","Invalid file type"))}catch(B){console.error(B),i(B.message||"Failed to process file"),u(!1)}},Ie=z=>{j&&(O(!1),u(!0),setTimeout(()=>{try{const B=j.Sheets[z],J=Er.sheet_to_json(B,{header:1});$e(J)}catch(B){console.error(B),i(B.message||"Failed to process sheet"),u(!1)}},100))},Tt=z=>{const B=[];let J=[],Q="",le=!1;for(let oe=0;oe<z.length;oe++){const pe=z[oe],Ze=z[oe+1];pe==='"'?le&&Ze==='"'?(Q+='"',oe++):le=!le:pe===","&&!le?(J.push(Q.trim()),Q=""):(pe===`
`||pe==="\r"&&Ze===`
`)&&!le?(J.push(Q.trim()),B.push(J),J=[],Q="",pe==="\r"&&oe++):Q+=pe}return(Q||J.length>0)&&(J.push(Q.trim()),B.push(J)),B},$e=(z,B=-1,J=-1)=>{try{if(z.length<1)throw new Error(e("csvToJson.csvEmpty"));let Q=J,le=[];if(Q!==-1)le=z[Q].map(ve=>ve!=null?String(ve).trim():"");else for(let ve=0;ve<z.length;ve++){const Oe=z[ve].map(se=>se!=null?String(se).trim():"");if(Oe.includes("JSON KEY")){Q=ve,le=Oe;break}}if(Q===-1){console.log("JSON KEY not found, triggering manual selection"),C(z),M(0);const ve=z[0].map(Oe=>Oe!=null?String(Oe).trim():"Column "+Math.random().toString(36).substr(2,5));_(ve),b(!0),u(!1);return}let oe=B;if(oe===-1&&(oe=le.findIndex(ve=>ve==="JSON KEY")),oe===-1&&B===-1){C(z),M(Q),_(le),b(!0),u(!1);return}H(z),V(oe),ne(Q),L(le);const pe=[],Ze=["NO","PART","JSON KEY","SCREEN_ID","LABEL_TYPE","KEY_VALUE","No","New Screen ID","Screen ID","Revised SID","LABEL Type","Key Value","Value","Value Revise"];le.forEach((ve,Oe)=>{const se=/^Level \d+$/i.test(ve);!Ze.some(ze=>ze.toLowerCase()===ve.toLowerCase())&&!se&&ve.length>0&&Oe!==oe&&pe.push(Oe)}),D(pe),E(!0),u(!1)}catch(Q){i(Q.message),u(!1)}},mt=()=>{!F||G===-1||(u(!0),E(!1),setTimeout(()=>{try{const z=F,B=G,J=X,Q=z[J].map(ee=>String(ee||"").trim()),le={};if(N.forEach(ee=>{const Ke=Q[ee];Ke&&(le[Ke]=ee)}),Object.keys(le).length===0)throw new Error(e("csvToJson.noLanguages"));const oe=Object.keys(le);d(oe),oe.length>0&&p(oe[0]);const pe={},Ze={},ve={};oe.forEach(ee=>{pe[ee]={},Ze[ee]=[],ve[ee]=[]});const Oe=(ee,Ke,kt)=>{const ct=Ke.split(".");let lt=ee;for(let bt=0;bt<ct.length-1;bt++){const ft=ct[bt];lt[ft]||(lt[ft]={}),lt=lt[ft]}lt[ct[ct.length-1]]=kt},se=ee=>ee.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,'\\"').replace(/'/g,"\\'"),_e=ee=>ee.replace(/"/g,'\\"');let ze=0;for(let ee=J+1;ee<z.length;ee++){const Ke=z[ee];if(Ke.length<=B||!Ke[B])continue;const kt=String(Ke[B]).trim();kt&&(Object.entries(le).forEach(([ct,lt])=>{if(lt<Ke.length){const bt=Ke[lt],ft=bt!=null?String(bt):"";ft&&(Oe(pe[ct],kt,ft),Ze[ct].push(`    <string name="${kt}">${se(ft)}</string>`),ve[ct].push(`"${kt}" = "${_e(ft)}";`))}}),ze++)}const De={},He={};oe.forEach(ee=>{De[ee]=`<?xml version="1.0" encoding="utf-8"?>
<resources>
${Ze[ee].join(`
`)}
</resources>`,He[ee]=ve[ee].join(`
`)}),c({json:pe,android:De,ios:He}),o(e("csvToJson.successMessage",{count:ze,languages:oe.length})),u(!1)}catch(z){i(z.message),u(!1)}},100))},_r=z=>{q&&(b(!1),u(!0),setTimeout(()=>{$e(q,z,T)},100))},xr=async z=>{be(),u(!0),await new Promise(B=>setTimeout(B,500)),ce(z);try{const B=[];for(let se=0;se<z.length;se++){const _e=z[se];U(_e.name),Se(Math.round(se/z.length*100)),await new Promise(ee=>setTimeout(ee,50));const ze=await _e.text();let De={},He=_e.name.split(".")[0];if(_e.name.endsWith(".json"))try{const ee=JSON.parse(ze);De=oy(ee)}catch{throw new Error(`Failed to parse JSON file: ${_e.name}`)}else if(_e.name.endsWith(".xml"))_e.name==="strings.xml"&&(He=`android_${B.length+1}`),De=jq(ze);else if(_e.name.endsWith(".strings"))_e.name==="Localizable.strings"&&(He=`ios_${B.length+1}`),De=$q(ze);else continue;B.push({language:He,data:De})}if(Se(100),await new Promise(se=>setTimeout(se,200)),B.length===0)throw new Error(e("csvToJson.csvEmpty"));const J=new Set;B.forEach(se=>Object.keys(se.data).forEach(_e=>J.add(_e)));const Q=Array.from(J).sort(),le=B.map(se=>se.language),oe=Math.max(...Q.map(se=>se.split(".").length)),pe=Array.from({length:oe},(se,_e)=>`Level ${_e+1}`),Ze=["JSON KEY",...pe,...le],ve=Q.map(se=>{const _e=se.split("."),ze=Array.from({length:oe},(He,ee)=>_e[ee]||""),De=[se,...ze];return B.forEach(He=>{De.push(He.data[se]||"")}),De});Te([Ze,...ve]);let Oe=`JSON KEY,${pe.join(",")},${le.join(",")}
`;Q.forEach(se=>{const _e=se.split("."),ze=Array.from({length:oe},(He,ee)=>_e[ee]||""),De=[se,...ze];B.forEach(He=>{let ee=He.data[se]||"";(ee.includes('"')||ee.includes(",")||ee.includes(`
`))&&(ee=`"${ee.replace(/"/g,'""')}"`),De.push(ee)}),Oe+=De.join(",")+`
`}),Ae(Oe),o(`Processed ${z.length} files. Found ${Q.length} unique keys.`),u(!1)}catch(B){console.error(B),i(B.message||"Failed to process files"),u(!1)}},Bt=async()=>{if(!l)return;const z=new Ty,B=z.folder("json");Object.entries(l.json).forEach(([oe,pe])=>{B?.file(`${oe}.json`,JSON.stringify(pe,null,2))});const J=z.folder("android");Object.entries(l.android).forEach(([oe,pe])=>{J?.file(`values-${oe}/strings.xml`,pe)});const Q=z.folder("ios");Object.entries(l.ios).forEach(([oe,pe])=>{Q?.file(`${oe}.lproj/Localizable.strings`,pe)});const le=await z.generateAsync({type:"blob"});_l.saveAs(le,"translations.zip")},wr=()=>{if(!qe)return;const z=new Blob([qe],{type:"text/csv;charset=utf-8;"});_l.saveAs(z,"translations.csv")},Qr=()=>{if(!de)return;const z=Er.book_new(),B=Er.aoa_to_sheet(de),J=de[0].map(()=>({wch:20}));B["!cols"]=J,Er.book_append_sheet(z,B,"Translations"),Iy(z,"translations.xlsx")},yt=()=>{if(!l||!h)return"";switch(g){case"android":return l.android[h];case"ios":return l.ios[h];case"json":default:return JSON.stringify(l.json[h],null,2)}};return w.jsxs("div",{className:"w-full min-h-full flex flex-col space-y-6 p-4",children:[w.jsxs("div",{className:"text-center space-y-2",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:e("csvToJson.title")}),w.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e("csvToJson.description")})]}),w.jsx("div",{className:"flex justify-center mb-6",children:w.jsxs("div",{className:"bg-white dark:bg-gray-800 p-1 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 inline-flex flex-shrink-0",children:[w.jsxs("button",{onClick:()=>Pe("import"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${t==="import"?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[w.jsx(xy,{size:16}),e("csvToJson.importMode")]}),w.jsxs("button",{onClick:()=>Pe("export"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${t==="export"?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[w.jsx(wy,{size:16}),e("csvToJson.exportMode")]})]})}),w.jsxs("div",{className:"flex-1 flex flex-col bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 relative overflow-hidden min-h-[500px]",children:[s&&w.jsxs("div",{className:"absolute inset-0 bg-white/80 dark:bg-gray-800/80 z-10 flex flex-col items-center justify-center backdrop-blur-sm transition-all animate-in fade-in duration-200",children:[w.jsx("div",{className:"bg-white dark:bg-gray-900 p-4 rounded-full shadow-lg",children:w.jsx(vl,{className:"w-8 h-8 text-blue-600 animate-spin"})}),w.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300 font-medium animate-pulse",children:e("csvToJson.processing")}),K&&w.jsxs("div",{className:"mt-4 w-64 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[w.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mb-1",children:[w.jsx("span",{className:"truncate max-w-[150px] font-medium",children:K}),w.jsxs("span",{className:"font-mono",children:[W,"%"]})]}),w.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-700 overflow-hidden",children:w.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300 ease-out",style:{width:`${W}%`}})})]})]}),y&&w.jsx("div",{className:"absolute inset-0 bg-white/95 dark:bg-gray-900/95 z-20 flex flex-col items-center justify-center p-6 animate-in fade-in zoom-in-95 duration-200 overflow-y-auto",children:w.jsxs("div",{className:"w-full max-w-lg space-y-4 text-center my-auto",children:[w.jsxs("div",{className:"flex justify-between items-center mb-2",children:[w.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:e("csvToJson.selectKey")}),w.jsx("button",{onClick:()=>b(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:w.jsx(en,{size:24})})]}),w.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("csvToJson.selectKeyDesc")}),w.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-[300px] overflow-y-auto p-2",children:S.map((z,B)=>w.jsx("button",{onClick:()=>_r(B),className:"px-4 py-3 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors border border-blue-200 dark:border-blue-800 font-medium break-all",children:z||`Column ${B+1}`},B))})]})}),A&&w.jsx("div",{className:"absolute inset-0 bg-white/95 dark:bg-gray-900/95 z-20 flex flex-col items-center justify-center p-6 animate-in fade-in zoom-in-95 duration-200 overflow-y-auto",children:w.jsxs("div",{className:"w-full max-w-lg space-y-4 text-center my-auto",children:[w.jsxs("div",{className:"flex justify-between items-center mb-2",children:[w.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:e("csvToJson.selectSheet")}),w.jsx("button",{onClick:()=>O(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:w.jsx(en,{size:24})})]}),w.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("csvToJson.selectSheetDesc")}),w.jsx("div",{className:"grid grid-cols-1 gap-3 max-h-[300px] overflow-y-auto p-2",children:k.map((z,B)=>w.jsxs("button",{onClick:()=>Ie(z),className:"px-4 py-4 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/40 transition-colors border border-green-200 dark:border-green-800 font-medium flex items-center justify-center gap-2",children:[w.jsx(ml,{size:18}),z]},B))})]})}),R&&w.jsx("div",{className:"absolute inset-0 bg-white/95 dark:bg-gray-900/95 z-20 flex flex-col items-center justify-center p-6 animate-in fade-in zoom-in-95 duration-200 overflow-y-auto",children:w.jsxs("div",{className:"w-full max-w-lg space-y-4 text-center my-auto flex flex-col h-full max-h-[500px]",children:[w.jsxs("div",{className:"flex justify-between items-center mb-2 flex-shrink-0",children:[w.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:e("csvToJson.selectLanguages")}),w.jsx("button",{onClick:()=>E(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:w.jsx(en,{size:24})})]}),w.jsx("p",{className:"text-gray-600 dark:text-gray-300 flex-shrink-0",children:e("csvToJson.selectLanguagesDesc")}),w.jsx("div",{className:"grid grid-cols-2 gap-3 overflow-y-auto p-2 border border-gray-100 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800/50",children:$.map((z,B)=>{if(B===G||!z)return null;const J=N.includes(B);return w.jsxs("button",{onClick:()=>{D(Q=>J?Q.filter(le=>le!==B):[...Q,B])},className:`px-3 py-2 text-left rounded-lg transition-colors border flex items-center gap-3 ${J?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 border-blue-200 dark:border-blue-800":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[w.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${J?"bg-blue-600 border-blue-600":"border-gray-400"}`,children:J&&w.jsx(ai,{size:12,className:"text-white"})}),w.jsx("span",{className:"truncate",children:z})]},B)})}),w.jsx("div",{className:"flex-shrink-0 pt-4",children:w.jsxs("button",{onClick:mt,disabled:N.length===0,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[w.jsx(ai,{size:20}),e("csvToJson.processSelected",{count:N.length})]})})]})}),t==="import"?w.jsx(bl,{onFilesDropped:z=>{z.length>0&&Ce(z[0])},accept:".csv,text/csv,.xlsx,.xls,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel",validator:z=>z.name.endsWith(".csv")||z.name.endsWith(".xlsx")||z.name.endsWith(".xls"),dragDropText:e("csvToJson.dragDrop"),supportedText:"Supports .csv, .xlsx, .xls"}):w.jsx(bl,{onFilesDropped:xr,accept:".json,.xml,.strings",validator:z=>z.name.endsWith(".json")||z.name.endsWith(".xml")||z.name.endsWith(".strings"),dragDropText:e("csvToJson.dragDropExport"),supportedText:e("csvToJson.supportsExport")}),n&&w.jsxs("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center gap-2",children:[w.jsx(Ey,{size:20}),n]}),a&&w.jsxs("div",{className:"mt-4 p-4 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 rounded-lg",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsx(ai,{size:20}),a]}),t==="import"&&f.length>0&&w.jsxs("div",{className:"ml-7 text-sm",children:[w.jsx("span",{className:"font-semibold",children:e("csvToJson.detectedLanguages")})," ",f.join(", ")]}),t==="export"&&fe.length>0&&w.jsxs("div",{className:"ml-7 text-sm",children:[w.jsx("span",{className:"font-semibold",children:e("csvToJson.processedFiles")})," ",fe.map(z=>z.name).join(", ")]})]}),t==="import"&&l&&w.jsx("div",{className:"mt-6 flex justify-center",children:w.jsxs("button",{onClick:Bt,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm font-medium",children:[w.jsx(yl,{size:20}),e("csvToJson.downloadAll")]})}),t==="export"&&de&&de.length>0&&w.jsxs("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden relative",children:[tt&&w.jsx("div",{className:"absolute inset-0 bg-white/50 dark:bg-gray-800/50 z-20 flex items-center justify-center backdrop-blur-sm",children:w.jsxs("div",{className:"bg-white dark:bg-gray-900 p-3 rounded-full shadow-lg flex items-center gap-2",children:[w.jsx(vl,{className:"w-5 h-5 text-blue-600 animate-spin"}),w.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:e("common.sorting","Sorting...")})]})}),w.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 flex flex-col sm:flex-row justify-between items-center gap-4",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-white flex items-center gap-2",children:[w.jsx(ml,{size:18,className:"text-blue-500"}),e("csvToJson.previewData","Data Preview")]}),w.jsxs("div",{className:"relative",children:[w.jsx(x0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),w.jsx("input",{type:"text",placeholder:e("csvToJson.searchPlaceholder","Search..."),value:he,onChange:z=>Xe(z.target.value),className:"pl-9 pr-4 py-1.5 text-sm border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none w-48 transition-all focus:w-64"})]})]}),w.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e("csvToJson.totalRows","Total Rows"),": ",de.length-1]})]}),w.jsx("div",{className:"overflow-x-auto max-h-[500px]",children:w.jsxs("table",{className:"w-full text-sm text-left",children:[w.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 sticky top-0 z-10",children:w.jsx("tr",{children:de[0].map((z,B)=>w.jsx("th",{className:"px-6 py-3 whitespace-nowrap font-semibold border-b border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors select-none group",onClick:()=>{rt(!0),setTimeout(()=>{let J="asc";we.key===B&&we.direction==="asc"&&(J="desc"),Me({key:B,direction:J}),rt(!1)},10)},children:w.jsxs("div",{className:"flex items-center gap-2",children:[z,w.jsx("span",{className:"text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300",children:we.key===B?we.direction==="asc"?w.jsx(Sy,{size:14}):w.jsx(Ny,{size:14}):w.jsx(Cy,{size:14,className:"opacity-0 group-hover:opacity-50"})})]})},B))})}),w.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:de.slice(1).filter(z=>{if(!Ge)return!0;const B=Ge.toLowerCase();return z.some(J=>String(J).toLowerCase().includes(B))}).sort((z,B)=>{if(we.key===null)return 0;const J=String(z[we.key]||"").toLowerCase(),Q=String(B[we.key]||"").toLowerCase();return J<Q?we.direction==="asc"?-1:1:J>Q?we.direction==="asc"?1:-1:0}).map((z,B)=>w.jsx("tr",{onClick:()=>{ke(z),Fe(!0)},className:"bg-white hover:bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700/50 transition-colors cursor-pointer group",children:z.map((J,Q)=>w.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-gray-600 dark:text-gray-300 border-r border-gray-100 dark:border-gray-700 last:border-r-0 max-w-[300px] truncate relative",title:String(J),children:String(J)},Q))},B))})]})})]}),Ue&&ge&&de&&w.jsx("div",{className:"absolute inset-0 bg-white/95 dark:bg-gray-900/95 z-50 flex flex-col items-center justify-center p-6 animate-in fade-in zoom-in-95 duration-200",children:w.jsxs("div",{className:"w-full max-w-3xl bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 flex flex-col max-h-[80vh]",children:[w.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[w.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[w.jsx(Ry,{size:20,className:"text-blue-500"}),e("csvToJson.rowDetails","Row Details")]}),w.jsx("button",{onClick:()=>Fe(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:w.jsx(en,{size:24})})]}),w.jsx("div",{className:"overflow-y-auto p-6 space-y-4",children:de[0].map((z,B)=>w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsx("span",{className:"text-xs font-semibold uppercase text-gray-500 dark:text-gray-400",children:z}),w.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg text-sm text-gray-800 dark:text-gray-200 break-words whitespace-pre-wrap font-mono",children:String(ge[B])})]},B))}),w.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 rounded-b-xl flex justify-end",children:w.jsx("button",{onClick:()=>Fe(!1),className:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:e("common.close","Close")})})]})}),t==="export"&&qe&&w.jsxs("div",{className:"mt-6 flex justify-center gap-4",children:[w.jsxs("button",{onClick:wr,className:"flex items-center gap-2 px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors shadow-sm font-medium",children:[w.jsx(yl,{size:20}),e("csvToJson.downloadCsv")]}),w.jsxs("button",{onClick:Qr,className:"flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm font-medium",children:[w.jsx(qy,{size:20}),e("csvToJson.downloadExcel")]})]})]}),t==="import"&&l&&f.length>0&&w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[w.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 p-2 bg-gray-50 dark:bg-gray-900/50",children:[w.jsxs("div",{className:"flex gap-1",children:[w.jsxs("button",{onClick:()=>{m("json"),ae("text")},className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${g==="json"?"bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:bg-white/50 dark:hover:bg-gray-800/50"}`,children:[w.jsx("img",{src:m0,alt:"JSON",className:"w-5 h-5"}),e("csvToJson.formats.json")]}),w.jsxs("button",{onClick:()=>{m("android"),ae("text")},className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${g==="android"?"bg-white dark:bg-gray-800 text-green-600 dark:text-green-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:bg-white/50 dark:hover:bg-gray-800/50"}`,children:[w.jsx("img",{src:y0,alt:"Android",className:"w-5 h-5"}),e("csvToJson.formats.android")]}),w.jsxs("button",{onClick:()=>{m("ios"),ae("text")},className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${g==="ios"?"bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:bg-white/50 dark:hover:bg-gray-800/50"}`,children:[w.jsx("img",{src:b0,alt:"iOS",className:"w-5 h-5"}),e("csvToJson.formats.ios")]})]}),g==="json"&&w.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-700 p-0.5 rounded-lg",children:[w.jsx("button",{onClick:()=>ae("text"),className:`px-3 py-1 rounded-md text-xs font-medium transition-all ${ie==="text"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 shadow-sm":"text-gray-500 dark:text-gray-400"}`,children:"Text"}),w.jsxs("button",{onClick:()=>ae("mindmap"),className:`flex items-center gap-1.5 px-3 py-1 rounded-md text-xs font-medium transition-all ${ie==="mindmap"?"bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-500 dark:text-gray-400"}`,children:[w.jsx(Ay,{size:14}),"Mindmap"]})]})]}),w.jsx("div",{className:"flex overflow-x-auto border-b border-gray-200 dark:border-gray-700",children:f.map(z=>w.jsx("button",{onClick:()=>p(z),className:`px-4 py-3 text-sm font-medium whitespace-nowrap transition-colors ${h===z?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:z},z))}),w.jsxs("div",{className:"p-4 h-[600px] flex flex-col",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-3 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[g==="json"&&w.jsx("img",{src:m0,alt:"JSON",className:"w-6 h-6"}),g==="android"&&w.jsx("img",{src:y0,alt:"Android",className:"w-6 h-6"}),g==="ios"&&w.jsx("img",{src:b0,alt:"iOS",className:"w-6 h-6"}),w.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-white",children:[h,g==="json"?".json":g==="android"?".xml":".strings"]})]}),w.jsx("div",{className:"flex-1 overflow-hidden relative rounded-lg border border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:ie==="text"?w.jsx("pre",{className:"absolute inset-0 overflow-auto p-4 text-xs text-gray-600 dark:text-gray-300 font-mono",children:yt()}):w.jsx(Oq,{data:l.json[h]})})]})]})]})}const oy=(e,t="")=>{let r={};for(const n in e)if(typeof e[n]=="object"&&e[n]!==null){const i=oy(e[n],t?`${t}.${n}`:n);r={...r,...i}}else r[t?`${t}.${n}`:n]=String(e[n]);return r},jq=e=>{const n=new DOMParser().parseFromString(e,"text/xml").getElementsByTagName("string"),i={};for(let a=0;a<n.length;a++){const o=n[a].getAttribute("name");o&&(i[o]=n[a].textContent||"")}return i},$q=e=>{const t={},r=e.split(`
`),n=/"(.+)"\s*=\s*"(.+)";/;for(const i of r){const a=i.match(n);a&&(t[a[1]]=a[2])}return t};export{Gq as CsvToJsonConverter};
