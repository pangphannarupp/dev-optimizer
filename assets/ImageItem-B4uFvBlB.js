import{j as e,W as x,Y as h,o as u,$ as m,X as p}from"./ui-vendor-DEvE63cZ.js";import{u as b}from"./index-DH-nAFKK.js";import"./react-vendor-BGp5FbCG.js";import"./framer-vendor-DEiCTn3G.js";import"./utils-vendor-CJFcDo9C.js";const d=r=>{if(r===0)return"0 B";const s=1024,t=["B","KB","MB","GB"],l=Math.floor(Math.log(r)/Math.log(s));return parseFloat((r/Math.pow(s,l)).toFixed(2))+" "+t[l]},f=({item:r,onRemove:s,onUpdate:t,onProcess:l,onDownload:c})=>{const i=r.status==="processing",o=r.status==="done",g=r.status==="error",{t:a}=b();return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 shadow-sm flex items-center gap-4 transition-all hover:shadow-md",children:[e.jsx("div",{className:"relative w-16 h-16 flex-shrink-0 rounded-md overflow-hidden bg-gray-100 dark:bg-gray-900 border border-gray-200 dark:border-gray-700",children:e.jsx("img",{src:r.previewUrl,alt:"Preview",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white truncate",title:r.originalFile.name,children:r.originalFile.name}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded",children:d(r.originalFile.size)})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[e.jsxs("select",{value:r.targetFormat,onChange:n=>t(r.id,{targetFormat:n.target.value}),disabled:i||o,className:"text-sm border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 py-1 px-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-white outline-none",children:[e.jsx("option",{value:"image/jpeg",children:"JPG"}),e.jsx("option",{value:"image/png",children:"PNG"}),e.jsx("option",{value:"image/webp",children:"WEBP"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[a("settings.quality"),":"]}),e.jsx("input",{type:"range",min:"10",max:"100",value:r.quality*100,onChange:n=>t(r.id,{quality:parseInt(n.target.value)/100}),disabled:i||o,className:"w-24 h-1.5 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-600"}),e.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300 w-8",children:[Math.round(r.quality*100),"%"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[o&&r.processedBlob&&e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:d(r.processedBlob.size)}),e.jsx("div",{className:"text-xs text-green-700 dark:text-green-500",children:a("imageItem.savedPercentage",{percentage:Math.round((1-r.processedBlob.size/r.originalFile.size)*100)})})]}),g&&e.jsx("div",{className:"text-red-500",title:r.error,children:e.jsx(x,{size:20})}),i?e.jsx(h,{className:"animate-spin text-blue-500",size:20}):o?e.jsx("button",{onClick:()=>c(r.id),className:"p-2 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-full transition-colors",title:a("imageItem.download"),children:e.jsx(u,{size:20})}):e.jsx("button",{onClick:()=>l(r.id),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full transition-colors",title:a("imageItem.process"),children:e.jsx(m,{size:20})}),e.jsx("button",{onClick:()=>s(r.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-full transition-colors",title:a("imageItem.remove"),children:e.jsx(p,{size:20})})]})]})};export{f as ImageItem};
