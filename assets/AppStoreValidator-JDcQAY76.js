import{j as g,y as Y,R as K,X as Q}from"./ui-vendor-DEvE63cZ.js";import{g as ee,r as E}from"./react-vendor-BGp5FbCG.js";import{DropZone as te}from"./DropZone-DQm83MhS.js";import{w as B,a as M,b as re,k as ne,i as z,d as F,e as O,I as se,u as ae,c as W}from"./index-DH-nAFKK.js";import"./framer-vendor-DEiCTn3G.js";import"./utils-vendor-CJFcDo9C.js";var ie={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const oe=ee(ie);var le=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function _(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(oe[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var s=e.indexOf("-->");return{type:"comment",comment:s!==-1?e.slice(4,s):""}}for(var d=new RegExp(le),a=null;(a=d.exec(e))!==null;)if(a[0].trim())if(a[1]){var p=a[1].trim(),m=[p,""];p.indexOf("=")>-1&&(m=p.split("=")),t.attrs[m[0]]=m[1],d.lastIndex--}else a[2]&&(t.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return t}var ce=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,de=/^\s*$/,pe=Object.create(null);function U(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(n){var s=[];for(var d in n)s.push(d+'="'+n[d]+'"');return s.length?" "+s.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(U,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var he={parse:function(e,t){t||(t={}),t.components||(t.components=pe);var n,s=[],d=[],a=-1,p=!1;if(e.indexOf("<")!==0){var m=e.indexOf("<");s.push({type:"text",content:m===-1?e:e.substring(0,m)})}return e.replace(ce,function(h,l){if(p){if(h!=="</"+n.name+">")return;p=!1}var r,x=h.charAt(1)!=="/",i=h.startsWith("<!--"),o=l+h.length,u=e.charAt(o);if(i){var b=_(h);return a<0?(s.push(b),s):((r=d[a]).children.push(b),s)}if(x&&(a++,(n=_(h)).type==="tag"&&t.components[n.name]&&(n.type="component",p=!0),n.voidElement||p||!u||u==="<"||n.children.push({type:"text",content:e.slice(o,e.indexOf("<",o))}),a===0&&s.push(n),(r=d[a-1])&&r.children.push(n),d[a]=n),(!x||n.voidElement)&&(a>-1&&(n.voidElement||n.name===h.slice(2,-1))&&(a--,n=a===-1?s:d[a]),!p&&u!=="<"&&u)){r=a===-1?s:d[a].children;var y=e.indexOf("<",o),T=e.slice(o,y===-1?void 0:y);de.test(T)&&(T=" "),(y>-1&&a+r.length>=0||T!==" ")&&r.push({type:"text",content:T})}}),s},stringify:function(e){return e.reduce(function(t,n){return t+U("",n)},"")}};const H=(e,t)=>{if(!e)return!1;const n=e.props?.children??e.children;return t?n.length>0:!!n},q=e=>{if(!e)return[];const t=e.props?.children??e.children;return e.props?.i18nIsDynamicList?I(t):t},me=e=>Array.isArray(e)&&e.every(E.isValidElement),I=e=>Array.isArray(e)?e:[e],ue=(e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n},Z=(e,t,n,s)=>{if(!e)return"";let d="";const a=I(e),p=t?.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return a.forEach((m,h)=>{if(z(m)){d+=`${m}`;return}if(E.isValidElement(m)){const{props:l,type:r}=m,x=Object.keys(l).length,i=p.indexOf(r)>-1,o=l.children;if(!o&&i&&!x){d+=`<${r}/>`;return}if(!o&&(!i||x)||l.i18nIsDynamicList){d+=`<${h}></${h}>`;return}if(i&&x===1&&z(o)){d+=`<${r}>${o}</${r}>`;return}const u=Z(o,t,n,s);d+=`<${h}>${u}</${h}>`;return}if(m===null){F(n,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:s});return}if(O(m)){const{format:l,...r}=m,x=Object.keys(r);if(x.length===1){const i=l?`${x[0]}, ${l}`:x[0];d+=`{{${i}}}`;return}F(n,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:s,child:m});return}F(n,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:s,child:m})}),d},ge=(e,t=[],n={})=>{if(!e)return e;const s=Object.keys(n),d=[...t,...s];let a="",p=0;for(;p<e.length;)if(e[p]==="<"){let m=!1;const h=e.slice(p).match(/^<\/(\d+|[a-zA-Z][a-zA-Z0-9-]*)>/);if(h){const l=h[1];(/^\d+$/.test(l)||d.includes(l))&&(m=!0,a+=h[0],p+=h[0].length)}if(!m){const l=e.slice(p).match(/^<(\d+|[a-zA-Z][a-zA-Z0-9-]*)(\s+[\w-]+(?:=(?:"[^"]*"|'[^']*'|[^\s>]+))?)*\s*(\/)?>/);if(l){const r=l[1];(/^\d+$/.test(r)||d.includes(r))&&(m=!0,a+=l[0],p+=l[0].length)}}m||(a+="&lt;",p+=1)}else a+=e[p],p+=1;return a},fe=(e,t,n,s,d,a,p)=>{if(n==="")return[];const m=d.transKeepBasicHtmlNodesFor||[],h=n&&new RegExp(m.map(w=>`<${w}`).join("|")).test(n);if(!e&&!t&&!h&&!p)return[n];const l=t??{},r=w=>{I(w).forEach(f=>{z(f)||(H(f)?r(q(f)):O(f)&&!E.isValidElement(f)&&Object.assign(l,f))})};r(e);const x=ge(n,m,l),i=he.parse(`<0>${x}</0>`),o={...l,...a},u=(w,N,f)=>{const A=q(w),D=y(A,N.children,f);return me(A)&&D.length===0||w.props?.i18nIsDynamicList?A:D},b=(w,N,f,A,D)=>{w.dummy?(w.children=N,f.push(E.cloneElement(w,{key:A},D?void 0:N))):f.push(...E.Children.map([w],j=>{const c="data-i18n-is-dynamic-list",S={key:A,[c]:void 0};return j&&j.props&&Object.keys(j.props).forEach(k=>{k==="ref"||k==="children"||k==="i18nIsDynamicList"||k===c||(S[k]=j.props[k])}),E.cloneElement(j,S,D?null:N)}))},y=(w,N,f)=>{const A=I(w);return I(N).reduce((j,c,S)=>{const k=c.children?.[0]?.content&&s.services.interpolator.interpolate(c.children[0].content,o,s.language);if(c.type==="tag"){let V=A[parseInt(c.name,10)];!V&&t&&(V=t[c.name]),f.length===1&&!V&&(V=f[0][c.name]),V||(V={});const v=Object.keys(c.attrs).length!==0?ue({props:c.attrs},V):V,C=E.isValidElement(v),R=C&&H(c,!0)&&!c.voidElement,X=h&&O(v)&&v.dummy&&!C,J=O(t)&&Object.hasOwnProperty.call(t,c.name);if(z(v)){const $=s.services.interpolator.interpolate(v,o,s.language);j.push($)}else if(H(v)||R){const $=u(v,c,f);b(v,$,j,S)}else if(X){const $=y(A,c.children,f);b(v,$,j,S)}else if(Number.isNaN(parseFloat(c.name)))if(J){const $=u(v,c,f);b(v,$,j,S,c.voidElement)}else if(d.transSupportBasicHtmlNodes&&m.indexOf(c.name)>-1)if(c.voidElement)j.push(E.createElement(c.name,{key:`${c.name}-${S}`}));else{const $=y(A,c.children,f);j.push(E.createElement(c.name,{key:`${c.name}-${S}`},$))}else if(c.voidElement)j.push(`<${c.name} />`);else{const $=y(A,c.children,f);j.push(`<${c.name}>${$}</${c.name}>`)}else if(O(v)&&!C){const $=c.children[0]?k:null;$&&j.push($)}else b(v,k,j,S,c.children.length!==1||!k)}else if(c.type==="text"){const V=d.transWrapTextNodes,v=p?d.unescape(s.services.interpolator.interpolate(c.content,o,s.language)):s.services.interpolator.interpolate(c.content,o,s.language);V?j.push(E.createElement(V,{key:`${c.name}-${S}`},v)):j.push(v)}return j},[])},T=y([{dummy:!0,children:e||[]}],i,I(e||[]));return q(T[0])},G=(e,t,n)=>{const s=e.key||t,d=E.cloneElement(e,{key:s});if(!d.props||!d.props.children||n.indexOf(`${t}/>`)<0&&n.indexOf(`${t} />`)<0)return d;function a(){return E.createElement(E.Fragment,null,d)}return E.createElement(a,{key:s})},xe=(e,t)=>e.map((n,s)=>G(n,s,t)),ye=(e,t)=>{const n={};return Object.keys(e).forEach(s=>{Object.assign(n,{[s]:G(e[s],s,t)})}),n},be=(e,t,n,s)=>e?Array.isArray(e)?xe(e,t):O(e)?ye(e,t):(B(n,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:s}),null):null,je=e=>!O(e)||Array.isArray(e)?!1:Object.keys(e).reduce((t,n)=>t&&Number.isNaN(Number.parseFloat(n)),!0);function we({children:e,count:t,parent:n,i18nKey:s,context:d,tOptions:a={},values:p,defaults:m,components:h,ns:l,i18n:r,t:x,shouldUnescape:i,...o}){const u=r||M();if(!u)return B(u,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:s}),e;const b=x||u.t.bind(u)||(R=>R),y={...re(),...u.options?.react};let T=l||b.ns||u.options?.defaultNS;T=z(T)?[T]:T||["translation"];const w=Z(e,y,u,s),N=m||a?.defaultValue||w||y.transEmptyNodeValue||(typeof s=="function"?ne(s):s),{hashTransKey:f}=y,A=s||(f?f(w||N):w||N);u.options?.interpolation?.defaultVariables&&(p=p&&Object.keys(p).length>0?{...p,...u.options.interpolation.defaultVariables}:{...u.options.interpolation.defaultVariables});const D=p||t!==void 0&&!u.options?.interpolation?.alwaysFormat||!e?a.interpolation:{interpolation:{...a.interpolation,prefix:"#$?",suffix:"?$#"}},j={...a,context:d||a.context,count:t,...p,...D,defaultValue:N,ns:T};let c=A?b(A,j):N;c===A&&N&&(c=N);const S=be(h,c,u,s);let k=S||e,V=null;je(S)&&(V=S,k=e);const v=fe(k,V,c,u,y,j,i),C=n??y.defaultTransParent;return C?E.createElement(C,o,v):v}function ve({children:e,count:t,parent:n,i18nKey:s,context:d,tOptions:a={},values:p,defaults:m,components:h,ns:l,i18n:r,t:x,shouldUnescape:i,...o}){const{i18n:u,defaultNS:b}=E.useContext(se)||{},y=r||u||M(),T=x||y?.t.bind(y);return we({children:e,count:t,parent:n,i18nKey:s,context:d,tOptions:a,values:p,defaults:m,components:h,ns:l||T?.ns||b||y?.options?.defaultNS,i18n:y,t:x,shouldUnescape:i,...o})}const P={playStore:{name:"Google Play Store",icon:{name:"App Icon",width:512,height:512,maxSizeBytes:1024*1024,allowedTypes:["png"],required:!0},feature:{name:"Feature Graphic",width:1024,height:500,maxSizeBytes:1024*1024,allowedTypes:["png","jpg","jpeg"],required:!0},screenshots:{phone:{name:"Phone Screenshots",minWidth:320,minHeight:320,maxDimension:3840,maxAspectRatio:2.1,allowedTypes:["png","jpg","jpeg"],required:!0,noSquare:!0},tablet7:{name:"7-inch Tablet Screenshots",minWidth:320,minHeight:320,maxDimension:3840,allowedTypes:["png","jpg","jpeg"],required:!1,noSquare:!0},tablet10:{name:"10-inch Tablet Screenshots",minWidth:320,minHeight:320,maxDimension:3840,allowedTypes:["png","jpg","jpeg"],required:!1,noSquare:!0}}},appStore:{name:"Apple App Store",icon:{name:"App Icon",width:1024,height:1024,allowedTypes:["png","jpg","jpeg"],required:!0,noTransparency:!0},screenshots:{iphone65:{name:'iPhone 6.5" Display (1284 x 2778 or 1242 x 2688)',allowedTypes:["png","jpg","jpeg"],required:!0,minWidth:1242,minHeight:2208},iphone55:{name:'iPhone 5.5" Display (1242 x 2208)',width:1242,height:2208,allowedTypes:["png","jpg","jpeg"],required:!0},ipad:{name:"iPad Pro (2nd/3rd Gen) (2048 x 2732)",width:2048,height:2732,allowedTypes:["png","jpg","jpeg"],required:!0},phone:{name:"iPhone Screenshots",allowedTypes:["png","jpg","jpeg"],required:!0}}},huawei:{name:"Huawei AppGallery",icon:{name:"App Icon",width:216,height:216,allowedTypes:["png"],required:!0},screenshots:{phone:{name:"Phone Screenshots",minWidth:320,minHeight:320,maxDimension:3840,allowedTypes:["png","jpg","jpeg"],required:!0}}}},$e=()=>{const{t:e}=ae(),[t,n]=E.useState("playStore"),[s,d]=E.useState({}),a=P[t],p=async(l,r)=>new Promise(x=>{const i=new Image;i.onload=()=>{const o=[],u=l.name.split(".").pop()?.toLowerCase();if(r.allowedTypes.includes(u||"")||o.push(e("storeValidator.invalidFileType",{allowed:r.allowedTypes.join(", ")})),r.width&&i.width!==r.width&&o.push(e("storeValidator.widthError",{width:r.width,found:i.width})),r.height&&i.height!==r.height&&o.push(e("storeValidator.heightError",{height:r.height,found:i.height})),r.minWidth&&i.width<r.minWidth&&o.push(e("storeValidator.minWidthError",{minWidth:r.minWidth,found:i.width})),r.minHeight&&i.height<r.minHeight&&o.push(e("storeValidator.minHeightError",{minHeight:r.minHeight,found:i.height})),r.maxSizeBytes&&l.size>r.maxSizeBytes&&o.push(e("storeValidator.fileTooLarge",{max:(r.maxSizeBytes/1024/1024).toFixed(1),found:(l.size/1024/1024).toFixed(2)})),r.maxDimension){const b=Math.max(i.width,i.height);b>r.maxDimension&&o.push(e("storeValidator.maxDimensionError",{max:r.maxDimension,found:b}))}if(r.maxAspectRatio&&Math.max(i.width,i.height)/Math.max(Math.min(i.width,i.height),1)>r.maxAspectRatio&&o.push(e("storeValidator.aspectRatioError")),r.noSquare&&i.width===i.height&&o.push(e("storeValidator.squareError")),r.noTransparency){const b=document.createElement("canvas");b.width=i.width,b.height=i.height;const y=b.getContext("2d");if(y){y.drawImage(i,0,0);const w=y.getImageData(0,0,b.width,b.height).data;let N=!1;for(let f=3;f<w.length;f+=4)if(w[f]<255){N=!0;break}N&&o.push(e("storeValidator.transparencyError"))}}x({valid:o.length===0,errors:o,width:i.width,height:i.height,size:l.size})},i.onerror=()=>{x({valid:!1,errors:[e("storeValidator.failedToLoad")]})},i.src=URL.createObjectURL(l)}),m=(l,r)=>async x=>{for(const i of x){const o=await p(i,r);d(u=>({...u,[`${l}-${i.name}`]:o}))}},h=(l,r,x)=>g.jsxs("div",{className:"flex flex-col gap-2 p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[g.jsx("div",{className:"flex justify-between items-start mb-2",children:g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:x||r.name}),g.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r.width?`${r.width}x${r.height}`:`Min ${r.minWidth}x${r.minHeight}`,r.maxDimension&&` • Max ${r.maxDimension}px`,r.allowedTypes.length>0&&` • ${r.allowedTypes.join("/").toUpperCase()}`]})]})}),g.jsx(te,{onFilesDropped:m(l,r),multiple:l.includes("screenshots"),accept:r.allowedTypes.map(i=>`.${i}`).join(","),validator:()=>!0,supportedText:e("storeValidator.dropToValidate"),className:"min-h-[120px]"}),g.jsx("div",{className:"flex flex-col gap-2 mt-2",children:Object.entries(s).filter(([i])=>i.startsWith(`${l}-`)).map(([i,o])=>{const u=i.replace(`${l}-`,"");return g.jsxs("div",{className:W("flex items-center gap-2 p-2 rounded text-sm border",o.valid?"bg-green-50 border-green-200 dark:bg-green-900/10 dark:border-green-900/30":"bg-red-50 border-red-200 dark:bg-red-900/10 dark:border-red-900/30"),children:[o.valid?g.jsx(K,{size:16,className:"text-green-600"}):g.jsx(Q,{size:16,className:"text-red-600"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-300 truncate",children:u}),o.errors.length>0&&g.jsx("div",{className:"text-xs text-red-600 dark:text-red-400",children:o.errors.join(", ")}),o.valid&&g.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400",children:[o.width,"x",o.height," • ",(o.size/1024).toFixed(1)," KB"]})]})]},i)})})]});return g.jsxs("div",{className:"p-6 max-w-6xl mx-auto flex flex-col gap-6",children:[g.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[g.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:e("storeValidator.title")}),g.jsx("div",{className:"flex bg-gray-100 dark:bg-gray-800 p-1 rounded-lg",children:Object.keys(P).map(l=>g.jsx("button",{onClick:()=>{n(l),d({})},className:W("px-4 py-2 rounded-md text-sm font-medium transition-all",t===l?"bg-white dark:bg-gray-700 shadow-sm text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"),children:P[l].name},l))})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.icon&&h("icon",a.icon,e("storeValidator.appIcon")),a.feature&&h("feature",a.feature,e("storeValidator.featureGraphic")),a.screenshots.phone&&h("ss-phone",a.screenshots.phone,e("storeValidator.phoneScreenshots")),t==="playStore"&&g.jsxs(g.Fragment,{children:[h("ss-tab7",L.playStore.screenshots.tablet7,e("storeValidator.tablet7")),h("ss-tab10",L.playStore.screenshots.tablet10,e("storeValidator.tablet10"))]}),t==="appStore"&&g.jsxs(g.Fragment,{children:[h("ss-iphone65",L.appStore.screenshots.iphone65,e("storeValidator.iphone65")),h("ss-iphone55",L.appStore.screenshots.iphone55,e("storeValidator.iphone55")),h("ss-ipad",L.appStore.screenshots.ipad,e("storeValidator.ipadPro"))]})]}),g.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/10 rounded-lg border border-blue-100 dark:border-blue-900/30 text-sm text-blue-700 dark:text-blue-300 flex items-start gap-3",children:[g.jsx(Y,{className:"flex-shrink-0 mt-0.5",size:18}),g.jsxs("div",{children:[g.jsx("div",{children:g.jsx(ve,{i18nKey:"storeValidator.usingSpecs",values:{name:a.name},components:[g.jsx("strong",{},"0")],defaults:"Using specs for <0>{{name}}</0>. Drag images to check dimensions and file size limits."})}),g.jsx("div",{children:e("storeValidator.redIndicators")})]})]})]})},L=P;export{$e as AppStoreValidator};
