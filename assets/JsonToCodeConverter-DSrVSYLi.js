import{j as r,af as T,ag as J,ah as z,W as L,ai as I,b as D,f as h,R as M,ae as R}from"./ui-vendor-DEvE63cZ.js";import{r as p}from"./react-vendor-BGp5FbCG.js";import{u as B,c as A}from"./index-DH-nAFKK.js";import{m as F}from"./framer-vendor-DEiCTn3G.js";import"./utils-vendor-CJFcDo9C.js";const d=t=>t.charAt(0).toUpperCase()+t.slice(1),N=t=>Array.isArray(t)?t.length===0?"any[]":`${N(t[0])}[]`:t===null?"any":typeof t=="object"?"object":typeof t=="boolean"?"boolean":typeof t=="number"?"number":"string",$=t=>Array.isArray(t)?t.length===0?"List<Any>":`List<${$(t[0])}>`:t===null?"Any?":typeof t=="object"?"Any":typeof t=="boolean"?"Boolean":typeof t=="number"?Number.isInteger(t)?"Int":"Double":"String",S=t=>Array.isArray(t)?t.length===0?"[Any]":`[${S(t[0])}]`:t===null?"Any?":typeof t=="object"?"Any":typeof t=="boolean"?"Bool":typeof t=="number"?Number.isInteger(t)?"Int":"Double":"String",k=t=>Array.isArray(t)?t.length===0?"List<dynamic>":`List<${k(t[0])}>`:t===null?"dynamic":typeof t=="object"?"Object":typeof t=="boolean"?"bool":typeof t=="number"?Number.isInteger(t)?"int":"double":"String",K=(t,f)=>{let n="";const a=new Map,l=(o,i)=>{a.has(o)||(a.set(o,i),Object.entries(i).forEach(([s,e])=>{e!==null&&typeof e=="object"&&!Array.isArray(e)?l(d(s),e):Array.isArray(e)&&e.length>0&&typeof e[0]=="object"&&l(d(s),e[0])}))};return l(f,t),a.forEach((o,i)=>{n+=`export interface ${i} {
`,Object.entries(o).forEach(([s,e])=>{let c=N(e);e!==null&&typeof e=="object"&&!Array.isArray(e)?c=d(s):Array.isArray(e)&&e.length>0&&typeof e[0]=="object"&&(c=`${d(s)}[]`),n+=`    ${s}: ${c};
`}),n+=`}

`}),n.trim()},G=(t,f)=>{let n="";const a=new Map,l=(o,i)=>{a.has(o)||(a.set(o,i),Object.entries(i).forEach(([s,e])=>{e!==null&&typeof e=="object"&&!Array.isArray(e)?l(d(s),e):Array.isArray(e)&&e.length>0&&typeof e[0]=="object"&&l(d(s),e[0])}))};return l(f,t),a.forEach((o,i)=>{n+=`data class ${i}(
`;const s=Object.entries(o);s.forEach(([e,c],b)=>{let y=$(c);c!==null&&typeof c=="object"&&!Array.isArray(c)?y=d(e):Array.isArray(c)&&c.length>0&&typeof c[0]=="object"&&(y=`List<${d(e)}>`);const x=b<s.length-1?",":"";n+=`    val ${e}: ${y}${x}
`}),n+=`)

`}),n.trim()},P=(t,f)=>{let n="";const a=new Map,l=(o,i)=>{a.has(o)||(a.set(o,i),Object.entries(i).forEach(([s,e])=>{e!==null&&typeof e=="object"&&!Array.isArray(e)?l(d(s),e):Array.isArray(e)&&e.length>0&&typeof e[0]=="object"&&l(d(s),e[0])}))};return l(f,t),a.forEach((o,i)=>{n+=`struct ${i}: Codable {
`,Object.entries(o).forEach(([s,e])=>{let c=S(e);e!==null&&typeof e=="object"&&!Array.isArray(e)?c=d(s):Array.isArray(e)&&e.length>0&&typeof e[0]=="object"&&(c=`[${d(s)}]`),n+=`    let ${s}: ${c}
`}),n+=`}

`}),n.trim()},W=(t,f)=>{let n="";const a=new Map,l=(o,i)=>{a.has(o)||(a.set(o,i),Object.entries(i).forEach(([s,e])=>{e!==null&&typeof e=="object"&&!Array.isArray(e)?l(d(s),e):Array.isArray(e)&&e.length>0&&typeof e[0]=="object"&&l(d(s),e[0])}))};return l(f,t),a.forEach((o,i)=>{n+=`class ${i} {
`,Object.entries(o).forEach(([s,e])=>{let c=k(e);e!==null&&typeof e=="object"&&!Array.isArray(e)?c=d(s):Array.isArray(e)&&e.length>0&&typeof e[0]=="object"&&(c=`List<${d(s)}>`),n+=`  final ${c} ${s};
`}),n+=`
  ${i}({
`,Object.entries(o).forEach(([s])=>{n+=`    required this.${s},
`}),n+=`  });
`,n+=`
  factory ${i}.fromJson(Map<String, dynamic> json) {
`,n+=`    return ${i}(
`,Object.entries(o).forEach(([s,e])=>{e!==null&&typeof e=="object"&&!Array.isArray(e)?n+=`      ${s}: ${d(s)}.fromJson(json['${s}']),
`:Array.isArray(e)&&e.length>0&&typeof e[0]=="object"?n+=`      ${s}: (json['${s}'] as List).map((i) => ${d(s)}.fromJson(i)).toList(),
`:n+=`      ${s}: json['${s}'],
`}),n+=`    );
  }
`,n+=`}

`}),n.trim()},q=(t,f,n)=>{try{const a=JSON.parse(t);switch(f){case"typescript":return K(a,n);case"kotlin":return G(a,n);case"swift":return P(a,n);case"dart":return W(a,n);default:return""}}catch(a){return`Error parsing JSON: ${a.message}`}},X=()=>{const{t}=B(),[f,n]=p.useState(""),[a,l]=p.useState(""),[o,i]=p.useState("typescript"),[s,e]=p.useState("Root"),[c,b]=p.useState(!1),[y,x]=p.useState(""),[u,j]=p.useState({lines:0,chars:0});p.useEffect(()=>{if(!f.trim()){l(""),x(""),j({lines:0,chars:0});return}try{JSON.parse(f),x("");const g=q(f,o,s);l(g),j({lines:g.split(`
`).length,chars:g.length})}catch(g){x(g.message)}},[f,o,s]);const w=async()=>{await navigator.clipboard.writeText(a),b(!0),setTimeout(()=>b(!1),2e3)},C=()=>{n(JSON.stringify({id:"user_123456",profile:{name:"Sarah Connor",email:"sarah@skynet.com",verified:!0,settings:{theme:"dark",notifications:{email:!0,push:!1}}},tags:["admin","beta-tester"],lastLogin:1709856e3},null,2))},m=({id:g,label:O,icon:E})=>r.jsxs("button",{onClick:()=>i(g),className:A("relative flex items-center gap-2 px-4 py-2 text-sm font-medium transition-all rounded-lg",o===g?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 ring-1 ring-blue-200 dark:ring-blue-800":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[r.jsx(E,{size:16}),O]});return r.jsxs("div",{className:"flex flex-col gap-6 max-w-[1600px] mx-auto w-full h-full p-2",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:r.jsx(T,{className:"text-blue-600 dark:text-blue-400",size:24})}),t("jsonToCode.title","JSON to Code")]}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 ml-14",children:t("jsonToCode.description","Generate type-safe models for your apps")})]}),r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/40 rounded-lg transition-colors",children:[r.jsx(J,{size:16}),t("jsonToCode.loadExample","Load Example")]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 flex-1 min-h-0 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.jsxs("div",{className:"flex flex-col border-r border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:[r.jsxs("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[r.jsx(z,{size:18,className:"text-gray-500"}),t("jsonToCode.inputJson","JSON Input")]}),y&&r.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-500 font-medium bg-red-50 dark:bg-red-900/20 px-2 py-1 rounded",children:[r.jsx(L,{size:14}),t("common.invalidJson","Invalid JSON")]}),!y&&f&&r.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600 dark:text-green-400 font-medium bg-green-50 dark:bg-green-900/20 px-2 py-1 rounded",children:[r.jsx(I,{size:14}),t("common.validJson","Valid JSON")]})]}),r.jsx("div",{className:"relative flex-1",children:r.jsx("textarea",{value:f,onChange:g=>n(g.target.value),placeholder:t("jsonFormatter.inputPlaceholder","// Paste your JSON here..."),className:A("absolute inset-0 w-full h-full p-6 font-mono text-sm focus:outline-none resize-none bg-transparent leading-relaxed",y?"text-red-500/80":"text-gray-800 dark:text-gray-200"),spellCheck:"false",style:{tabSize:2}})})]}),r.jsxs("div",{className:"flex flex-col bg-slate-50 dark:bg-[#0d1117] lg:bg-opacity-50",children:[r.jsx("div",{className:"flex flex-col gap-4 p-4 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex p-1 bg-gray-200/50 dark:bg-gray-800 rounded-lg",children:[r.jsx(m,{id:"typescript",label:"TS",icon:D}),r.jsx(m,{id:"kotlin",label:"Kotlin",icon:h}),r.jsx(m,{id:"swift",label:"Swift",icon:h}),r.jsx(m,{id:"dart",label:"Dart",icon:h})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Root Name"}),r.jsx("input",{type:"text",value:s,onChange:g=>e(g.target.value),className:"w-32 px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all font-mono"})]})]})}),r.jsx("div",{className:"relative flex-1 group",children:a?r.jsxs(r.Fragment,{children:[r.jsx("textarea",{value:a,readOnly:!0,className:"absolute inset-0 w-full h-full p-6 font-mono text-sm bg-transparent text-slate-800 dark:text-slate-300 focus:outline-none resize-none leading-relaxed",style:{tabSize:2}}),r.jsx(F.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:w,className:"absolute top-6 right-6 p-2.5 bg-white dark:bg-gray-700 shadow-md border border-gray-200 dark:border-gray-600 rounded-lg text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-600 transition-all z-10",title:t("common.copy"),children:c?r.jsx(M,{size:18,className:"text-green-500"}):r.jsx(R,{size:18})}),r.jsxs("div",{className:"absolute bottom-4 right-6 text-xs text-gray-400 font-mono pointer-events-none select-none",children:[u.lines," lines â€¢ ",u.chars," chars"]})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 dark:text-gray-600",children:[r.jsx(h,{size:48,className:"mb-4 opacity-50"}),r.jsx("p",{className:"text-sm",children:"Generated code will appear here"})]})})]})]})]})};export{X as JsonToCodeConverter};
